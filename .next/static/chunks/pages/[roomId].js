/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/[roomId]"],{

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[7].oneOf[3].use[1]!./node_modules/next/dist/build/webpack/loaders/next-font-loader/index.js??ruleSet[1].rules[7].oneOf[3].use[2]!./node_modules/next/font/google/target.css?{\"path\":\"src/pages/[roomId]/index.jsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"}":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[7].oneOf[3].use[1]!./node_modules/next/dist/build/webpack/loaders/next-font-loader/index.js??ruleSet[1].rules[7].oneOf[3].use[2]!./node_modules/next/font/google/target.css?{"path":"src/pages/[roomId]/index.jsx","import":"Inter","arguments":[{"subsets":["latin"]}],"variableName":"inter"} ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../dist/build/webpack/loaders/css-loader/src/runtime/api.js */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/* cyrillic-ext */\\n@font-face {\\n  font-family: '__Inter_e66fe9';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/ec159349637c90ad-s.woff2) format('woff2');\\n  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;\\n}\\n/* cyrillic */\\n@font-face {\\n  font-family: '__Inter_e66fe9';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/513657b02c5c193f-s.woff2) format('woff2');\\n  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;\\n}\\n/* greek-ext */\\n@font-face {\\n  font-family: '__Inter_e66fe9';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/fd4db3eb5472fc27-s.woff2) format('woff2');\\n  unicode-range: U+1F00-1FFF;\\n}\\n/* greek */\\n@font-face {\\n  font-family: '__Inter_e66fe9';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/51ed15f9841b9f9d-s.woff2) format('woff2');\\n  unicode-range: U+0370-03FF;\\n}\\n/* vietnamese */\\n@font-face {\\n  font-family: '__Inter_e66fe9';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/05a31a2ca4975f99-s.woff2) format('woff2');\\n  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;\\n}\\n/* latin-ext */\\n@font-face {\\n  font-family: '__Inter_e66fe9';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/d6b16ce4a6175f26-s.woff2) format('woff2');\\n  unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\\n}\\n/* latin */\\n@font-face {\\n  font-family: '__Inter_e66fe9';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2) format('woff2');\\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\\n}@font-face {font-family: '__Inter_Fallback_e66fe9';src: local(\\\"Arial\\\");ascent-override: 90.20%;descent-override: 22.48%;line-gap-override: 0.00%;size-adjust: 107.40%\\n}.__className_e66fe9 {font-family: '__Inter_e66fe9', '__Inter_Fallback_e66fe9';font-style: normal\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://node_modules/next/font/google/%3Cinput%20css%20NWtpnP%3E\",\"<no source>\"],\"names\":[],\"mappings\":\"AAAA,iBAAiB;AACjB;EACE,6BAAoB;EACpB,kBAAkB;EAClB,oBAAoB;EACpB,kBAAkB;EAClB,sEAAsE;EACtE,sFAAsF;AACxF;AACA,aAAa;AACb;EACE,6BAAoB;EACpB,kBAAkB;EAClB,oBAAoB;EACpB,kBAAkB;EAClB,sEAAsE;EACtE,oEAAoE;AACtE;AACA,cAAc;AACd;EACE,6BAAoB;EACpB,kBAAkB;EAClB,oBAAoB;EACpB,kBAAkB;EAClB,sEAAsE;EACtE,0BAA0B;AAC5B;AACA,UAAU;AACV;EACE,6BAAoB;EACpB,kBAAkB;EAClB,oBAAoB;EACpB,kBAAkB;EAClB,sEAAsE;EACtE,0BAA0B;AAC5B;AACA,eAAe;AACf;EACE,6BAAoB;EACpB,kBAAkB;EAClB,oBAAoB;EACpB,kBAAkB;EAClB,sEAAsE;EACtE,uKAAuK;AACzK;AACA,cAAc;AACd;EACE,6BAAoB;EACpB,kBAAkB;EAClB,oBAAoB;EACpB,kBAAkB;EAClB,sEAAsE;EACtE,gJAAgJ;AAClJ;AACA,UAAU;AACV;EACE,6BAAoB;EACpB,kBAAkB;EAClB,oBAAoB;EACpB,kBAAkB;EAClB,wEAAwE;EACxE,iMAAiM;AACnM,CC9DA,YAAA,uCAAA,oBAAA,wBAAA,yBAAA,yBAAA,oBAAA;CAAA,qBAAA,yDAAA,kBAAA;CAAA\",\"sourcesContent\":[\"/* cyrillic-ext */\\n@font-face {\\n  font-family: 'Inter';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/ec159349637c90ad-s.woff2) format('woff2');\\n  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;\\n}\\n/* cyrillic */\\n@font-face {\\n  font-family: 'Inter';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/513657b02c5c193f-s.woff2) format('woff2');\\n  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;\\n}\\n/* greek-ext */\\n@font-face {\\n  font-family: 'Inter';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/fd4db3eb5472fc27-s.woff2) format('woff2');\\n  unicode-range: U+1F00-1FFF;\\n}\\n/* greek */\\n@font-face {\\n  font-family: 'Inter';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/51ed15f9841b9f9d-s.woff2) format('woff2');\\n  unicode-range: U+0370-03FF;\\n}\\n/* vietnamese */\\n@font-face {\\n  font-family: 'Inter';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/05a31a2ca4975f99-s.woff2) format('woff2');\\n  unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;\\n}\\n/* latin-ext */\\n@font-face {\\n  font-family: 'Inter';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/d6b16ce4a6175f26-s.woff2) format('woff2');\\n  unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\\n}\\n/* latin */\\n@font-face {\\n  font-family: 'Inter';\\n  font-style: normal;\\n  font-weight: 100 900;\\n  font-display: swap;\\n  src: url(/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2) format('woff2');\\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\\n}\\n\",null],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"style\": {\"fontFamily\":\"'__Inter_e66fe9', '__Inter_Fallback_e66fe9'\",\"fontStyle\":\"normal\"},\n\t\"className\": \"__className_e66fe9\"\n};\nmodule.exports = ___CSS_LOADER_EXPORT___;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1s3XS5vbmVPZlszXS51c2VbMV0hLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZvbnQtbG9hZGVyL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzddLm9uZU9mWzNdLnVzZVsyXSEuL25vZGVfbW9kdWxlcy9uZXh0L2ZvbnQvZ29vZ2xlL3RhcmdldC5jc3M/e1wicGF0aFwiOlwic3JjL3BhZ2VzL1tyb29tSWRdL2luZGV4LmpzeFwiLFwiaW1wb3J0XCI6XCJJbnRlclwiLFwiYXJndW1lbnRzXCI6W3tcInN1YnNldHNcIjpbXCJsYXRpblwiXX1dLFwidmFyaWFibGVOYW1lXCI6XCJpbnRlclwifSIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGtDQUFrQyxtQkFBTyxDQUFDLG9KQUFnRTtBQUMxRztBQUNBO0FBQ0EsMEVBQTBFLGtDQUFrQyx1QkFBdUIseUJBQXlCLHVCQUF1QiwyRUFBMkUsMkZBQTJGLEdBQUcsOEJBQThCLGtDQUFrQyx1QkFBdUIseUJBQXlCLHVCQUF1QiwyRUFBMkUseUVBQXlFLEdBQUcsK0JBQStCLGtDQUFrQyx1QkFBdUIseUJBQXlCLHVCQUF1QiwyRUFBMkUsK0JBQStCLEdBQUcsMkJBQTJCLGtDQUFrQyx1QkFBdUIseUJBQXlCLHVCQUF1QiwyRUFBMkUsK0JBQStCLEdBQUcsZ0NBQWdDLGtDQUFrQyx1QkFBdUIseUJBQXlCLHVCQUF1QiwyRUFBMkUsNEtBQTRLLEdBQUcsK0JBQStCLGtDQUFrQyx1QkFBdUIseUJBQXlCLHVCQUF1QiwyRUFBMkUscUpBQXFKLEdBQUcsMkJBQTJCLGtDQUFrQyx1QkFBdUIseUJBQXlCLHVCQUF1Qiw2RUFBNkUsc01BQXNNLEdBQUcsWUFBWSx1Q0FBdUMsc0JBQXNCLHdCQUF3Qix5QkFBeUIseUJBQXlCLHVCQUF1QixxQkFBcUIseURBQXlELHFCQUFxQixTQUFTLDhJQUE4SSxNQUFNLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sVUFBVSxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sVUFBVSxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sVUFBVSxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sVUFBVSxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sVUFBVSxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sVUFBVSxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLHFEQUFxRCx1QkFBdUIseURBQXlELHlCQUF5Qix1QkFBdUIseUJBQXlCLHVCQUF1QiwyRUFBMkUsMkZBQTJGLEdBQUcsOEJBQThCLHlCQUF5Qix1QkFBdUIseUJBQXlCLHVCQUF1QiwyRUFBMkUseUVBQXlFLEdBQUcsK0JBQStCLHlCQUF5Qix1QkFBdUIseUJBQXlCLHVCQUF1QiwyRUFBMkUsK0JBQStCLEdBQUcsMkJBQTJCLHlCQUF5Qix1QkFBdUIseUJBQXlCLHVCQUF1QiwyRUFBMkUsK0JBQStCLEdBQUcsZ0NBQWdDLHlCQUF5Qix1QkFBdUIseUJBQXlCLHVCQUF1QiwyRUFBMkUsNEtBQTRLLEdBQUcsK0JBQStCLHlCQUF5Qix1QkFBdUIseUJBQXlCLHVCQUF1QiwyRUFBMkUscUpBQXFKLEdBQUcsMkJBQTJCLHlCQUF5Qix1QkFBdUIseUJBQXlCLHVCQUF1Qiw2RUFBNkUsc01BQXNNLEdBQUcsMEJBQTBCO0FBQ3ppTDtBQUNBO0FBQ0EsV0FBVyxnRkFBZ0Y7QUFDM0Y7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2ZvbnQvZ29vZ2xlL3RhcmdldC5jc3M/YzhiNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uL2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL3J1bnRpbWUvYXBpLmpzXCIpO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKHRydWUpO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLyogY3lyaWxsaWMtZXh0ICovXFxuQGZvbnQtZmFjZSB7XFxuICBmb250LWZhbWlseTogJ19fSW50ZXJfZTY2ZmU5JztcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIGZvbnQtd2VpZ2h0OiAxMDAgOTAwO1xcbiAgZm9udC1kaXNwbGF5OiBzd2FwO1xcbiAgc3JjOiB1cmwoL19uZXh0L3N0YXRpYy9tZWRpYS9lYzE1OTM0OTYzN2M5MGFkLXMud29mZjIpIGZvcm1hdCgnd29mZjInKTtcXG4gIHVuaWNvZGUtcmFuZ2U6IFUrMDQ2MC0wNTJGLCBVKzFDODAtMUM4OCwgVSsyMEI0LCBVKzJERTAtMkRGRiwgVStBNjQwLUE2OUYsIFUrRkUyRS1GRTJGO1xcbn1cXG4vKiBjeXJpbGxpYyAqL1xcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdfX0ludGVyX2U2NmZlOSc7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LXdlaWdodDogMTAwIDkwMDtcXG4gIGZvbnQtZGlzcGxheTogc3dhcDtcXG4gIHNyYzogdXJsKC9fbmV4dC9zdGF0aWMvbWVkaWEvNTEzNjU3YjAyYzVjMTkzZi1zLndvZmYyKSBmb3JtYXQoJ3dvZmYyJyk7XFxuICB1bmljb2RlLXJhbmdlOiBVKzAzMDEsIFUrMDQwMC0wNDVGLCBVKzA0OTAtMDQ5MSwgVSswNEIwLTA0QjEsIFUrMjExNjtcXG59XFxuLyogZ3JlZWstZXh0ICovXFxuQGZvbnQtZmFjZSB7XFxuICBmb250LWZhbWlseTogJ19fSW50ZXJfZTY2ZmU5JztcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIGZvbnQtd2VpZ2h0OiAxMDAgOTAwO1xcbiAgZm9udC1kaXNwbGF5OiBzd2FwO1xcbiAgc3JjOiB1cmwoL19uZXh0L3N0YXRpYy9tZWRpYS9mZDRkYjNlYjU0NzJmYzI3LXMud29mZjIpIGZvcm1hdCgnd29mZjInKTtcXG4gIHVuaWNvZGUtcmFuZ2U6IFUrMUYwMC0xRkZGO1xcbn1cXG4vKiBncmVlayAqL1xcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdfX0ludGVyX2U2NmZlOSc7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LXdlaWdodDogMTAwIDkwMDtcXG4gIGZvbnQtZGlzcGxheTogc3dhcDtcXG4gIHNyYzogdXJsKC9fbmV4dC9zdGF0aWMvbWVkaWEvNTFlZDE1Zjk4NDFiOWY5ZC1zLndvZmYyKSBmb3JtYXQoJ3dvZmYyJyk7XFxuICB1bmljb2RlLXJhbmdlOiBVKzAzNzAtMDNGRjtcXG59XFxuLyogdmlldG5hbWVzZSAqL1xcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdfX0ludGVyX2U2NmZlOSc7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LXdlaWdodDogMTAwIDkwMDtcXG4gIGZvbnQtZGlzcGxheTogc3dhcDtcXG4gIHNyYzogdXJsKC9fbmV4dC9zdGF0aWMvbWVkaWEvMDVhMzFhMmNhNDk3NWY5OS1zLndvZmYyKSBmb3JtYXQoJ3dvZmYyJyk7XFxuICB1bmljb2RlLXJhbmdlOiBVKzAxMDItMDEwMywgVSswMTEwLTAxMTEsIFUrMDEyOC0wMTI5LCBVKzAxNjgtMDE2OSwgVSswMUEwLTAxQTEsIFUrMDFBRi0wMUIwLCBVKzAzMDAtMDMwMSwgVSswMzAzLTAzMDQsIFUrMDMwOC0wMzA5LCBVKzAzMjMsIFUrMDMyOSwgVSsxRUEwLTFFRjksIFUrMjBBQjtcXG59XFxuLyogbGF0aW4tZXh0ICovXFxuQGZvbnQtZmFjZSB7XFxuICBmb250LWZhbWlseTogJ19fSW50ZXJfZTY2ZmU5JztcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIGZvbnQtd2VpZ2h0OiAxMDAgOTAwO1xcbiAgZm9udC1kaXNwbGF5OiBzd2FwO1xcbiAgc3JjOiB1cmwoL19uZXh0L3N0YXRpYy9tZWRpYS9kNmIxNmNlNGE2MTc1ZjI2LXMud29mZjIpIGZvcm1hdCgnd29mZjInKTtcXG4gIHVuaWNvZGUtcmFuZ2U6IFUrMDEwMC0wMkFGLCBVKzAzMDQsIFUrMDMwOCwgVSswMzI5LCBVKzFFMDAtMUU5RiwgVSsxRUYyLTFFRkYsIFUrMjAyMCwgVSsyMEEwLTIwQUIsIFUrMjBBRC0yMENGLCBVKzIxMTMsIFUrMkM2MC0yQzdGLCBVK0E3MjAtQTdGRjtcXG59XFxuLyogbGF0aW4gKi9cXG5AZm9udC1mYWNlIHtcXG4gIGZvbnQtZmFtaWx5OiAnX19JbnRlcl9lNjZmZTknO1xcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xcbiAgZm9udC13ZWlnaHQ6IDEwMCA5MDA7XFxuICBmb250LWRpc3BsYXk6IHN3YXA7XFxuICBzcmM6IHVybCgvX25leHQvc3RhdGljL21lZGlhL2M5YTViYzZhN2M5NDhmYjAtcy5wLndvZmYyKSBmb3JtYXQoJ3dvZmYyJyk7XFxuICB1bmljb2RlLXJhbmdlOiBVKzAwMDAtMDBGRiwgVSswMTMxLCBVKzAxNTItMDE1MywgVSswMkJCLTAyQkMsIFUrMDJDNiwgVSswMkRBLCBVKzAyREMsIFUrMDMwNCwgVSswMzA4LCBVKzAzMjksIFUrMjAwMC0yMDZGLCBVKzIwNzQsIFUrMjBBQywgVSsyMTIyLCBVKzIxOTEsIFUrMjE5MywgVSsyMjEyLCBVKzIyMTUsIFUrRkVGRiwgVStGRkZEO1xcbn1AZm9udC1mYWNlIHtmb250LWZhbWlseTogJ19fSW50ZXJfRmFsbGJhY2tfZTY2ZmU5JztzcmM6IGxvY2FsKFxcXCJBcmlhbFxcXCIpO2FzY2VudC1vdmVycmlkZTogOTAuMjAlO2Rlc2NlbnQtb3ZlcnJpZGU6IDIyLjQ4JTtsaW5lLWdhcC1vdmVycmlkZTogMC4wMCU7c2l6ZS1hZGp1c3Q6IDEwNy40MCVcXG59Ll9fY2xhc3NOYW1lX2U2NmZlOSB7Zm9udC1mYW1pbHk6ICdfX0ludGVyX2U2NmZlOScsICdfX0ludGVyX0ZhbGxiYWNrX2U2NmZlOSc7Zm9udC1zdHlsZTogbm9ybWFsXFxufVxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly9ub2RlX21vZHVsZXMvbmV4dC9mb250L2dvb2dsZS8lM0NpbnB1dCUyMGNzcyUyME5XdHBuUCUzRVwiLFwiPG5vIHNvdXJjZT5cIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUEsaUJBQWlCO0FBQ2pCO0VBQ0UsNkJBQW9CO0VBQ3BCLGtCQUFrQjtFQUNsQixvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLHNFQUFzRTtFQUN0RSxzRkFBc0Y7QUFDeEY7QUFDQSxhQUFhO0FBQ2I7RUFDRSw2QkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLG9CQUFvQjtFQUNwQixrQkFBa0I7RUFDbEIsc0VBQXNFO0VBQ3RFLG9FQUFvRTtBQUN0RTtBQUNBLGNBQWM7QUFDZDtFQUNFLDZCQUFvQjtFQUNwQixrQkFBa0I7RUFDbEIsb0JBQW9CO0VBQ3BCLGtCQUFrQjtFQUNsQixzRUFBc0U7RUFDdEUsMEJBQTBCO0FBQzVCO0FBQ0EsVUFBVTtBQUNWO0VBQ0UsNkJBQW9CO0VBQ3BCLGtCQUFrQjtFQUNsQixvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLHNFQUFzRTtFQUN0RSwwQkFBMEI7QUFDNUI7QUFDQSxlQUFlO0FBQ2Y7RUFDRSw2QkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLG9CQUFvQjtFQUNwQixrQkFBa0I7RUFDbEIsc0VBQXNFO0VBQ3RFLHVLQUF1SztBQUN6SztBQUNBLGNBQWM7QUFDZDtFQUNFLDZCQUFvQjtFQUNwQixrQkFBa0I7RUFDbEIsb0JBQW9CO0VBQ3BCLGtCQUFrQjtFQUNsQixzRUFBc0U7RUFDdEUsZ0pBQWdKO0FBQ2xKO0FBQ0EsVUFBVTtBQUNWO0VBQ0UsNkJBQW9CO0VBQ3BCLGtCQUFrQjtFQUNsQixvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLHdFQUF3RTtFQUN4RSxpTUFBaU07QUFDbk0sQ0M5REEsWUFBQSx1Q0FBQSxvQkFBQSx3QkFBQSx5QkFBQSx5QkFBQSxvQkFBQTtDQUFBLHFCQUFBLHlEQUFBLGtCQUFBO0NBQUFcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLyogY3lyaWxsaWMtZXh0ICovXFxuQGZvbnQtZmFjZSB7XFxuICBmb250LWZhbWlseTogJ0ludGVyJztcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIGZvbnQtd2VpZ2h0OiAxMDAgOTAwO1xcbiAgZm9udC1kaXNwbGF5OiBzd2FwO1xcbiAgc3JjOiB1cmwoL19uZXh0L3N0YXRpYy9tZWRpYS9lYzE1OTM0OTYzN2M5MGFkLXMud29mZjIpIGZvcm1hdCgnd29mZjInKTtcXG4gIHVuaWNvZGUtcmFuZ2U6IFUrMDQ2MC0wNTJGLCBVKzFDODAtMUM4OCwgVSsyMEI0LCBVKzJERTAtMkRGRiwgVStBNjQwLUE2OUYsIFUrRkUyRS1GRTJGO1xcbn1cXG4vKiBjeXJpbGxpYyAqL1xcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdJbnRlcic7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LXdlaWdodDogMTAwIDkwMDtcXG4gIGZvbnQtZGlzcGxheTogc3dhcDtcXG4gIHNyYzogdXJsKC9fbmV4dC9zdGF0aWMvbWVkaWEvNTEzNjU3YjAyYzVjMTkzZi1zLndvZmYyKSBmb3JtYXQoJ3dvZmYyJyk7XFxuICB1bmljb2RlLXJhbmdlOiBVKzAzMDEsIFUrMDQwMC0wNDVGLCBVKzA0OTAtMDQ5MSwgVSswNEIwLTA0QjEsIFUrMjExNjtcXG59XFxuLyogZ3JlZWstZXh0ICovXFxuQGZvbnQtZmFjZSB7XFxuICBmb250LWZhbWlseTogJ0ludGVyJztcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIGZvbnQtd2VpZ2h0OiAxMDAgOTAwO1xcbiAgZm9udC1kaXNwbGF5OiBzd2FwO1xcbiAgc3JjOiB1cmwoL19uZXh0L3N0YXRpYy9tZWRpYS9mZDRkYjNlYjU0NzJmYzI3LXMud29mZjIpIGZvcm1hdCgnd29mZjInKTtcXG4gIHVuaWNvZGUtcmFuZ2U6IFUrMUYwMC0xRkZGO1xcbn1cXG4vKiBncmVlayAqL1xcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdJbnRlcic7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LXdlaWdodDogMTAwIDkwMDtcXG4gIGZvbnQtZGlzcGxheTogc3dhcDtcXG4gIHNyYzogdXJsKC9fbmV4dC9zdGF0aWMvbWVkaWEvNTFlZDE1Zjk4NDFiOWY5ZC1zLndvZmYyKSBmb3JtYXQoJ3dvZmYyJyk7XFxuICB1bmljb2RlLXJhbmdlOiBVKzAzNzAtMDNGRjtcXG59XFxuLyogdmlldG5hbWVzZSAqL1xcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6ICdJbnRlcic7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxuICBmb250LXdlaWdodDogMTAwIDkwMDtcXG4gIGZvbnQtZGlzcGxheTogc3dhcDtcXG4gIHNyYzogdXJsKC9fbmV4dC9zdGF0aWMvbWVkaWEvMDVhMzFhMmNhNDk3NWY5OS1zLndvZmYyKSBmb3JtYXQoJ3dvZmYyJyk7XFxuICB1bmljb2RlLXJhbmdlOiBVKzAxMDItMDEwMywgVSswMTEwLTAxMTEsIFUrMDEyOC0wMTI5LCBVKzAxNjgtMDE2OSwgVSswMUEwLTAxQTEsIFUrMDFBRi0wMUIwLCBVKzAzMDAtMDMwMSwgVSswMzAzLTAzMDQsIFUrMDMwOC0wMzA5LCBVKzAzMjMsIFUrMDMyOSwgVSsxRUEwLTFFRjksIFUrMjBBQjtcXG59XFxuLyogbGF0aW4tZXh0ICovXFxuQGZvbnQtZmFjZSB7XFxuICBmb250LWZhbWlseTogJ0ludGVyJztcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIGZvbnQtd2VpZ2h0OiAxMDAgOTAwO1xcbiAgZm9udC1kaXNwbGF5OiBzd2FwO1xcbiAgc3JjOiB1cmwoL19uZXh0L3N0YXRpYy9tZWRpYS9kNmIxNmNlNGE2MTc1ZjI2LXMud29mZjIpIGZvcm1hdCgnd29mZjInKTtcXG4gIHVuaWNvZGUtcmFuZ2U6IFUrMDEwMC0wMkFGLCBVKzAzMDQsIFUrMDMwOCwgVSswMzI5LCBVKzFFMDAtMUU5RiwgVSsxRUYyLTFFRkYsIFUrMjAyMCwgVSsyMEEwLTIwQUIsIFUrMjBBRC0yMENGLCBVKzIxMTMsIFUrMkM2MC0yQzdGLCBVK0E3MjAtQTdGRjtcXG59XFxuLyogbGF0aW4gKi9cXG5AZm9udC1mYWNlIHtcXG4gIGZvbnQtZmFtaWx5OiAnSW50ZXInO1xcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xcbiAgZm9udC13ZWlnaHQ6IDEwMCA5MDA7XFxuICBmb250LWRpc3BsYXk6IHN3YXA7XFxuICBzcmM6IHVybCgvX25leHQvc3RhdGljL21lZGlhL2M5YTViYzZhN2M5NDhmYjAtcy5wLndvZmYyKSBmb3JtYXQoJ3dvZmYyJyk7XFxuICB1bmljb2RlLXJhbmdlOiBVKzAwMDAtMDBGRiwgVSswMTMxLCBVKzAxNTItMDE1MywgVSswMkJCLTAyQkMsIFUrMDJDNiwgVSswMkRBLCBVKzAyREMsIFUrMDMwNCwgVSswMzA4LCBVKzAzMjksIFUrMjAwMC0yMDZGLCBVKzIwNzQsIFUrMjBBQywgVSsyMTIyLCBVKzIxOTEsIFUrMjE5MywgVSsyMjEyLCBVKzIyMTUsIFUrRkVGRiwgVStGRkZEO1xcbn1cXG5cIixudWxsXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ubG9jYWxzID0ge1xuXHRcInN0eWxlXCI6IHtcImZvbnRGYW1pbHlcIjpcIidfX0ludGVyX2U2NmZlOScsICdfX0ludGVyX0ZhbGxiYWNrX2U2NmZlOSdcIixcImZvbnRTdHlsZVwiOlwibm9ybWFsXCJ9LFxuXHRcImNsYXNzTmFtZVwiOiBcIl9fY2xhc3NOYW1lX2U2NmZlOVwiXG59O1xubW9kdWxlLmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[7].oneOf[3].use[1]!./node_modules/next/dist/build/webpack/loaders/next-font-loader/index.js??ruleSet[1].rules[7].oneOf[3].use[2]!./node_modules/next/font/google/target.css?{\"path\":\"src/pages/[roomId]/index.jsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"}\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Framit%2Fhealphi%2Fhealyphi%2Fsrc%2Fpages%2F%5BroomId%5D%2Findex.jsx&page=%2F%5BroomId%5D!":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Framit%2Fhealphi%2Fhealyphi%2Fsrc%2Fpages%2F%5BroomId%5D%2Findex.jsx&page=%2F%5BroomId%5D! ***!
  \********************************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/[roomId]\",\n      function () {\n        return __webpack_require__(/*! ./src/pages/[roomId]/index.jsx */ \"./src/pages/[roomId]/index.jsx\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/[roomId]\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD0lMkZVc2VycyUyRnJhbWl0JTJGaGVhbHBoaSUyRmhlYWx5cGhpJTJGc3JjJTJGcGFnZXMlMkYlNUJyb29tSWQlNUQlMkZpbmRleC5qc3gmcGFnZT0lMkYlNUJyb29tSWQlNUQhIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1CQUFPLENBQUMsc0VBQWdDO0FBQ3ZEO0FBQ0E7QUFDQSxPQUFPLElBQVU7QUFDakIsTUFBTSxVQUFVO0FBQ2hCO0FBQ0EsT0FBTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLz85MzAxIl0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICh3aW5kb3cuX19ORVhUX1AgPSB3aW5kb3cuX19ORVhUX1AgfHwgW10pLnB1c2goW1xuICAgICAgXCIvW3Jvb21JZF1cIixcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHJlcXVpcmUoXCIuL3NyYy9wYWdlcy9bcm9vbUlkXS9pbmRleC5qc3hcIik7XG4gICAgICB9XG4gICAgXSk7XG4gICAgaWYobW9kdWxlLmhvdCkge1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2luZG93Ll9fTkVYVF9QLnB1c2goW1wiL1tyb29tSWRdXCJdKVxuICAgICAgfSk7XG4gICAgfVxuICAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Framit%2Fhealphi%2Fhealyphi%2Fsrc%2Fpages%2F%5BroomId%5D%2Findex.jsx&page=%2F%5BroomId%5D!\n"));

/***/ }),

/***/ "./node_modules/next/font/google/target.css?{\"path\":\"src/pages/[roomId]/index.jsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"}":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/font/google/target.css?{"path":"src/pages/[roomId]/index.jsx","import":"Inter","arguments":[{"subsets":["latin"]}],"variableName":"inter"} ***!
  \**********************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var api = __webpack_require__(/*! !../../dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !!../../dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[7].oneOf[3].use[1]!../../dist/build/webpack/loaders/next-font-loader/index.js??ruleSet[1].rules[7].oneOf[3].use[2]!./target.css?{\"path\":\"src/pages/[roomId]/index.jsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[7].oneOf[3].use[1]!./node_modules/next/dist/build/webpack/loaders/next-font-loader/index.js??ruleSet[1].rules[7].oneOf[3].use[2]!./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src/pages/[roomId]/index.jsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(element) {\n                    // By default, style-loader injects CSS into the bottom\n                    // of <head>. This causes ordering problems between dev\n                    // and prod. To fix this, we render a <noscript> tag as\n                    // an anchor for the styles to be placed before. These\n                    // styles will be applied _before_ <style jsx global>.\n                    // These elements should always exist. If they do not,\n                    // this code should fail.\n                    var anchorElement = document.querySelector(\"#__next_css__DO_NOT_USE__\");\n                    var parentNode = anchorElement.parentNode// Normally <head>\n                    ;\n                    // Each style tag should be placed right before our\n                    // anchor. By inserting before and not after, we do not\n                    // need to track the last inserted element.\n                    parentNode.insertBefore(element, anchorElement);\n                };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (true) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n    if (!a && b || a && !b) {\n        return false;\n    }\n    let p;\n    for(p in a){\n        if (isNamedExport && p === \"default\") {\n            continue;\n        }\n        if (a[p] !== b[p]) {\n            return false;\n        }\n    }\n    for(p in b){\n        if (isNamedExport && p === \"default\") {\n            continue;\n        }\n        if (!a[p]) {\n            return false;\n        }\n    }\n    return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      /*! !!../../dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[7].oneOf[3].use[1]!../../dist/build/webpack/loaders/next-font-loader/index.js??ruleSet[1].rules[7].oneOf[3].use[2]!./target.css?{\"path\":\"src/pages/[roomId]/index.jsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[7].oneOf[3].use[1]!./node_modules/next/dist/build/webpack/loaders/next-font-loader/index.js??ruleSet[1].rules[7].oneOf[3].use[2]!./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src/pages/[roomId]/index.jsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\",\n      function () {\n        content = __webpack_require__(/*! !!../../dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[7].oneOf[3].use[1]!../../dist/build/webpack/loaders/next-font-loader/index.js??ruleSet[1].rules[7].oneOf[3].use[2]!./target.css?{\"path\":\"src/pages/[roomId]/index.jsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[7].oneOf[3].use[1]!./node_modules/next/dist/build/webpack/loaders/next-font-loader/index.js??ruleSet[1].rules[7].oneOf[3].use[2]!./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src/pages/[roomId]/index.jsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9mb250L2dvb2dsZS90YXJnZXQuY3NzP3tcInBhdGhcIjpcInNyYy9wYWdlcy9bcm9vbUlkXS9pbmRleC5qc3hcIixcImltcG9ydFwiOlwiSW50ZXJcIixcImFyZ3VtZW50c1wiOlt7XCJzdWJzZXRzXCI6W1wibGF0aW5cIl19XSxcInZhcmlhYmxlTmFtZVwiOlwiaW50ZXJcIn0iLCJtYXBwaW5ncyI6IkFBQUEsVUFBVSxtQkFBTyxDQUFDLHFNQUF5RjtBQUMzRywwQkFBMEIsbUJBQU8sQ0FBQyxvdEJBQW9WOztBQUV0WDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0EsSUFBSSxJQUFVO0FBQ2QseUJBQXlCLFVBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUksaUJBQWlCO0FBQ3JCLE1BQU0sb3RCQUFvVjtBQUMxVjtBQUNBLGtCQUFrQixtQkFBTyxDQUFDLG90QkFBb1Y7O0FBRTlXOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQixVQUFVOztBQUUxQjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUUsVUFBVTtBQUNaO0FBQ0EsR0FBRztBQUNIOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2ZvbnQvZ29vZ2xlL3RhcmdldC5jc3M/MmYyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXN0eWxlLWxvYWRlci9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvY3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbN10ub25lT2ZbM10udXNlWzFdIS4uLy4uL2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZm9udC1sb2FkZXIvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbN10ub25lT2ZbM10udXNlWzJdIS4vdGFyZ2V0LmNzcz97XFxcInBhdGhcXFwiOlxcXCJzcmMvcGFnZXMvW3Jvb21JZF0vaW5kZXguanN4XFxcIixcXFwiaW1wb3J0XFxcIjpcXFwiSW50ZXJcXFwiLFxcXCJhcmd1bWVudHNcXFwiOlt7XFxcInN1YnNldHNcXFwiOltcXFwibGF0aW5cXFwiXX1dLFxcXCJ2YXJpYWJsZU5hbWVcXFwiOlxcXCJpbnRlclxcXCJ9XCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBCeSBkZWZhdWx0LCBzdHlsZS1sb2FkZXIgaW5qZWN0cyBDU1MgaW50byB0aGUgYm90dG9tXG4gICAgICAgICAgICAgICAgICAgIC8vIG9mIDxoZWFkPi4gVGhpcyBjYXVzZXMgb3JkZXJpbmcgcHJvYmxlbXMgYmV0d2VlbiBkZXZcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHByb2QuIFRvIGZpeCB0aGlzLCB3ZSByZW5kZXIgYSA8bm9zY3JpcHQ+IHRhZyBhc1xuICAgICAgICAgICAgICAgICAgICAvLyBhbiBhbmNob3IgZm9yIHRoZSBzdHlsZXMgdG8gYmUgcGxhY2VkIGJlZm9yZS4gVGhlc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gc3R5bGVzIHdpbGwgYmUgYXBwbGllZCBfYmVmb3JlXyA8c3R5bGUganN4IGdsb2JhbD4uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIGVsZW1lbnRzIHNob3VsZCBhbHdheXMgZXhpc3QuIElmIHRoZXkgZG8gbm90LFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNvZGUgc2hvdWxkIGZhaWwuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbmNob3JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNfX25leHRfY3NzX19ET19OT1RfVVNFX19cIik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gYW5jaG9yRWxlbWVudC5wYXJlbnROb2RlLy8gTm9ybWFsbHkgPGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgLy8gRWFjaCBzdHlsZSB0YWcgc2hvdWxkIGJlIHBsYWNlZCByaWdodCBiZWZvcmUgb3VyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuY2hvci4gQnkgaW5zZXJ0aW5nIGJlZm9yZSBhbmQgbm90IGFmdGVyLCB3ZSBkbyBub3RcbiAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byB0cmFjayB0aGUgbGFzdCBpbnNlcnRlZCBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShlbGVtZW50LCBhbmNob3JFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9O1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5pZiAobW9kdWxlLmhvdCkge1xuICBpZiAoIWNvbnRlbnQubG9jYWxzIHx8IG1vZHVsZS5ob3QuaW52YWxpZGF0ZSkge1xuICAgIHZhciBpc0VxdWFsTG9jYWxzID0gZnVuY3Rpb24gaXNFcXVhbExvY2FscyhhLCBiLCBpc05hbWVkRXhwb3J0KSB7XG4gICAgaWYgKCFhICYmIGIgfHwgYSAmJiAhYikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBwO1xuICAgIGZvcihwIGluIGEpe1xuICAgICAgICBpZiAoaXNOYW1lZEV4cG9ydCAmJiBwID09PSBcImRlZmF1bHRcIikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFbcF0gIT09IGJbcF0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IocCBpbiBiKXtcbiAgICAgICAgaWYgKGlzTmFtZWRFeHBvcnQgJiYgcCA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYVtwXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcbiAgICB2YXIgb2xkTG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcbiAgICAgIFwiISEuLi8uLi9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1s3XS5vbmVPZlszXS51c2VbMV0hLi4vLi4vZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1mb250LWxvYWRlci9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1s3XS5vbmVPZlszXS51c2VbMl0hLi90YXJnZXQuY3NzP3tcXFwicGF0aFxcXCI6XFxcInNyYy9wYWdlcy9bcm9vbUlkXS9pbmRleC5qc3hcXFwiLFxcXCJpbXBvcnRcXFwiOlxcXCJJbnRlclxcXCIsXFxcImFyZ3VtZW50c1xcXCI6W3tcXFwic3Vic2V0c1xcXCI6W1xcXCJsYXRpblxcXCJdfV0sXFxcInZhcmlhYmxlTmFtZVxcXCI6XFxcImludGVyXFxcIn1cIixcbiAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzddLm9uZU9mWzNdLnVzZVsxXSEuLi8uLi9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZvbnQtbG9hZGVyL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzddLm9uZU9mWzNdLnVzZVsyXSEuL3RhcmdldC5jc3M/e1xcXCJwYXRoXFxcIjpcXFwic3JjL3BhZ2VzL1tyb29tSWRdL2luZGV4LmpzeFxcXCIsXFxcImltcG9ydFxcXCI6XFxcIkludGVyXFxcIixcXFwiYXJndW1lbnRzXFxcIjpbe1xcXCJzdWJzZXRzXFxcIjpbXFxcImxhdGluXFxcIl19XSxcXFwidmFyaWFibGVOYW1lXFxcIjpcXFwiaW50ZXJcXFwifVwiKTtcblxuICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCFpc0VxdWFsTG9jYWxzKG9sZExvY2FscywgY29udGVudC5sb2NhbHMpKSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLmhvdC5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBvbGRMb2NhbHMgPSBjb250ZW50LmxvY2FscztcblxuICAgICAgICAgICAgICB1cGRhdGUoY29udGVudCk7XG4gICAgICB9XG4gICAgKVxuICB9XG5cbiAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/font/google/target.css?{\"path\":\"src/pages/[roomId]/index.jsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"}\n"));

/***/ }),

/***/ "./src/component/ChatBox/ChatBox.jsx":
/*!*******************************************!*\
  !*** ./src/component/ChatBox/ChatBox.jsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @huddle01/react/hooks */ \"./node_modules/@huddle01/react/dist/hooks/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _LocalMessageBubble__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LocalMessageBubble */ \"./src/component/ChatBox/LocalMessageBubble.jsx\");\n/* harmony import */ var _RemoteMessageBubble__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RemoteMessageBubble */ \"./src/component/ChatBox/RemoteMessageBubble.jsx\");\n\nvar _s = $RefreshSig$();\n\n\n\n\nfunction ChatBox() {\n    _s();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [text, setText] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const { peerId, metadata } = (0,_huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__.useLocalPeer)();\n    console.log({\n        metadata\n    });\n    const { sendData } = (0,_huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__.useDataMessage)({\n        onMessage: (payload, from, label)=>{\n            if (label === \"chat\") {\n                setMessages((prev)=>[\n                        ...prev,\n                        {\n                            text: payload,\n                            sender: from\n                        }\n                    ]);\n            }\n        }\n    });\n    const sendMessage = ()=>{\n        sendData({\n            to: \"*\",\n            payload: text,\n            label: \"chat\"\n        });\n        setText(\"\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-1/3 border-2 border-blue-400 rounded-lg flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                className: \"text-center text-2xl my-2 border-b border-blue-400\",\n                children: \"Chat Room\"\n            }, void 0, false, {\n                fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n                lineNumber: 32,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 p-4 border-b border-blue-400\",\n                children: messages.map((message, index)=>message.sender === peerId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_LocalMessageBubble__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        message: message\n                    }, index, false, {\n                        fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n                        lineNumber: 38,\n                        columnNumber: 13\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_RemoteMessageBubble__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        message: message\n                    }, index, false, {\n                        fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n                        lineNumber: 40,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n                lineNumber: 35,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex p-1\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"text\",\n                        className: \"self-end w-full bg-[#B1D27B]  text-white outline-none p-2 text-sm\",\n                        placeholder: \"Type Message...\",\n                        value: text,\n                        onChange: (event)=>setText(event.target.value),\n                        onKeyDown: (event)=>{\n                            if (event.key === \"Enter\") {\n                                sendMessage();\n                            }\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n                        lineNumber: 45,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>{\n                            sendMessage();\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            width: \"24\",\n                            height: \"24\",\n                            viewBox: \"-2.4 -2.4 28.80 28.80\",\n                            fill: \"none\",\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            stroke: \"#000000\",\n                            \"stroke-width\": \"0.00024000000000000003\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"g\", {\n                                    id: \"SVGRepo_bgCarrier\",\n                                    \"stroke-width\": \"0\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n                                    lineNumber: 71,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"g\", {\n                                    id: \"SVGRepo_tracerCarrier\",\n                                    \"stroke-linecap\": \"round\",\n                                    \"stroke-linejoin\": \"round\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n                                    lineNumber: 72,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"g\", {\n                                    id: \"SVGRepo_iconCarrier\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        \"fill-rule\": \"evenodd\",\n                                        \"clip-rule\": \"evenodd\",\n                                        d: \"M1.265 4.42619C1.04293 2.87167 2.6169 1.67931 4.05323 2.31397L21.8341 10.1706C23.423 10.8727 23.423 13.1273 21.8341 13.8294L4.05323 21.686C2.6169 22.3207 1.04293 21.1283 1.265 19.5738L1.99102 14.4917C2.06002 14.0087 2.41458 13.6156 2.88791 13.4972L8.87688 12L2.88791 10.5028C2.41458 10.3844 2.06002 9.99129 1.99102 9.50829L1.265 4.42619ZM21.0257 12L3.2449 4.14335L3.89484 8.69294L12.8545 10.9328C13.9654 11.2106 13.9654 12.7894 12.8545 13.0672L3.89484 15.3071L3.2449 19.8566L21.0257 12Z\",\n                                        fill: \"#ffffff\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n                                        lineNumber: 78,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n                                    lineNumber: 77,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n                            lineNumber: 62,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n                        lineNumber: 57,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n                lineNumber: 44,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/ChatBox.jsx\",\n        lineNumber: 31,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatBox, \"G8a9x/9tNni4tb6MvLDiNr2LQGE=\", false, function() {\n    return [\n        _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__.useLocalPeer,\n        _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__.useDataMessage\n    ];\n});\n_c = ChatBox;\n/* harmony default export */ __webpack_exports__[\"default\"] = (ChatBox);\nvar _c;\n$RefreshReg$(_c, \"ChatBox\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50L0NoYXRCb3gvQ2hhdEJveC5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFxRTtBQUNwQztBQUNxQjtBQUNFO0FBRXhELFNBQVNLOztJQUNQLE1BQU0sQ0FBQ0MsVUFBVUMsWUFBWSxHQUFHTCwrQ0FBUUEsQ0FBQyxFQUFFO0lBQzNDLE1BQU0sQ0FBQ00sTUFBTUMsUUFBUSxHQUFHUCwrQ0FBUUEsQ0FBQztJQUVqQyxNQUFNLEVBQUVRLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdWLG1FQUFZQTtJQUV6Q1csUUFBUUMsR0FBRyxDQUFDO1FBQUVGO0lBQVM7SUFDdkIsTUFBTSxFQUFFRyxRQUFRLEVBQUUsR0FBR2QscUVBQWNBLENBQUM7UUFDbENlLFdBQVcsQ0FBQ0MsU0FBU0MsTUFBTUM7WUFDekIsSUFBSUEsVUFBVSxRQUFRO2dCQUNwQlgsWUFBWSxDQUFDWSxPQUFTOzJCQUFJQTt3QkFBTTs0QkFBRVgsTUFBTVE7NEJBQVNJLFFBQVFIO3dCQUFLO3FCQUFFO1lBQ2xFO1FBQ0Y7SUFDRjtJQUVBLE1BQU1JLGNBQWM7UUFDbEJQLFNBQVM7WUFDUFEsSUFBSTtZQUNKTixTQUFTUjtZQUNUVSxPQUFPO1FBQ1Q7UUFDQVQsUUFBUTtJQUNWO0lBRUEscUJBQ0UsOERBQUNjO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDQztnQkFBR0QsV0FBVTswQkFBcUQ7Ozs7OzswQkFHbkUsOERBQUNEO2dCQUFJQyxXQUFVOzBCQUNabEIsU0FBU29CLEdBQUcsQ0FBQyxDQUFDQyxTQUFTQyxRQUN0QkQsUUFBUVAsTUFBTSxLQUFLVix1QkFDakIsOERBQUNQLDJEQUFrQkE7d0JBQWF3QixTQUFTQTt1QkFBaEJDOzs7OzZDQUV6Qiw4REFBQ3hCLDREQUFtQkE7d0JBQWF1QixTQUFTQTt1QkFBaEJDOzs7Ozs7Ozs7OzBCQUloQyw4REFBQ0w7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDSzt3QkFDQ0MsTUFBSzt3QkFDTE4sV0FBVTt3QkFDVk8sYUFBWTt3QkFDWkMsT0FBT3hCO3dCQUNQeUIsVUFBVSxDQUFDQyxRQUFVekIsUUFBUXlCLE1BQU1DLE1BQU0sQ0FBQ0gsS0FBSzt3QkFDL0NJLFdBQVcsQ0FBQ0Y7NEJBQ1YsSUFBSUEsTUFBTUcsR0FBRyxLQUFLLFNBQVM7Z0NBQ3pCaEI7NEJBQ0Y7d0JBQ0Y7Ozs7OztrQ0FFRiw4REFBQ2lCO3dCQUNDQyxTQUFTOzRCQUNQbEI7d0JBQ0Y7a0NBRUEsNEVBQUNtQjs0QkFDQ0MsT0FBTTs0QkFDTkMsUUFBTzs0QkFDUEMsU0FBUTs0QkFDUkMsTUFBSzs0QkFDTEMsT0FBTTs0QkFDTkMsUUFBTzs0QkFDUEMsZ0JBQWE7OzhDQUViLDhEQUFDQztvQ0FBRUMsSUFBRztvQ0FBb0JGLGdCQUFhOzs7Ozs7OENBQ3ZDLDhEQUFDQztvQ0FDQ0MsSUFBRztvQ0FDSEMsa0JBQWU7b0NBQ2ZDLG1CQUFnQjs7Ozs7OzhDQUVsQiw4REFBQ0g7b0NBQUVDLElBQUc7OENBQ0osNEVBQUNHO3dDQUNDQyxhQUFVO3dDQUNWQyxhQUFVO3dDQUNWQyxHQUFFO3dDQUNGWCxNQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUXJCO0dBcEZTdkM7O1FBSXNCSiwrREFBWUE7UUFHcEJELGlFQUFjQTs7O0tBUDVCSztBQXNGVCwrREFBZUEsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50L0NoYXRCb3gvQ2hhdEJveC5qc3g/YTQ2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VEYXRhTWVzc2FnZSwgdXNlTG9jYWxQZWVyIH0gZnJvbSBcIkBodWRkbGUwMS9yZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBMb2NhbE1lc3NhZ2VCdWJibGUgZnJvbSBcIi4vTG9jYWxNZXNzYWdlQnViYmxlXCI7XG5pbXBvcnQgUmVtb3RlTWVzc2FnZUJ1YmJsZSBmcm9tIFwiLi9SZW1vdGVNZXNzYWdlQnViYmxlXCI7XG5cbmZ1bmN0aW9uIENoYXRCb3goKSB7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbdGV4dCwgc2V0VGV4dF0gPSB1c2VTdGF0ZShcIlwiKTtcblxuICBjb25zdCB7IHBlZXJJZCwgbWV0YWRhdGEgfSA9IHVzZUxvY2FsUGVlcigpO1xuXG4gIGNvbnNvbGUubG9nKHsgbWV0YWRhdGEgfSk7XG4gIGNvbnN0IHsgc2VuZERhdGEgfSA9IHVzZURhdGFNZXNzYWdlKHtcbiAgICBvbk1lc3NhZ2U6IChwYXlsb2FkLCBmcm9tLCBsYWJlbCkgPT4ge1xuICAgICAgaWYgKGxhYmVsID09PSBcImNoYXRcIikge1xuICAgICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHsgdGV4dDogcGF5bG9hZCwgc2VuZGVyOiBmcm9tIH1dKTtcbiAgICAgIH1cbiAgICB9LFxuICB9KTtcblxuICBjb25zdCBzZW5kTWVzc2FnZSA9ICgpID0+IHtcbiAgICBzZW5kRGF0YSh7XG4gICAgICB0bzogXCIqXCIsXG4gICAgICBwYXlsb2FkOiB0ZXh0LFxuICAgICAgbGFiZWw6IFwiY2hhdFwiLFxuICAgIH0pO1xuICAgIHNldFRleHQoXCJcIik7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS8zIGJvcmRlci0yIGJvcmRlci1ibHVlLTQwMCByb3VuZGVkLWxnIGZsZXggZmxleC1jb2xcIj5cbiAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LTJ4bCBteS0yIGJvcmRlci1iIGJvcmRlci1ibHVlLTQwMFwiPlxuICAgICAgICBDaGF0IFJvb21cbiAgICAgIDwvaDE+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBwLTQgYm9yZGVyLWIgYm9yZGVyLWJsdWUtNDAwXCI+XG4gICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGluZGV4KSA9PlxuICAgICAgICAgIG1lc3NhZ2Uuc2VuZGVyID09PSBwZWVySWQgPyAoXG4gICAgICAgICAgICA8TG9jYWxNZXNzYWdlQnViYmxlIGtleT17aW5kZXh9IG1lc3NhZ2U9e21lc3NhZ2V9IC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxSZW1vdGVNZXNzYWdlQnViYmxlIGtleT17aW5kZXh9IG1lc3NhZ2U9e21lc3NhZ2V9IC8+XG4gICAgICAgICAgKVxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggcC0xXCI+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJzZWxmLWVuZCB3LWZ1bGwgYmctWyNCMUQyN0JdICB0ZXh0LXdoaXRlIG91dGxpbmUtbm9uZSBwLTIgdGV4dC1zbVwiXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIE1lc3NhZ2UuLi5cIlxuICAgICAgICAgIHZhbHVlPXt0ZXh0fVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHNldFRleHQoZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICBvbktleURvd249eyhldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICAgIHNlbmRNZXNzYWdlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIHNlbmRNZXNzYWdlKCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgIHdpZHRoPVwiMjRcIlxuICAgICAgICAgICAgaGVpZ2h0PVwiMjRcIlxuICAgICAgICAgICAgdmlld0JveD1cIi0yLjQgLTIuNCAyOC44MCAyOC44MFwiXG4gICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgIHN0cm9rZT1cIiMwMDAwMDBcIlxuICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiMC4wMDAyNDAwMDAwMDAwMDAwMDAwM1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2JnQ2FycmllclwiIHN0cm9rZS13aWR0aD1cIjBcIj48L2c+XG4gICAgICAgICAgICA8Z1xuICAgICAgICAgICAgICBpZD1cIlNWR1JlcG9fdHJhY2VyQ2FycmllclwiXG4gICAgICAgICAgICAgIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgICBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICA+PC9nPlxuICAgICAgICAgICAgPGcgaWQ9XCJTVkdSZXBvX2ljb25DYXJyaWVyXCI+XG4gICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgZmlsbC1ydWxlPVwiZXZlbm9kZFwiXG4gICAgICAgICAgICAgICAgY2xpcC1ydWxlPVwiZXZlbm9kZFwiXG4gICAgICAgICAgICAgICAgZD1cIk0xLjI2NSA0LjQyNjE5QzEuMDQyOTMgMi44NzE2NyAyLjYxNjkgMS42NzkzMSA0LjA1MzIzIDIuMzEzOTdMMjEuODM0MSAxMC4xNzA2QzIzLjQyMyAxMC44NzI3IDIzLjQyMyAxMy4xMjczIDIxLjgzNDEgMTMuODI5NEw0LjA1MzIzIDIxLjY4NkMyLjYxNjkgMjIuMzIwNyAxLjA0MjkzIDIxLjEyODMgMS4yNjUgMTkuNTczOEwxLjk5MTAyIDE0LjQ5MTdDMi4wNjAwMiAxNC4wMDg3IDIuNDE0NTggMTMuNjE1NiAyLjg4NzkxIDEzLjQ5NzJMOC44NzY4OCAxMkwyLjg4NzkxIDEwLjUwMjhDMi40MTQ1OCAxMC4zODQ0IDIuMDYwMDIgOS45OTEyOSAxLjk5MTAyIDkuNTA4MjlMMS4yNjUgNC40MjYxOVpNMjEuMDI1NyAxMkwzLjI0NDkgNC4xNDMzNUwzLjg5NDg0IDguNjkyOTRMMTIuODU0NSAxMC45MzI4QzEzLjk2NTQgMTEuMjEwNiAxMy45NjU0IDEyLjc4OTQgMTIuODU0NSAxMy4wNjcyTDMuODk0ODQgMTUuMzA3MUwzLjI0NDkgMTkuODU2NkwyMS4wMjU3IDEyWlwiXG4gICAgICAgICAgICAgICAgZmlsbD1cIiNmZmZmZmZcIlxuICAgICAgICAgICAgICA+PC9wYXRoPlxuICAgICAgICAgICAgPC9nPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBDaGF0Qm94O1xuIl0sIm5hbWVzIjpbInVzZURhdGFNZXNzYWdlIiwidXNlTG9jYWxQZWVyIiwidXNlU3RhdGUiLCJMb2NhbE1lc3NhZ2VCdWJibGUiLCJSZW1vdGVNZXNzYWdlQnViYmxlIiwiQ2hhdEJveCIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJ0ZXh0Iiwic2V0VGV4dCIsInBlZXJJZCIsIm1ldGFkYXRhIiwiY29uc29sZSIsImxvZyIsInNlbmREYXRhIiwib25NZXNzYWdlIiwicGF5bG9hZCIsImZyb20iLCJsYWJlbCIsInByZXYiLCJzZW5kZXIiLCJzZW5kTWVzc2FnZSIsInRvIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDEiLCJtYXAiLCJtZXNzYWdlIiwiaW5kZXgiLCJpbnB1dCIsInR5cGUiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwib25DaGFuZ2UiLCJldmVudCIsInRhcmdldCIsIm9uS2V5RG93biIsImtleSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzdmciLCJ3aWR0aCIsImhlaWdodCIsInZpZXdCb3giLCJmaWxsIiwieG1sbnMiLCJzdHJva2UiLCJzdHJva2Utd2lkdGgiLCJnIiwiaWQiLCJzdHJva2UtbGluZWNhcCIsInN0cm9rZS1saW5lam9pbiIsInBhdGgiLCJmaWxsLXJ1bGUiLCJjbGlwLXJ1bGUiLCJkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/component/ChatBox/ChatBox.jsx\n"));

/***/ }),

/***/ "./src/component/ChatBox/LocalMessageBubble.jsx":
/*!******************************************************!*\
  !*** ./src/component/ChatBox/LocalMessageBubble.jsx ***!
  \******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction LocalMessageBubble(param) {\n    let { message } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full items-end flex flex-col bg-white rounded-lg\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            className: \"text-white text-sm\",\n            children: message.text\n        }, void 0, false, {\n            fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/LocalMessageBubble.jsx\",\n            lineNumber: 5,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/LocalMessageBubble.jsx\",\n        lineNumber: 4,\n        columnNumber: 5\n    }, this);\n}\n_c = LocalMessageBubble;\n/* harmony default export */ __webpack_exports__[\"default\"] = (LocalMessageBubble);\nvar _c;\n$RefreshReg$(_c, \"LocalMessageBubble\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50L0NoYXRCb3gvTG9jYWxNZXNzYWdlQnViYmxlLmpzeCIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsU0FBU0EsbUJBQW1CLEtBQVc7UUFBWCxFQUFFQyxPQUFPLEVBQUUsR0FBWDtJQUUxQixxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0M7WUFBS0QsV0FBVTtzQkFBc0JGLFFBQVFJLElBQUk7Ozs7Ozs7Ozs7O0FBR3hEO0tBUFNMO0FBU1QsK0RBQWVBLGtCQUFrQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50L0NoYXRCb3gvTG9jYWxNZXNzYWdlQnViYmxlLmpzeD9mYjMxIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIExvY2FsTWVzc2FnZUJ1YmJsZSh7IG1lc3NhZ2UgfSkge1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaXRlbXMtZW5kIGZsZXggZmxleC1jb2wgYmctd2hpdGUgcm91bmRlZC1sZ1wiPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXNtXCI+e21lc3NhZ2UudGV4dH08L3NwYW4+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvY2FsTWVzc2FnZUJ1YmJsZTtcbiJdLCJuYW1lcyI6WyJMb2NhbE1lc3NhZ2VCdWJibGUiLCJtZXNzYWdlIiwiZGl2IiwiY2xhc3NOYW1lIiwic3BhbiIsInRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/component/ChatBox/LocalMessageBubble.jsx\n"));

/***/ }),

/***/ "./src/component/ChatBox/RemoteMessageBubble.jsx":
/*!*******************************************************!*\
  !*** ./src/component/ChatBox/RemoteMessageBubble.jsx ***!
  \*******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @huddle01/react/hooks */ \"./node_modules/@huddle01/react/dist/hooks/index.js\");\n\nvar _s = $RefreshSig$();\n\nfunction RemoteMessageBubble(param) {\n    let { message } = param;\n    _s();\n    const { metadata } = (0,_huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__.useRemotePeer)({\n        peerId: message.sender\n    });\n    console.log({\n        metadata\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"items-start flex flex-col\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-blue-400 text-sm\",\n                children: metadata === null || metadata === void 0 ? void 0 : metadata.displayName\n            }, void 0, false, {\n                fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/RemoteMessageBubble.jsx\",\n                lineNumber: 8,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-white text-sm\",\n                children: message.text\n            }, void 0, false, {\n                fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/RemoteMessageBubble.jsx\",\n                lineNumber: 9,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/ramit/healphi/healyphi/src/component/ChatBox/RemoteMessageBubble.jsx\",\n        lineNumber: 7,\n        columnNumber: 5\n    }, this);\n}\n_s(RemoteMessageBubble, \"Im3zJ6YW5XQHztSiDyCnLXi5i6I=\", false, function() {\n    return [\n        _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__.useRemotePeer\n    ];\n});\n_c = RemoteMessageBubble;\n/* harmony default export */ __webpack_exports__[\"default\"] = (RemoteMessageBubble);\nvar _c;\n$RefreshReg$(_c, \"RemoteMessageBubble\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50L0NoYXRCb3gvUmVtb3RlTWVzc2FnZUJ1YmJsZS5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBRXRELFNBQVNDLG9CQUFvQixLQUFXO1FBQVgsRUFBRUMsT0FBTyxFQUFFLEdBQVg7O0lBQzNCLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdILG9FQUFhQSxDQUFDO1FBQUVJLFFBQVFGLFFBQVFHLE1BQU07SUFBQztJQUM1REMsUUFBUUMsR0FBRyxDQUFDO1FBQUVKO0lBQVM7SUFDdkIscUJBQ0UsOERBQUNLO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDQztnQkFBS0QsV0FBVTswQkFBeUJOLHFCQUFBQSwrQkFBQUEsU0FBVVEsV0FBVzs7Ozs7OzBCQUM5RCw4REFBQ0Q7Z0JBQUtELFdBQVU7MEJBQXNCUCxRQUFRVSxJQUFJOzs7Ozs7Ozs7Ozs7QUFHeEQ7R0FUU1g7O1FBQ2NELGdFQUFhQTs7O0tBRDNCQztBQVdULCtEQUFlQSxtQkFBbUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudC9DaGF0Qm94L1JlbW90ZU1lc3NhZ2VCdWJibGUuanN4P2ZjY2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlUmVtb3RlUGVlciB9IGZyb20gXCJAaHVkZGxlMDEvcmVhY3QvaG9va3NcIjtcblxuZnVuY3Rpb24gUmVtb3RlTWVzc2FnZUJ1YmJsZSh7IG1lc3NhZ2UgfSkge1xuICBjb25zdCB7IG1ldGFkYXRhIH0gPSB1c2VSZW1vdGVQZWVyKHsgcGVlcklkOiBtZXNzYWdlLnNlbmRlciB9KTtcbiAgY29uc29sZS5sb2coeyBtZXRhZGF0YSB9KTtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW1zLXN0YXJ0IGZsZXggZmxleC1jb2xcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS00MDAgdGV4dC1zbVwiPnttZXRhZGF0YT8uZGlzcGxheU5hbWV9PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXNtXCI+e21lc3NhZ2UudGV4dH08L3NwYW4+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlbW90ZU1lc3NhZ2VCdWJibGU7XG4iXSwibmFtZXMiOlsidXNlUmVtb3RlUGVlciIsIlJlbW90ZU1lc3NhZ2VCdWJibGUiLCJtZXNzYWdlIiwibWV0YWRhdGEiLCJwZWVySWQiLCJzZW5kZXIiLCJjb25zb2xlIiwibG9nIiwiZGl2IiwiY2xhc3NOYW1lIiwic3BhbiIsImRpc3BsYXlOYW1lIiwidGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/component/ChatBox/RemoteMessageBubble.jsx\n"));

/***/ }),

/***/ "./src/component/RemotePeer/RemotePeer.jsx":
/*!*************************************************!*\
  !*** ./src/component/RemotePeer/RemotePeer.jsx ***!
  \*************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @huddle01/react/hooks */ \"./node_modules/@huddle01/react/dist/hooks/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n\nvar _s = $RefreshSig$();\n\n\nconst RemotePeer = (param)=>{\n    let { peerId } = param;\n    _s();\n    const { stream, state } = (0,_huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__.useRemoteVideo)({\n        peerId\n    });\n    const { stream: audioStream, state: audioState } = (0,_huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__.useRemoteAudio)({\n        peerId\n    });\n    const { videoStream: screenVideo, audioStream: screenAudio } = (0,_huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__.useRemoteScreenShare)({\n        peerId\n    });\n    const vidRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const screenVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const screenAudioRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        console.log(\"stream\", stream);\n        if (stream && vidRef.current && state === \"playable\") {\n            vidRef.current.srcObject = stream;\n            vidRef.current.onloadedmetadata = async ()=>{\n                try {\n                    var _vidRef_current;\n                    (_vidRef_current = vidRef.current) === null || _vidRef_current === void 0 ? void 0 : _vidRef_current.play();\n                } catch (error) {\n                    console.error(error);\n                }\n            };\n            vidRef.current.onerror = ()=>{\n                console.error(\"videoCard() | Error is hapenning...\");\n            };\n        }\n    }, [\n        stream\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (audioStream && audioRef.current && audioState === \"playable\") {\n            audioRef.current.srcObject = audioStream;\n            audioRef.current.onloadedmetadata = async ()=>{\n                try {\n                    var _audioRef_current;\n                    (_audioRef_current = audioRef.current) === null || _audioRef_current === void 0 ? void 0 : _audioRef_current.play();\n                } catch (error) {\n                    console.error(error);\n                }\n            };\n            audioRef.current.onerror = ()=>{\n                console.error(\"videoCard() | Error is hapenning...\");\n            };\n        }\n    }, [\n        audioStream\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (screenVideo && screenVideoRef.current) {\n            screenVideoRef.current.srcObject = screenVideo;\n            screenVideoRef.current.onloadedmetadata = async ()=>{\n                try {\n                    var _screenVideoRef_current;\n                    (_screenVideoRef_current = screenVideoRef.current) === null || _screenVideoRef_current === void 0 ? void 0 : _screenVideoRef_current.play();\n                } catch (error) {\n                    console.error(error);\n                }\n            };\n            screenVideoRef.current.onerror = ()=>{\n                console.error(\"videoCard() | Error is hapenning...\");\n            };\n        }\n    }, [\n        screenVideo\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (screenAudio && screenAudioRef.current) {\n            screenAudioRef.current.srcObject = screenAudio;\n            screenAudioRef.current.onloadedmetadata = async ()=>{\n                try {\n                    var _screenAudioRef_current;\n                    (_screenAudioRef_current = screenAudioRef.current) === null || _screenAudioRef_current === void 0 ? void 0 : _screenAudioRef_current.play();\n                } catch (error) {\n                    console.error(error);\n                }\n            };\n            screenAudioRef.current.onerror = ()=>{\n                console.error(\"videoCard() | Error is hapenning...\");\n            };\n        }\n    }, [\n        screenAudio\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col gap-2\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                ref: vidRef,\n                autoPlay: true,\n                muted: true,\n                className: \"border-2 rounded-xl border-white-400 aspect-video\"\n            }, void 0, false, {\n                fileName: \"/Users/ramit/healphi/healyphi/src/component/RemotePeer/RemotePeer.jsx\",\n                lineNumber: 93,\n                columnNumber: 7\n            }, undefined),\n            screenVideo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                ref: screenVideoRef,\n                autoPlay: true,\n                muted: true,\n                className: \"border-2 rounded-xl border-white-400 aspect-video\"\n            }, void 0, false, {\n                fileName: \"/Users/ramit/healphi/healyphi/src/component/RemotePeer/RemotePeer.jsx\",\n                lineNumber: 100,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                ref: audioRef,\n                autoPlay: true\n            }, void 0, false, {\n                fileName: \"/Users/ramit/healphi/healyphi/src/component/RemotePeer/RemotePeer.jsx\",\n                lineNumber: 107,\n                columnNumber: 7\n            }, undefined),\n            screenAudio && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                ref: screenAudioRef,\n                autoPlay: true\n            }, void 0, false, {\n                fileName: \"/Users/ramit/healphi/healyphi/src/component/RemotePeer/RemotePeer.jsx\",\n                lineNumber: 108,\n                columnNumber: 23\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/ramit/healphi/healyphi/src/component/RemotePeer/RemotePeer.jsx\",\n        lineNumber: 92,\n        columnNumber: 5\n    }, undefined);\n};\n_s(RemotePeer, \"grUGVINlY+yCTY5EM0wEKi4iCWA=\", false, function() {\n    return [\n        _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__.useRemoteVideo,\n        _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__.useRemoteAudio,\n        _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_1__.useRemoteScreenShare\n    ];\n});\n_c = RemotePeer;\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/_c1 = react__WEBPACK_IMPORTED_MODULE_2___default().memo(RemotePeer));\nvar _c, _c1;\n$RefreshReg$(_c, \"RemotePeer\");\n$RefreshReg$(_c1, \"%default%\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50L1JlbW90ZVBlZXIvUmVtb3RlUGVlci5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFJK0I7QUFDa0I7QUFFakQsTUFBTU0sYUFBYTtRQUFDLEVBQUVDLE1BQU0sRUFBRTs7SUFDNUIsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLEtBQUssRUFBRSxHQUFHUCxxRUFBY0EsQ0FBQztRQUFFSztJQUFPO0lBQ2xELE1BQU0sRUFBRUMsUUFBUUUsV0FBVyxFQUFFRCxPQUFPRSxVQUFVLEVBQUUsR0FBR1gscUVBQWNBLENBQUM7UUFBRU87SUFBTztJQUMzRSxNQUFNLEVBQUVLLGFBQWFDLFdBQVcsRUFBRUgsYUFBYUksV0FBVyxFQUFFLEdBQzFEYiwyRUFBb0JBLENBQUM7UUFBRU07SUFBTztJQUNoQyxNQUFNUSxTQUFTViw2Q0FBTUEsQ0FBQztJQUN0QixNQUFNVyxXQUFXWCw2Q0FBTUEsQ0FBQztJQUN4QixNQUFNWSxpQkFBaUJaLDZDQUFNQSxDQUFDO0lBQzlCLE1BQU1hLGlCQUFpQmIsNkNBQU1BLENBQUM7SUFFOUJELGdEQUFTQSxDQUFDO1FBQ1JlLFFBQVFDLEdBQUcsQ0FBQyxVQUFVWjtRQUN0QixJQUFJQSxVQUFVTyxPQUFPTSxPQUFPLElBQUlaLFVBQVUsWUFBWTtZQUNwRE0sT0FBT00sT0FBTyxDQUFDQyxTQUFTLEdBQUdkO1lBRTNCTyxPQUFPTSxPQUFPLENBQUNFLGdCQUFnQixHQUFHO2dCQUNoQyxJQUFJO3dCQUNGUjtxQkFBQUEsa0JBQUFBLE9BQU9NLE9BQU8sY0FBZE4sc0NBQUFBLGdCQUFnQlMsSUFBSTtnQkFDdEIsRUFBRSxPQUFPQyxPQUFPO29CQUNkTixRQUFRTSxLQUFLLENBQUNBO2dCQUNoQjtZQUNGO1lBRUFWLE9BQU9NLE9BQU8sQ0FBQ0ssT0FBTyxHQUFHO2dCQUN2QlAsUUFBUU0sS0FBSyxDQUFDO1lBQ2hCO1FBQ0Y7SUFDRixHQUFHO1FBQUNqQjtLQUFPO0lBRVhKLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSU0sZUFBZU0sU0FBU0ssT0FBTyxJQUFJVixlQUFlLFlBQVk7WUFDaEVLLFNBQVNLLE9BQU8sQ0FBQ0MsU0FBUyxHQUFHWjtZQUU3Qk0sU0FBU0ssT0FBTyxDQUFDRSxnQkFBZ0IsR0FBRztnQkFDbEMsSUFBSTt3QkFDRlA7cUJBQUFBLG9CQUFBQSxTQUFTSyxPQUFPLGNBQWhCTCx3Q0FBQUEsa0JBQWtCUSxJQUFJO2dCQUN4QixFQUFFLE9BQU9DLE9BQU87b0JBQ2ROLFFBQVFNLEtBQUssQ0FBQ0E7Z0JBQ2hCO1lBQ0Y7WUFFQVQsU0FBU0ssT0FBTyxDQUFDSyxPQUFPLEdBQUc7Z0JBQ3pCUCxRQUFRTSxLQUFLLENBQUM7WUFDaEI7UUFDRjtJQUNGLEdBQUc7UUFBQ2Y7S0FBWTtJQUVoQk4sZ0RBQVNBLENBQUM7UUFDUixJQUFJUyxlQUFlSSxlQUFlSSxPQUFPLEVBQUU7WUFDekNKLGVBQWVJLE9BQU8sQ0FBQ0MsU0FBUyxHQUFHVDtZQUVuQ0ksZUFBZUksT0FBTyxDQUFDRSxnQkFBZ0IsR0FBRztnQkFDeEMsSUFBSTt3QkFDRk47cUJBQUFBLDBCQUFBQSxlQUFlSSxPQUFPLGNBQXRCSiw4Q0FBQUEsd0JBQXdCTyxJQUFJO2dCQUM5QixFQUFFLE9BQU9DLE9BQU87b0JBQ2ROLFFBQVFNLEtBQUssQ0FBQ0E7Z0JBQ2hCO1lBQ0Y7WUFFQVIsZUFBZUksT0FBTyxDQUFDSyxPQUFPLEdBQUc7Z0JBQy9CUCxRQUFRTSxLQUFLLENBQUM7WUFDaEI7UUFDRjtJQUNGLEdBQUc7UUFBQ1o7S0FBWTtJQUVoQlQsZ0RBQVNBLENBQUM7UUFDUixJQUFJVSxlQUFlSSxlQUFlRyxPQUFPLEVBQUU7WUFDekNILGVBQWVHLE9BQU8sQ0FBQ0MsU0FBUyxHQUFHUjtZQUVuQ0ksZUFBZUcsT0FBTyxDQUFDRSxnQkFBZ0IsR0FBRztnQkFDeEMsSUFBSTt3QkFDRkw7cUJBQUFBLDBCQUFBQSxlQUFlRyxPQUFPLGNBQXRCSCw4Q0FBQUEsd0JBQXdCTSxJQUFJO2dCQUM5QixFQUFFLE9BQU9DLE9BQU87b0JBQ2ROLFFBQVFNLEtBQUssQ0FBQ0E7Z0JBQ2hCO1lBQ0Y7WUFFQVAsZUFBZUcsT0FBTyxDQUFDSyxPQUFPLEdBQUc7Z0JBQy9CUCxRQUFRTSxLQUFLLENBQUM7WUFDaEI7UUFDRjtJQUNGLEdBQUc7UUFBQ1g7S0FBWTtJQUVoQixxQkFDRSw4REFBQ2E7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNDO2dCQUNDQyxLQUFLZjtnQkFDTGdCLFFBQVE7Z0JBQ1JDLEtBQUs7Z0JBQ0xKLFdBQVU7Ozs7OztZQUVYZiw2QkFDQyw4REFBQ2dCO2dCQUNDQyxLQUFLYjtnQkFDTGMsUUFBUTtnQkFDUkMsS0FBSztnQkFDTEosV0FBVTs7Ozs7OzBCQUdkLDhEQUFDSztnQkFBTUgsS0FBS2Q7Z0JBQVVlLFFBQVE7Ozs7OztZQUM3QmpCLDZCQUFlLDhEQUFDbUI7Z0JBQU1ILEtBQUtaO2dCQUFnQmEsUUFBUTs7Ozs7Ozs7Ozs7O0FBRzFEO0dBdkdNekI7O1FBQ3NCSixpRUFBY0E7UUFDV0YsaUVBQWNBO1FBRS9EQyx1RUFBb0JBOzs7S0FKbEJLO0FBeUdOLGtGQUFlSCxpREFBVSxDQUFDRyxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnQvUmVtb3RlUGVlci9SZW1vdGVQZWVyLmpzeD9hMjgyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZVJlbW90ZUF1ZGlvLFxuICB1c2VSZW1vdGVTY3JlZW5TaGFyZSxcbiAgdXNlUmVtb3RlVmlkZW8sXG59IGZyb20gJ0BodWRkbGUwMS9yZWFjdC9ob29rcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IFJlbW90ZVBlZXIgPSAoeyBwZWVySWQgfSkgPT4ge1xuICBjb25zdCB7IHN0cmVhbSwgc3RhdGUgfSA9IHVzZVJlbW90ZVZpZGVvKHsgcGVlcklkIH0pO1xuICBjb25zdCB7IHN0cmVhbTogYXVkaW9TdHJlYW0sIHN0YXRlOiBhdWRpb1N0YXRlIH0gPSB1c2VSZW1vdGVBdWRpbyh7IHBlZXJJZCB9KTtcbiAgY29uc3QgeyB2aWRlb1N0cmVhbTogc2NyZWVuVmlkZW8sIGF1ZGlvU3RyZWFtOiBzY3JlZW5BdWRpbyB9ID1cbiAgICB1c2VSZW1vdGVTY3JlZW5TaGFyZSh7IHBlZXJJZCB9KTtcbiAgY29uc3QgdmlkUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBhdWRpb1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qgc2NyZWVuVmlkZW9SZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHNjcmVlbkF1ZGlvUmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3N0cmVhbScsIHN0cmVhbSk7XG4gICAgaWYgKHN0cmVhbSAmJiB2aWRSZWYuY3VycmVudCAmJiBzdGF0ZSA9PT0gJ3BsYXlhYmxlJykge1xuICAgICAgdmlkUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuXG4gICAgICB2aWRSZWYuY3VycmVudC5vbmxvYWRlZG1ldGFkYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZpZFJlZi5jdXJyZW50Py5wbGF5KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZpZFJlZi5jdXJyZW50Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ3ZpZGVvQ2FyZCgpIHwgRXJyb3IgaXMgaGFwZW5uaW5nLi4uJyk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW3N0cmVhbV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF1ZGlvU3RyZWFtICYmIGF1ZGlvUmVmLmN1cnJlbnQgJiYgYXVkaW9TdGF0ZSA9PT0gJ3BsYXlhYmxlJykge1xuICAgICAgYXVkaW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBhdWRpb1N0cmVhbTtcblxuICAgICAgYXVkaW9SZWYuY3VycmVudC5vbmxvYWRlZG1ldGFkYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF1ZGlvUmVmLmN1cnJlbnQ/LnBsYXkoKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgYXVkaW9SZWYuY3VycmVudC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCd2aWRlb0NhcmQoKSB8IEVycm9yIGlzIGhhcGVubmluZy4uLicpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFthdWRpb1N0cmVhbV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNjcmVlblZpZGVvICYmIHNjcmVlblZpZGVvUmVmLmN1cnJlbnQpIHtcbiAgICAgIHNjcmVlblZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0ID0gc2NyZWVuVmlkZW87XG5cbiAgICAgIHNjcmVlblZpZGVvUmVmLmN1cnJlbnQub25sb2FkZWRtZXRhZGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzY3JlZW5WaWRlb1JlZi5jdXJyZW50Py5wbGF5KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNjcmVlblZpZGVvUmVmLmN1cnJlbnQub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcigndmlkZW9DYXJkKCkgfCBFcnJvciBpcyBoYXBlbm5pbmcuLi4nKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbc2NyZWVuVmlkZW9dKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzY3JlZW5BdWRpbyAmJiBzY3JlZW5BdWRpb1JlZi5jdXJyZW50KSB7XG4gICAgICBzY3JlZW5BdWRpb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IHNjcmVlbkF1ZGlvO1xuXG4gICAgICBzY3JlZW5BdWRpb1JlZi5jdXJyZW50Lm9ubG9hZGVkbWV0YWRhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2NyZWVuQXVkaW9SZWYuY3VycmVudD8ucGxheSgpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzY3JlZW5BdWRpb1JlZi5jdXJyZW50Lm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ3ZpZGVvQ2FyZCgpIHwgRXJyb3IgaXMgaGFwZW5uaW5nLi4uJyk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW3NjcmVlbkF1ZGlvXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTJcIj5cbiAgICAgIDx2aWRlb1xuICAgICAgICByZWY9e3ZpZFJlZn1cbiAgICAgICAgYXV0b1BsYXlcbiAgICAgICAgbXV0ZWRcbiAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyLTIgcm91bmRlZC14bCBib3JkZXItd2hpdGUtNDAwIGFzcGVjdC12aWRlb1wiXG4gICAgICAvPlxuICAgICAge3NjcmVlblZpZGVvICYmIChcbiAgICAgICAgPHZpZGVvXG4gICAgICAgICAgcmVmPXtzY3JlZW5WaWRlb1JlZn1cbiAgICAgICAgICBhdXRvUGxheVxuICAgICAgICAgIG11dGVkXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyLTIgcm91bmRlZC14bCBib3JkZXItd2hpdGUtNDAwIGFzcGVjdC12aWRlb1wiXG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAgPGF1ZGlvIHJlZj17YXVkaW9SZWZ9IGF1dG9QbGF5PjwvYXVkaW8+XG4gICAgICB7c2NyZWVuQXVkaW8gJiYgPGF1ZGlvIHJlZj17c2NyZWVuQXVkaW9SZWZ9IGF1dG9QbGF5PjwvYXVkaW8+fVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhSZW1vdGVQZWVyKTtcbiJdLCJuYW1lcyI6WyJ1c2VSZW1vdGVBdWRpbyIsInVzZVJlbW90ZVNjcmVlblNoYXJlIiwidXNlUmVtb3RlVmlkZW8iLCJSZWFjdCIsInVzZUVmZmVjdCIsInVzZVJlZiIsIlJlbW90ZVBlZXIiLCJwZWVySWQiLCJzdHJlYW0iLCJzdGF0ZSIsImF1ZGlvU3RyZWFtIiwiYXVkaW9TdGF0ZSIsInZpZGVvU3RyZWFtIiwic2NyZWVuVmlkZW8iLCJzY3JlZW5BdWRpbyIsInZpZFJlZiIsImF1ZGlvUmVmIiwic2NyZWVuVmlkZW9SZWYiLCJzY3JlZW5BdWRpb1JlZiIsImNvbnNvbGUiLCJsb2ciLCJjdXJyZW50Iiwic3JjT2JqZWN0Iiwib25sb2FkZWRtZXRhZGF0YSIsInBsYXkiLCJlcnJvciIsIm9uZXJyb3IiLCJkaXYiLCJjbGFzc05hbWUiLCJ2aWRlbyIsInJlZiIsImF1dG9QbGF5IiwibXV0ZWQiLCJhdWRpbyIsIm1lbW8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/component/RemotePeer/RemotePeer.jsx\n"));

/***/ }),

/***/ "./src/pages/[roomId]/index.jsx":
/*!**************************************!*\
  !*** ./src/pages/[roomId]/index.jsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __N_SSP: function() { return /* binding */ __N_SSP; },\n/* harmony export */   \"default\": function() { return /* binding */ Home; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_src_pages_roomId_index_jsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"src/pages/[roomId]/index.jsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src/pages/[roomId]/index.jsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_src_pages_roomId_index_jsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_src_pages_roomId_index_jsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _component_ChatBox_ChatBox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/component/ChatBox/ChatBox */ \"./src/component/ChatBox/ChatBox.jsx\");\n/* harmony import */ var _component_RemotePeer_RemotePeer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/component/RemotePeer/RemotePeer */ \"./src/component/RemotePeer/RemotePeer.jsx\");\n/* harmony import */ var _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @huddle01/react/hooks */ \"./node_modules/@huddle01/react/dist/hooks/index.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\nvar __N_SSP = true;\nfunction Home(param) {\n    let { token } = param;\n    _s();\n    const [displayName, setDisplayName] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(\"\");\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n    const screenRef = (0,react__WEBPACK_IMPORTED_MODULE_5__.useRef)(null);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    const [isRecording, setIsRecording] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(false);\n    const { joinRoom, state } = (0,_huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useRoom)({\n        onJoin: (room)=>{\n            console.log(\"onJoin\", room);\n            updateMetadata({\n                displayName\n            });\n        },\n        onPeerJoin: (peer)=>{\n            console.log(\"onPeerJoin\", peer);\n        }\n    });\n    const { enableVideo, isVideoOn, stream, disableVideo } = (0,_huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLocalVideo)();\n    const { enableAudio, disableAudio, isAudioOn } = (0,_huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLocalAudio)();\n    const { startScreenShare, stopScreenShare, shareStream } = (0,_huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLocalScreenShare)();\n    const { updateMetadata } = (0,_huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLocalPeer)();\n    const { peerIds } = (0,_huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__.usePeerIds)();\n    (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(()=>{\n        if (stream && videoRef.current) {\n            videoRef.current.srcObject = stream;\n        }\n    }, [\n        stream\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)(()=>{\n        if (shareStream && screenRef.current) {\n            screenRef.current.srcObject = shareStream;\n        }\n    }, [\n        shareStream\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"flex min-h-screen flex-col items-center bg-[#B1D27B]  p-4 \".concat((next_font_google_target_css_path_src_pages_roomId_index_jsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_6___default().className)),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"z-10 max-w-5xl w-full items-center justify-between bg-[#B1D27B] font-mono text-sm lg:flex\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"fixed left-0 top-0 flex w-full justify-center border-b border-gray-300 bg-gradient-to-b from-zinc-200 pb-6 pt-8 backdrop-blur-2xl dark:border-neutral-800 dark:bg-zinc-800/30 dark:from-inherit lg:static lg:w-auto  lg:rounded-xl lg:border lg:bg-gray-200 lg:p-4 lg:dark:bg-zinc-800/30\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                            className: \"font-mono font-bold\",\n                            children: state\n                        }, void 0, false, {\n                            fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                            lineNumber: 59,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                        lineNumber: 58,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed bottom-0 left-0 flex h-48 w-full items-end justify-center  dark:from-black dark:via-black lg:static lg:h-auto lg:w-auto lg:bg-none\",\n                        children: [\n                            state === \"idle\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        disabled: state !== \"idle\",\n                                        placeholder: \"Display Name\",\n                                        type: \"text\",\n                                        className: \"border-2 border-blue-400 rounded-lg p-2 mx-2 bg-black text-white\",\n                                        value: displayName,\n                                        onChange: (event)=>setDisplayName(event.target.value)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                        lineNumber: 64,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        disabled: !displayName,\n                                        type: \"button\",\n                                        className: \"bg-blue-500 p-2 mx-2 rounded-lg\",\n                                        onClick: async ()=>{\n                                            await joinRoom({\n                                                roomId: router.query.roomId,\n                                                token\n                                            });\n                                        },\n                                        children: \"Join Room\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                        lineNumber: 73,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true),\n                            state === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"bg-blue-500 p-2 mx-2 rounded-lg\",\n                                        onClick: async ()=>{\n                                            isVideoOn ? await disableVideo() : await enableVideo();\n                                        },\n                                        children: isVideoOn ? \"Disable Video\" : \"Enable Video\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                        lineNumber: 91,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"bg-blue-500 p-2 mx-2 rounded-lg\",\n                                        onClick: async ()=>{\n                                            isAudioOn ? await disableAudio() : await enableAudio();\n                                        },\n                                        children: isAudioOn ? \"Disable Audio\" : \"Enable Audio\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                        lineNumber: 99,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"bg-blue-500 p-2 mx-2 rounded-lg\",\n                                        onClick: async ()=>{\n                                            shareStream ? await stopScreenShare() : await startScreenShare();\n                                        },\n                                        children: shareStream ? \"Disable Screen\" : \"Enable Screen\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                        lineNumber: 107,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"bg-blue-500 p-2 mx-2 rounded-lg\",\n                                        onClick: async ()=>{\n                                            const status = isRecording ? await fetch(\"/api/stopRecording?roomId=\".concat(router.query.roomId)) : await fetch(\"/api/startRecording?roomId=\".concat(router.query.roomId));\n                                            const data = await status.json();\n                                            console.log({\n                                                data\n                                            });\n                                            setIsRecording(!isRecording);\n                                        },\n                                        children: isRecording ? \"Stop Recording\" : \"Start Recording\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                        lineNumber: 117,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                        lineNumber: 61,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                lineNumber: 57,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full mt-8 flex gap-4 justify-between items-stretch\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 justify-between items-center flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative flex place-items-center before:absolute before:h-[300px] before:w-[480px] before:-translate-x-1/2 before:rounded-full before:bg-gradient-radial before:from-white before:to-transparent before:blur-2xl before:content-[''] after:absolute after:-z-20 after:h-[180px] after:w-[240px] after:translate-x-1/3 after:bg-gradient-conic after:from-sky-200 after:via-blue-200 after:blur-2xl after:content-[''] before:dark:bg-gradient-to-br before:dark:from-transparent before:dark:to-blue-700/10 after:dark:from-sky-900 after:dark:via-[#0141ff]/40 before:lg:h-[360px]\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative flex gap-2\",\n                                    children: [\n                                        isVideoOn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \" flex flex-col\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-40 mx-auto border-2 rounded-xl border-blue-400\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                                        ref: videoRef,\n                                                        className: \"aspect-video rounded-xl\",\n                                                        autoPlay: true,\n                                                        muted: true\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                                        lineNumber: 147,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                                    lineNumber: 146,\n                                                    columnNumber: 19\n                                                }, this),\n                                                state === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-fit flex mt-24\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"bg-blue-500 p-2 mx-2 rounded-lg\",\n                                                            onClick: async ()=>{\n                                                                isVideoOn ? await disableVideo() : await enableVideo();\n                                                            },\n                                                            children: isVideoOn ? \"Disable Video\" : \"Enable Video\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                                            lineNumber: 156,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"bg-blue-500 p-2 mx-2 rounded-lg\",\n                                                            onClick: async ()=>{\n                                                                isAudioOn ? await disableAudio() : await enableAudio();\n                                                            },\n                                                            children: isAudioOn ? \"Disable Audio\" : \"Enable Audio\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                                            lineNumber: 166,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"bg-blue-500 p-2 mx-2 rounded-lg\",\n                                                            onClick: async ()=>{\n                                                                shareStream ? await stopScreenShare() : await startScreenShare();\n                                                            },\n                                                            children: shareStream ? \"Disable Screen\" : \"Enable Screen\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                                            lineNumber: 176,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            className: \"bg-blue-500 p-2 mx-2 rounded-lg\",\n                                                            onClick: async ()=>{\n                                                                const status = isRecording ? await fetch(\"/api/stopRecording?roomId=\".concat(router.query.roomId)) : await fetch(\"/api/startRecording?roomId=\".concat(router.query.roomId));\n                                                                const data = await status.json();\n                                                                console.log({\n                                                                    data\n                                                                });\n                                                                setIsRecording(!isRecording);\n                                                            },\n                                                            children: isRecording ? \"Stop Recording\" : \"Start Recording\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                                            lineNumber: 186,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                                    lineNumber: 155,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                            lineNumber: 145,\n                                            columnNumber: 17\n                                        }, this),\n                                        shareStream && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-1/2 mx-auto border-2 rounded-xl border-blue-400\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                                ref: screenRef,\n                                                className: \"aspect-video rounded-xl\",\n                                                autoPlay: true,\n                                                muted: true\n                                            }, void 0, false, {\n                                                fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                                lineNumber: 211,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                            lineNumber: 210,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                    lineNumber: 143,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                lineNumber: 142,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-8 mb-32 grid gap-2 text-center lg:max-w-5xl lg:w-full lg:mb-0 lg:grid-cols-4 lg:text-left\",\n                                children: peerIds.map((peerId)=>peerId ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_component_RemotePeer_RemotePeer__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        peerId: peerId\n                                    }, peerId, false, {\n                                        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                        lineNumber: 224,\n                                        columnNumber: 24\n                                    }, this) : null)\n                            }, void 0, false, {\n                                fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                                lineNumber: 222,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                        lineNumber: 141,\n                        columnNumber: 9\n                    }, this),\n                    state === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_component_ChatBox_ChatBox__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {}, void 0, false, {\n                        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                        lineNumber: 228,\n                        columnNumber: 35\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n                lineNumber: 140,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/ramit/healphi/healyphi/src/pages/[roomId]/index.jsx\",\n        lineNumber: 54,\n        columnNumber: 5\n    }, this);\n}\n_s(Home, \"wzsTJtBiiOzOJqWjWzOMLBtBzAA=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter,\n        _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useRoom,\n        _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLocalVideo,\n        _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLocalAudio,\n        _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLocalScreenShare,\n        _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__.useLocalPeer,\n        _huddle01_react_hooks__WEBPACK_IMPORTED_MODULE_3__.usePeerIds\n    ];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVM7Z0VBQ1BsQixjQUNJLE1BQU1ELG9CQUNOLE1BQU1EOzREQUNaO3NFQUVDRSxjQUFjLG1CQUFtQjs7Ozs7O3NFQUVwQyw4REFBQ2lCOzREQUNDWixXQUFVOzREQUNWYSxTQUFTO2dFQUNQLE1BQU1HLFNBQVN6QyxjQUNYLE1BQU0wQyxNQUNKLDZCQUFpRCxPQUFwQjNDLE9BQU95QyxLQUFLLENBQUNELE1BQU0sS0FFbEQsTUFBTUcsTUFDSiw4QkFBa0QsT0FBcEIzQyxPQUFPeUMsS0FBSyxDQUFDRCxNQUFNO2dFQUd2RCxNQUFNSSxPQUFPLE1BQU1GLE9BQU9HLElBQUk7Z0VBQzlCdEMsUUFBUUMsR0FBRyxDQUFDO29FQUFFb0M7Z0VBQUs7Z0VBQ25CMUMsZUFBZSxDQUFDRDs0REFDbEI7c0VBRUNBLGNBQWMsbUJBQW1COzs7Ozs7Ozs7Ozs7Ozs7Ozs7d0NBTzNDb0IsNkJBQ0MsOERBQUNNOzRDQUFJRCxXQUFVO3NEQUNiLDRFQUFDb0I7Z0RBQ0NDLEtBQUtoRDtnREFDTDJCLFdBQVU7Z0RBQ1ZzQixRQUFRO2dEQUNSQyxLQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBDQU9mLDhEQUFDdEI7Z0NBQUlELFdBQVU7MENBQ1pKLFFBQVE0QixHQUFHLENBQUMsQ0FBQ0MsU0FDWkEsdUJBQVMsOERBQUNwRSx3RUFBVUE7d0NBQWNvRSxRQUFRQTt1Q0FBaEJBOzs7OytDQUE2Qjs7Ozs7Ozs7Ozs7O29CQUk1RC9DLFVBQVUsNkJBQWUsOERBQUN0QixrRUFBT0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSTFDO0dBdE53Qlk7O1FBSVBKLGtEQUFTQTtRQUdJRCwwREFBT0E7UUFTc0JGLGdFQUFhQTtRQUNyQkgsZ0VBQWFBO1FBRTVERSxzRUFBbUJBO1FBQ01ELCtEQUFZQTtRQUNuQkcsNkRBQVVBOzs7S0FyQlJNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9wYWdlcy9bcm9vbUlkXS9pbmRleC5qc3g/NTU2NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2hhdEJveCBmcm9tIFwiQC9jb21wb25lbnQvQ2hhdEJveC9DaGF0Qm94XCI7XG5pbXBvcnQgUmVtb3RlUGVlciBmcm9tIFwiQC9jb21wb25lbnQvUmVtb3RlUGVlci9SZW1vdGVQZWVyXCI7XG5pbXBvcnQge1xuICB1c2VMb2NhbEF1ZGlvLFxuICB1c2VMb2NhbFBlZXIsXG4gIHVzZUxvY2FsU2NyZWVuU2hhcmUsXG4gIHVzZUxvY2FsVmlkZW8sXG4gIHVzZVBlZXJJZHMsXG4gIHVzZVJvb20sXG59IGZyb20gXCJAaHVkZGxlMDEvcmVhY3QvaG9va3NcIjtcbmltcG9ydCB7IEFjY2Vzc1Rva2VuLCBSb2xlIH0gZnJvbSBcIkBodWRkbGUwMS9zZXJ2ZXItc2RrL2F1dGhcIjtcbmltcG9ydCB7IEludGVyIH0gZnJvbSBcIm5leHQvZm9udC9nb29nbGVcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmNvbnN0IGludGVyID0gSW50ZXIoeyBzdWJzZXRzOiBbXCJsYXRpblwiXSB9KTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSG9tZSh7IHRva2VuIH0pIHtcbiAgY29uc3QgW2Rpc3BsYXlOYW1lLCBzZXREaXNwbGF5TmFtZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHNjcmVlblJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IFtpc1JlY29yZGluZywgc2V0SXNSZWNvcmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIGNvbnN0IHsgam9pblJvb20sIHN0YXRlIH0gPSB1c2VSb29tKHtcbiAgICBvbkpvaW46IChyb29tKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIm9uSm9pblwiLCByb29tKTtcbiAgICAgIHVwZGF0ZU1ldGFkYXRhKHsgZGlzcGxheU5hbWUgfSk7XG4gICAgfSxcbiAgICBvblBlZXJKb2luOiAocGVlcikgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJvblBlZXJKb2luXCIsIHBlZXIpO1xuICAgIH0sXG4gIH0pO1xuICBjb25zdCB7IGVuYWJsZVZpZGVvLCBpc1ZpZGVvT24sIHN0cmVhbSwgZGlzYWJsZVZpZGVvIH0gPSB1c2VMb2NhbFZpZGVvKCk7XG4gIGNvbnN0IHsgZW5hYmxlQXVkaW8sIGRpc2FibGVBdWRpbywgaXNBdWRpb09uIH0gPSB1c2VMb2NhbEF1ZGlvKCk7XG4gIGNvbnN0IHsgc3RhcnRTY3JlZW5TaGFyZSwgc3RvcFNjcmVlblNoYXJlLCBzaGFyZVN0cmVhbSB9ID1cbiAgICB1c2VMb2NhbFNjcmVlblNoYXJlKCk7XG4gIGNvbnN0IHsgdXBkYXRlTWV0YWRhdGEgfSA9IHVzZUxvY2FsUGVlcigpO1xuICBjb25zdCB7IHBlZXJJZHMgfSA9IHVzZVBlZXJJZHMoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzdHJlYW0gJiYgdmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgdmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBzdHJlYW07XG4gICAgfVxuICB9LCBbc3RyZWFtXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2hhcmVTdHJlYW0gJiYgc2NyZWVuUmVmLmN1cnJlbnQpIHtcbiAgICAgIHNjcmVlblJlZi5jdXJyZW50LnNyY09iamVjdCA9IHNoYXJlU3RyZWFtO1xuICAgIH1cbiAgfSwgW3NoYXJlU3RyZWFtXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8bWFpblxuICAgICAgY2xhc3NOYW1lPXtgZmxleCBtaW4taC1zY3JlZW4gZmxleC1jb2wgaXRlbXMtY2VudGVyIGJnLVsjQjFEMjdCXSAgcC00ICR7aW50ZXIuY2xhc3NOYW1lfWB9XG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ6LTEwIG1heC13LTV4bCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBiZy1bI0IxRDI3Ql0gZm9udC1tb25vIHRleHQtc20gbGc6ZmxleFwiPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJmaXhlZCBsZWZ0LTAgdG9wLTAgZmxleCB3LWZ1bGwganVzdGlmeS1jZW50ZXIgYm9yZGVyLWIgYm9yZGVyLWdyYXktMzAwIGJnLWdyYWRpZW50LXRvLWIgZnJvbS16aW5jLTIwMCBwYi02IHB0LTggYmFja2Ryb3AtYmx1ci0yeGwgZGFyazpib3JkZXItbmV1dHJhbC04MDAgZGFyazpiZy16aW5jLTgwMC8zMCBkYXJrOmZyb20taW5oZXJpdCBsZzpzdGF0aWMgbGc6dy1hdXRvICBsZzpyb3VuZGVkLXhsIGxnOmJvcmRlciBsZzpiZy1ncmF5LTIwMCBsZzpwLTQgbGc6ZGFyazpiZy16aW5jLTgwMC8zMFwiPlxuICAgICAgICAgIDxjb2RlIGNsYXNzTmFtZT1cImZvbnQtbW9ubyBmb250LWJvbGRcIj57c3RhdGV9PC9jb2RlPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTAgbGVmdC0wIGZsZXggaC00OCB3LWZ1bGwgaXRlbXMtZW5kIGp1c3RpZnktY2VudGVyICBkYXJrOmZyb20tYmxhY2sgZGFyazp2aWEtYmxhY2sgbGc6c3RhdGljIGxnOmgtYXV0byBsZzp3LWF1dG8gbGc6Ymctbm9uZVwiPlxuICAgICAgICAgIHtzdGF0ZSA9PT0gXCJpZGxlXCIgJiYgKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3N0YXRlICE9PSBcImlkbGVcIn1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRpc3BsYXkgTmFtZVwiXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJvcmRlci0yIGJvcmRlci1ibHVlLTQwMCByb3VuZGVkLWxnIHAtMiBteC0yIGJnLWJsYWNrIHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtkaXNwbGF5TmFtZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBzZXREaXNwbGF5TmFtZShldmVudC50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWRpc3BsYXlOYW1lfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNTAwIHAtMiBteC0yIHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGF3YWl0IGpvaW5Sb29tKHtcbiAgICAgICAgICAgICAgICAgICAgcm9vbUlkOiByb3V0ZXIucXVlcnkucm9vbUlkLFxuICAgICAgICAgICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBKb2luIFJvb21cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge3N0YXRlID09PSBcImNvbm5lY3RlZFwiICYmIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ibHVlLTUwMCBwLTIgbXgtMiByb3VuZGVkLWxnXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpc1ZpZGVvT24gPyBhd2FpdCBkaXNhYmxlVmlkZW8oKSA6IGF3YWl0IGVuYWJsZVZpZGVvKCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtpc1ZpZGVvT24gPyBcIkRpc2FibGUgVmlkZW9cIiA6IFwiRW5hYmxlIFZpZGVvXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS01MDAgcC0yIG14LTIgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaXNBdWRpb09uID8gYXdhaXQgZGlzYWJsZUF1ZGlvKCkgOiBhd2FpdCBlbmFibGVBdWRpbygpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXNBdWRpb09uID8gXCJEaXNhYmxlIEF1ZGlvXCIgOiBcIkVuYWJsZSBBdWRpb1wifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNTAwIHAtMiBteC0yIHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNoYXJlU3RyZWFtXG4gICAgICAgICAgICAgICAgICAgID8gYXdhaXQgc3RvcFNjcmVlblNoYXJlKClcbiAgICAgICAgICAgICAgICAgICAgOiBhd2FpdCBzdGFydFNjcmVlblNoYXJlKCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtzaGFyZVN0cmVhbSA/IFwiRGlzYWJsZSBTY3JlZW5cIiA6IFwiRW5hYmxlIFNjcmVlblwifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNTAwIHAtMiBteC0yIHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGlzUmVjb3JkaW5nXG4gICAgICAgICAgICAgICAgICAgID8gYXdhaXQgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICBgL2FwaS9zdG9wUmVjb3JkaW5nP3Jvb21JZD0ke3JvdXRlci5xdWVyeS5yb29tSWR9YFxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOiBhd2FpdCBmZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgIGAvYXBpL3N0YXJ0UmVjb3JkaW5nP3Jvb21JZD0ke3JvdXRlci5xdWVyeS5yb29tSWR9YFxuICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBzdGF0dXMuanNvbigpO1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coeyBkYXRhIH0pO1xuICAgICAgICAgICAgICAgICAgc2V0SXNSZWNvcmRpbmcoIWlzUmVjb3JkaW5nKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lzUmVjb3JkaW5nID8gXCJTdG9wIFJlY29yZGluZ1wiIDogXCJTdGFydCBSZWNvcmRpbmdcIn1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBtdC04IGZsZXggZ2FwLTQganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLXN0cmV0Y2hcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4IHBsYWNlLWl0ZW1zLWNlbnRlciBiZWZvcmU6YWJzb2x1dGUgYmVmb3JlOmgtWzMwMHB4XSBiZWZvcmU6dy1bNDgwcHhdIGJlZm9yZTotdHJhbnNsYXRlLXgtMS8yIGJlZm9yZTpyb3VuZGVkLWZ1bGwgYmVmb3JlOmJnLWdyYWRpZW50LXJhZGlhbCBiZWZvcmU6ZnJvbS13aGl0ZSBiZWZvcmU6dG8tdHJhbnNwYXJlbnQgYmVmb3JlOmJsdXItMnhsIGJlZm9yZTpjb250ZW50LVsnJ10gYWZ0ZXI6YWJzb2x1dGUgYWZ0ZXI6LXotMjAgYWZ0ZXI6aC1bMTgwcHhdIGFmdGVyOnctWzI0MHB4XSBhZnRlcjp0cmFuc2xhdGUteC0xLzMgYWZ0ZXI6YmctZ3JhZGllbnQtY29uaWMgYWZ0ZXI6ZnJvbS1za3ktMjAwIGFmdGVyOnZpYS1ibHVlLTIwMCBhZnRlcjpibHVyLTJ4bCBhZnRlcjpjb250ZW50LVsnJ10gYmVmb3JlOmRhcms6YmctZ3JhZGllbnQtdG8tYnIgYmVmb3JlOmRhcms6ZnJvbS10cmFuc3BhcmVudCBiZWZvcmU6ZGFyazp0by1ibHVlLTcwMC8xMCBhZnRlcjpkYXJrOmZyb20tc2t5LTkwMCBhZnRlcjpkYXJrOnZpYS1bIzAxNDFmZl0vNDAgYmVmb3JlOmxnOmgtWzM2MHB4XVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgIHtpc1ZpZGVvT24gJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00MCBteC1hdXRvIGJvcmRlci0yIHJvdW5kZWQteGwgYm9yZGVyLWJsdWUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDx2aWRlb1xuICAgICAgICAgICAgICAgICAgICAgIHJlZj17dmlkZW9SZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYXNwZWN0LXZpZGVvIHJvdW5kZWQteGxcIlxuICAgICAgICAgICAgICAgICAgICAgIGF1dG9QbGF5XG4gICAgICAgICAgICAgICAgICAgICAgbXV0ZWRcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAge3N0YXRlID09PSBcImNvbm5lY3RlZFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZpdCBmbGV4IG10LTI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS01MDAgcC0yIG14LTIgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmlkZW9PblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYXdhaXQgZGlzYWJsZVZpZGVvKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGF3YWl0IGVuYWJsZVZpZGVvKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc1ZpZGVvT24gPyBcIkRpc2FibGUgVmlkZW9cIiA6IFwiRW5hYmxlIFZpZGVvXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS01MDAgcC0yIG14LTIgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXVkaW9PblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYXdhaXQgZGlzYWJsZUF1ZGlvKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGF3YWl0IGVuYWJsZUF1ZGlvKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc0F1ZGlvT24gPyBcIkRpc2FibGUgQXVkaW9cIiA6IFwiRW5hYmxlIEF1ZGlvXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmx1ZS01MDAgcC0yIG14LTIgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlU3RyZWFtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBhd2FpdCBzdG9wU2NyZWVuU2hhcmUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYXdhaXQgc3RhcnRTY3JlZW5TaGFyZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2hhcmVTdHJlYW0gPyBcIkRpc2FibGUgU2NyZWVuXCIgOiBcIkVuYWJsZSBTY3JlZW5cIn1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ibHVlLTUwMCBwLTIgbXgtMiByb3VuZGVkLWxnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gaXNSZWNvcmRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGF3YWl0IGZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgL2FwaS9zdG9wUmVjb3JkaW5nP3Jvb21JZD0ke3JvdXRlci5xdWVyeS5yb29tSWR9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYXdhaXQgZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAvYXBpL3N0YXJ0UmVjb3JkaW5nP3Jvb21JZD0ke3JvdXRlci5xdWVyeS5yb29tSWR9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgc3RhdHVzLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coeyBkYXRhIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc1JlY29yZGluZyghaXNSZWNvcmRpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNSZWNvcmRpbmcgPyBcIlN0b3AgUmVjb3JkaW5nXCIgOiBcIlN0YXJ0IFJlY29yZGluZ1wifVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAge3NoYXJlU3RyZWFtICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS8yIG14LWF1dG8gYm9yZGVyLTIgcm91bmRlZC14bCBib3JkZXItYmx1ZS00MDBcIj5cbiAgICAgICAgICAgICAgICAgIDx2aWRlb1xuICAgICAgICAgICAgICAgICAgICByZWY9e3NjcmVlblJlZn1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYXNwZWN0LXZpZGVvIHJvdW5kZWQteGxcIlxuICAgICAgICAgICAgICAgICAgICBhdXRvUGxheVxuICAgICAgICAgICAgICAgICAgICBtdXRlZFxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04IG1iLTMyIGdyaWQgZ2FwLTIgdGV4dC1jZW50ZXIgbGc6bWF4LXctNXhsIGxnOnctZnVsbCBsZzptYi0wIGxnOmdyaWQtY29scy00IGxnOnRleHQtbGVmdFwiPlxuICAgICAgICAgICAge3BlZXJJZHMubWFwKChwZWVySWQpID0+XG4gICAgICAgICAgICAgIHBlZXJJZCA/IDxSZW1vdGVQZWVyIGtleT17cGVlcklkfSBwZWVySWQ9e3BlZXJJZH0gLz4gOiBudWxsXG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3N0YXRlID09PSBcImNvbm5lY3RlZFwiICYmIDxDaGF0Qm94IC8+fVxuICAgICAgPC9kaXY+XG4gICAgPC9tYWluPlxuICApO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0U2VydmVyU2lkZVByb3BzID0gYXN5bmMgKGN0eCkgPT4ge1xuICBjb25zdCBhY2Nlc3NUb2tlbiA9IG5ldyBBY2Nlc3NUb2tlbih7XG4gICAgYXBpS2V5OiBwcm9jZXNzLmVudi5BUElfS0VZLFxuICAgIHJvb21JZDogY3R4LnBhcmFtcy5yb29tSWQsXG5cbiAgICByb2xlOiBSb2xlLkhPU1QsXG4gICAgcGVybWlzc2lvbnM6IHtcbiAgICAgIGFkbWluOiB0cnVlLFxuICAgICAgY2FuQ29uc3VtZTogdHJ1ZSxcbiAgICAgIGNhblByb2R1Y2U6IHRydWUsXG4gICAgICBjYW5Qcm9kdWNlU291cmNlczoge1xuICAgICAgICBjYW06IHRydWUsXG4gICAgICAgIG1pYzogdHJ1ZSxcbiAgICAgICAgc2NyZWVuOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGNhblJlY3ZEYXRhOiB0cnVlLFxuICAgICAgY2FuU2VuZERhdGE6IHRydWUsXG4gICAgICBjYW5VcGRhdGVNZXRhZGF0YTogdHJ1ZSxcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCB0b2tlbiA9IGF3YWl0IGFjY2Vzc1Rva2VuLnRvSnd0KCk7XG5cbiAgY29uc29sZS5sb2codG9rZW4pO1xuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHsgdG9rZW4gfSxcbiAgfTtcbn07XG4iXSwibmFtZXMiOlsiaW50ZXIiLCJDaGF0Qm94IiwiUmVtb3RlUGVlciIsInVzZUxvY2FsQXVkaW8iLCJ1c2VMb2NhbFBlZXIiLCJ1c2VMb2NhbFNjcmVlblNoYXJlIiwidXNlTG9jYWxWaWRlbyIsInVzZVBlZXJJZHMiLCJ1c2VSb29tIiwidXNlUm91dGVyIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJIb21lIiwidG9rZW4iLCJkaXNwbGF5TmFtZSIsInNldERpc3BsYXlOYW1lIiwidmlkZW9SZWYiLCJzY3JlZW5SZWYiLCJyb3V0ZXIiLCJpc1JlY29yZGluZyIsInNldElzUmVjb3JkaW5nIiwiam9pblJvb20iLCJzdGF0ZSIsIm9uSm9pbiIsInJvb20iLCJjb25zb2xlIiwibG9nIiwidXBkYXRlTWV0YWRhdGEiLCJvblBlZXJKb2luIiwicGVlciIsImVuYWJsZVZpZGVvIiwiaXNWaWRlb09uIiwic3RyZWFtIiwiZGlzYWJsZVZpZGVvIiwiZW5hYmxlQXVkaW8iLCJkaXNhYmxlQXVkaW8iLCJpc0F1ZGlvT24iLCJzdGFydFNjcmVlblNoYXJlIiwic3RvcFNjcmVlblNoYXJlIiwic2hhcmVTdHJlYW0iLCJwZWVySWRzIiwiY3VycmVudCIsInNyY09iamVjdCIsIm1haW4iLCJjbGFzc05hbWUiLCJkaXYiLCJwIiwiY29kZSIsImlucHV0IiwiZGlzYWJsZWQiLCJwbGFjZWhvbGRlciIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZXZlbnQiLCJ0YXJnZXQiLCJidXR0b24iLCJvbkNsaWNrIiwicm9vbUlkIiwicXVlcnkiLCJzdGF0dXMiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwidmlkZW8iLCJyZWYiLCJhdXRvUGxheSIsIm11dGVkIiwibWFwIiwicGVlcklkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/[roomId]/index.jsx\n"));

/***/ }),

/***/ "./node_modules/next/router.js":
/*!*************************************!*\
  !*** ./node_modules/next/router.js ***!
  \*************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("module.exports = __webpack_require__(/*! ./dist/client/router */ \"./node_modules/next/dist/client/router.js\")\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9yb3V0ZXIuanMiLCJtYXBwaW5ncyI6IkFBQUEsNkdBQWdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L3JvdXRlci5qcz8xYmI2Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0L2NsaWVudC9yb3V0ZXInKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/router.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-2A5YT7TT.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-2A5YT7TT.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLocalVideo: function() { return /* binding */ useLocalVideo; }\n/* harmony export */ });\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n// src/hooks/useLocalVideo.ts\n\nvar useLocalVideo = (props) => {\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01_default)();\n  const localPeer = huddleClient.localPeer;\n  const [stream, setStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    localPeer.getStream({ label: \"video\" })\n  );\n  const handleStreamFetched = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (data.mediaKind === \"cam\") {\n        setStream(data.stream);\n      }\n    },\n    []\n  );\n  const handleStreamClosed = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (data.label === \"video\") {\n        setStream(null);\n        if (props?.onProduceClose)\n          props?.onProduceClose(data.reason);\n      }\n    },\n    [props?.onProduceClose]\n  );\n  const handleStreamPlayable = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (data.label === \"video\") {\n        if (props?.onProduceStart)\n          props?.onProduceStart(data.producer);\n      }\n    },\n    [props?.onProduceStart]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    localPeer.on(\"stream-fetched\", handleStreamFetched);\n    localPeer.on(\"stream-playable\", handleStreamPlayable);\n    localPeer.on(\"stream-closed\", handleStreamClosed);\n    return () => {\n      localPeer.off(\"stream-fetched\", handleStreamFetched);\n      localPeer.off(\"stream-playable\", handleStreamPlayable);\n      localPeer.off(\"stream-closed\", handleStreamClosed);\n    };\n  }, []);\n  const enableVideo = localPeer.enableVideo;\n  const disableVideo = localPeer.disableVideo;\n  const track = stream?.getVideoTracks()[0] || null;\n  const isVideoOn = stream ? true : false;\n  const replaceVideoStream = localPeer.replaceVideoStream;\n  const changeVideoSource = localPeer.changeVideoSource;\n  return {\n    stream,\n    track,\n    isVideoOn,\n    enableVideo,\n    disableVideo,\n    replaceVideoStream,\n    changeVideoSource\n  };\n};\n\n\n//# sourceMappingURL=chunk-2A5YT7TT.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstMkE1WVQ3VFQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCOztBQUU3QjtBQUN5RDtBQUN6RDtBQUNBLFVBQVUsZUFBZSxFQUFFLHVFQUFtQjtBQUM5QztBQUNBLDhCQUE4QiwrQ0FBUTtBQUN0QywwQkFBMEIsZ0JBQWdCO0FBQzFDO0FBQ0EsOEJBQThCLGtEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw2QkFBNkIsa0RBQVc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwrQkFBK0Isa0RBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstMkE1WVQ3VFQuanM/YzZmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VIdWRkbGUwMV9kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLUI2TTI1NE1WLmpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2VMb2NhbFZpZGVvLnRzXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZUxvY2FsVmlkZW8gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBodWRkbGVDbGllbnQgfSA9IHVzZUh1ZGRsZTAxX2RlZmF1bHQoKTtcbiAgY29uc3QgbG9jYWxQZWVyID0gaHVkZGxlQ2xpZW50LmxvY2FsUGVlcjtcbiAgY29uc3QgW3N0cmVhbSwgc2V0U3RyZWFtXSA9IHVzZVN0YXRlKFxuICAgIGxvY2FsUGVlci5nZXRTdHJlYW0oeyBsYWJlbDogXCJ2aWRlb1wiIH0pXG4gICk7XG4gIGNvbnN0IGhhbmRsZVN0cmVhbUZldGNoZWQgPSB1c2VDYWxsYmFjayhcbiAgICAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEubWVkaWFLaW5kID09PSBcImNhbVwiKSB7XG4gICAgICAgIHNldFN0cmVhbShkYXRhLnN0cmVhbSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbXVxuICApO1xuICBjb25zdCBoYW5kbGVTdHJlYW1DbG9zZWQgPSB1c2VDYWxsYmFjayhcbiAgICAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEubGFiZWwgPT09IFwidmlkZW9cIikge1xuICAgICAgICBzZXRTdHJlYW0obnVsbCk7XG4gICAgICAgIGlmIChwcm9wcz8ub25Qcm9kdWNlQ2xvc2UpXG4gICAgICAgICAgcHJvcHM/Lm9uUHJvZHVjZUNsb3NlKGRhdGEucmVhc29uKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtwcm9wcz8ub25Qcm9kdWNlQ2xvc2VdXG4gICk7XG4gIGNvbnN0IGhhbmRsZVN0cmVhbVBsYXlhYmxlID0gdXNlQ2FsbGJhY2soXG4gICAgKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLmxhYmVsID09PSBcInZpZGVvXCIpIHtcbiAgICAgICAgaWYgKHByb3BzPy5vblByb2R1Y2VTdGFydClcbiAgICAgICAgICBwcm9wcz8ub25Qcm9kdWNlU3RhcnQoZGF0YS5wcm9kdWNlcik7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcHJvcHM/Lm9uUHJvZHVjZVN0YXJ0XVxuICApO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvY2FsUGVlci5vbihcInN0cmVhbS1mZXRjaGVkXCIsIGhhbmRsZVN0cmVhbUZldGNoZWQpO1xuICAgIGxvY2FsUGVlci5vbihcInN0cmVhbS1wbGF5YWJsZVwiLCBoYW5kbGVTdHJlYW1QbGF5YWJsZSk7XG4gICAgbG9jYWxQZWVyLm9uKFwic3RyZWFtLWNsb3NlZFwiLCBoYW5kbGVTdHJlYW1DbG9zZWQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBsb2NhbFBlZXIub2ZmKFwic3RyZWFtLWZldGNoZWRcIiwgaGFuZGxlU3RyZWFtRmV0Y2hlZCk7XG4gICAgICBsb2NhbFBlZXIub2ZmKFwic3RyZWFtLXBsYXlhYmxlXCIsIGhhbmRsZVN0cmVhbVBsYXlhYmxlKTtcbiAgICAgIGxvY2FsUGVlci5vZmYoXCJzdHJlYW0tY2xvc2VkXCIsIGhhbmRsZVN0cmVhbUNsb3NlZCk7XG4gICAgfTtcbiAgfSwgW10pO1xuICBjb25zdCBlbmFibGVWaWRlbyA9IGxvY2FsUGVlci5lbmFibGVWaWRlbztcbiAgY29uc3QgZGlzYWJsZVZpZGVvID0gbG9jYWxQZWVyLmRpc2FibGVWaWRlbztcbiAgY29uc3QgdHJhY2sgPSBzdHJlYW0/LmdldFZpZGVvVHJhY2tzKClbMF0gfHwgbnVsbDtcbiAgY29uc3QgaXNWaWRlb09uID0gc3RyZWFtID8gdHJ1ZSA6IGZhbHNlO1xuICBjb25zdCByZXBsYWNlVmlkZW9TdHJlYW0gPSBsb2NhbFBlZXIucmVwbGFjZVZpZGVvU3RyZWFtO1xuICBjb25zdCBjaGFuZ2VWaWRlb1NvdXJjZSA9IGxvY2FsUGVlci5jaGFuZ2VWaWRlb1NvdXJjZTtcbiAgcmV0dXJuIHtcbiAgICBzdHJlYW0sXG4gICAgdHJhY2ssXG4gICAgaXNWaWRlb09uLFxuICAgIGVuYWJsZVZpZGVvLFxuICAgIGRpc2FibGVWaWRlbyxcbiAgICByZXBsYWNlVmlkZW9TdHJlYW0sXG4gICAgY2hhbmdlVmlkZW9Tb3VyY2VcbiAgfTtcbn07XG5cbmV4cG9ydCB7XG4gIHVzZUxvY2FsVmlkZW9cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay0yQTVZVDdUVC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-2A5YT7TT.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-2L7BLA5J.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-2L7BLA5J.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRemoteAudio: function() { return /* binding */ useRemoteAudio; }\n/* harmony export */ });\n/* harmony import */ var _chunk_LW4AZNF4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-LW4AZNF4.js */ \"./node_modules/@huddle01/react/dist/chunk-LW4AZNF4.js\");\n\n\n// src/hooks/useRemoteAudio.ts\nvar useRemoteAudio = (props) => {\n  const { state, track, stream } = (0,_chunk_LW4AZNF4_js__WEBPACK_IMPORTED_MODULE_0__.useRemoteMedia)({\n    label: \"audio\",\n    peerId: props.peerId,\n    onStopped: props.onClose,\n    onPlayable: (data) => {\n      props.onPlayable?.({\n        label: \"audio\",\n        track: data.track,\n        stream: data.stream\n      });\n    }\n  });\n  const isAudioOn = stream ? true : false;\n  return {\n    state,\n    track,\n    stream,\n    isAudioOn\n  };\n};\n\n\n//# sourceMappingURL=chunk-2L7BLA5J.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstMkw3QkxBNUouanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFNkI7O0FBRTdCO0FBQ0E7QUFDQSxVQUFVLHVCQUF1QixFQUFFLGtFQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AaHVkZGxlMDEvcmVhY3QvZGlzdC9jaHVuay0yTDdCTEE1Si5qcz80OWQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZVJlbW90ZU1lZGlhXG59IGZyb20gXCIuL2NodW5rLUxXNEFaTkY0LmpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2VSZW1vdGVBdWRpby50c1xudmFyIHVzZVJlbW90ZUF1ZGlvID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgc3RhdGUsIHRyYWNrLCBzdHJlYW0gfSA9IHVzZVJlbW90ZU1lZGlhKHtcbiAgICBsYWJlbDogXCJhdWRpb1wiLFxuICAgIHBlZXJJZDogcHJvcHMucGVlcklkLFxuICAgIG9uU3RvcHBlZDogcHJvcHMub25DbG9zZSxcbiAgICBvblBsYXlhYmxlOiAoZGF0YSkgPT4ge1xuICAgICAgcHJvcHMub25QbGF5YWJsZT8uKHtcbiAgICAgICAgbGFiZWw6IFwiYXVkaW9cIixcbiAgICAgICAgdHJhY2s6IGRhdGEudHJhY2ssXG4gICAgICAgIHN0cmVhbTogZGF0YS5zdHJlYW1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGlzQXVkaW9PbiA9IHN0cmVhbSA/IHRydWUgOiBmYWxzZTtcbiAgcmV0dXJuIHtcbiAgICBzdGF0ZSxcbiAgICB0cmFjayxcbiAgICBzdHJlYW0sXG4gICAgaXNBdWRpb09uXG4gIH07XG59O1xuXG5leHBvcnQge1xuICB1c2VSZW1vdGVBdWRpb1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTJMN0JMQTVKLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-2L7BLA5J.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-4CTXM224.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-4CTXM224.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLocalMedia: function() { return /* binding */ useLocalMedia; }\n/* harmony export */ });\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n\n\n// src/hooks/useLocalMedia.ts\nvar useLocalMedia = () => {\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01_default)();\n  const localPeer = huddleClient.localPeer;\n  const fetchStream = async (data) => {\n    const fetchedStream = await localPeer.deviceHandler.fetchStream({\n      mediaDeviceKind: data.mediaDeviceKind\n    });\n    return fetchedStream;\n  };\n  const produceStream = (data) => {\n    const producing = localPeer.produce({\n      label: data.label,\n      stream: data.stream,\n      appData: data.appData\n    });\n    return producing;\n  };\n  const stopProducing = (label) => {\n    const stoppedProducing = localPeer.stopProducing({ label });\n    return stoppedProducing;\n  };\n  return {\n    fetchStream,\n    produceStream,\n    stopProducing\n  };\n};\n\n\n//# sourceMappingURL=chunk-4CTXM224.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstNENUWE0yMjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFNkI7O0FBRTdCO0FBQ0E7QUFDQSxVQUFVLGVBQWUsRUFBRSx1RUFBbUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsdURBQXVELE9BQU87QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AaHVkZGxlMDEvcmVhY3QvZGlzdC9jaHVuay00Q1RYTTIyNC5qcz8zYWRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZUh1ZGRsZTAxX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmstQjZNMjU0TVYuanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZUxvY2FsTWVkaWEudHNcbnZhciB1c2VMb2NhbE1lZGlhID0gKCkgPT4ge1xuICBjb25zdCB7IGh1ZGRsZUNsaWVudCB9ID0gdXNlSHVkZGxlMDFfZGVmYXVsdCgpO1xuICBjb25zdCBsb2NhbFBlZXIgPSBodWRkbGVDbGllbnQubG9jYWxQZWVyO1xuICBjb25zdCBmZXRjaFN0cmVhbSA9IGFzeW5jIChkYXRhKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hlZFN0cmVhbSA9IGF3YWl0IGxvY2FsUGVlci5kZXZpY2VIYW5kbGVyLmZldGNoU3RyZWFtKHtcbiAgICAgIG1lZGlhRGV2aWNlS2luZDogZGF0YS5tZWRpYURldmljZUtpbmRcbiAgICB9KTtcbiAgICByZXR1cm4gZmV0Y2hlZFN0cmVhbTtcbiAgfTtcbiAgY29uc3QgcHJvZHVjZVN0cmVhbSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjaW5nID0gbG9jYWxQZWVyLnByb2R1Y2Uoe1xuICAgICAgbGFiZWw6IGRhdGEubGFiZWwsXG4gICAgICBzdHJlYW06IGRhdGEuc3RyZWFtLFxuICAgICAgYXBwRGF0YTogZGF0YS5hcHBEYXRhXG4gICAgfSk7XG4gICAgcmV0dXJuIHByb2R1Y2luZztcbiAgfTtcbiAgY29uc3Qgc3RvcFByb2R1Y2luZyA9IChsYWJlbCkgPT4ge1xuICAgIGNvbnN0IHN0b3BwZWRQcm9kdWNpbmcgPSBsb2NhbFBlZXIuc3RvcFByb2R1Y2luZyh7IGxhYmVsIH0pO1xuICAgIHJldHVybiBzdG9wcGVkUHJvZHVjaW5nO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGZldGNoU3RyZWFtLFxuICAgIHByb2R1Y2VTdHJlYW0sXG4gICAgc3RvcFByb2R1Y2luZ1xuICB9O1xufTtcblxuZXhwb3J0IHtcbiAgdXNlTG9jYWxNZWRpYVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTRDVFhNMjI0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-4CTXM224.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-6KE737T5.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-6KE737T5.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRoomControls: function() { return /* binding */ useRoomControls; }\n/* harmony export */ });\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n// src/hooks/useRoomControls.ts\n\nvar useRoomControls = (props) => {\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01_default)();\n  const room = huddleClient.room;\n  const [roomControls, setRoomControls] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    room.config\n  );\n  const handleRoomClose = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (props?.onRoomLeave)\n        props.onRoomLeave(data);\n    },\n    [props?.onRoomLeave]\n  );\n  const handleRoomControlsUpdate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (props?.onRoomControlsUpdated)\n        props.onRoomControlsUpdated(data);\n      setRoomControls(room.config);\n    },\n    [props?.onRoomControlsUpdated]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    room.once(\"room-closed\", handleRoomClose);\n    room.on(\"room-controls-updated\", handleRoomControlsUpdate);\n    return () => {\n      room.off(\"room-closed\", handleRoomClose);\n      room.off(\"room-controls-updated\", handleRoomControlsUpdate);\n    };\n  }, []);\n  const updateControls = room.updateRoomControls;\n  return {\n    roomControls,\n    updateControls\n  };\n};\n\n\n//# sourceMappingURL=chunk-6KE737T5.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstNktFNzM3VDUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCOztBQUU3QjtBQUN5RDtBQUN6RDtBQUNBLFVBQVUsZUFBZSxFQUFFLHVFQUFtQjtBQUM5QztBQUNBLDBDQUEwQywrQ0FBUTtBQUNsRDtBQUNBO0FBQ0EsMEJBQTBCLGtEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsbUNBQW1DLGtEQUFXO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AaHVkZGxlMDEvcmVhY3QvZGlzdC9jaHVuay02S0U3MzdUNS5qcz9mYzY4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZUh1ZGRsZTAxX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmstQjZNMjU0TVYuanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZVJvb21Db250cm9scy50c1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VSb29tQ29udHJvbHMgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBodWRkbGVDbGllbnQgfSA9IHVzZUh1ZGRsZTAxX2RlZmF1bHQoKTtcbiAgY29uc3Qgcm9vbSA9IGh1ZGRsZUNsaWVudC5yb29tO1xuICBjb25zdCBbcm9vbUNvbnRyb2xzLCBzZXRSb29tQ29udHJvbHNdID0gdXNlU3RhdGUoXG4gICAgcm9vbS5jb25maWdcbiAgKTtcbiAgY29uc3QgaGFuZGxlUm9vbUNsb3NlID0gdXNlQ2FsbGJhY2soXG4gICAgKGRhdGEpID0+IHtcbiAgICAgIGlmIChwcm9wcz8ub25Sb29tTGVhdmUpXG4gICAgICAgIHByb3BzLm9uUm9vbUxlYXZlKGRhdGEpO1xuICAgIH0sXG4gICAgW3Byb3BzPy5vblJvb21MZWF2ZV1cbiAgKTtcbiAgY29uc3QgaGFuZGxlUm9vbUNvbnRyb2xzVXBkYXRlID0gdXNlQ2FsbGJhY2soXG4gICAgKGRhdGEpID0+IHtcbiAgICAgIGlmIChwcm9wcz8ub25Sb29tQ29udHJvbHNVcGRhdGVkKVxuICAgICAgICBwcm9wcy5vblJvb21Db250cm9sc1VwZGF0ZWQoZGF0YSk7XG4gICAgICBzZXRSb29tQ29udHJvbHMocm9vbS5jb25maWcpO1xuICAgIH0sXG4gICAgW3Byb3BzPy5vblJvb21Db250cm9sc1VwZGF0ZWRdXG4gICk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcm9vbS5vbmNlKFwicm9vbS1jbG9zZWRcIiwgaGFuZGxlUm9vbUNsb3NlKTtcbiAgICByb29tLm9uKFwicm9vbS1jb250cm9scy11cGRhdGVkXCIsIGhhbmRsZVJvb21Db250cm9sc1VwZGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJvb20ub2ZmKFwicm9vbS1jbG9zZWRcIiwgaGFuZGxlUm9vbUNsb3NlKTtcbiAgICAgIHJvb20ub2ZmKFwicm9vbS1jb250cm9scy11cGRhdGVkXCIsIGhhbmRsZVJvb21Db250cm9sc1VwZGF0ZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuICBjb25zdCB1cGRhdGVDb250cm9scyA9IHJvb20udXBkYXRlUm9vbUNvbnRyb2xzO1xuICByZXR1cm4ge1xuICAgIHJvb21Db250cm9scyxcbiAgICB1cGRhdGVDb250cm9sc1xuICB9O1xufTtcblxuZXhwb3J0IHtcbiAgdXNlUm9vbUNvbnRyb2xzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstNktFNzM3VDUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-6KE737T5.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-B6M254MV.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-B6M254MV.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useHuddle01_default: function() { return /* binding */ useHuddle01_default; }\n/* harmony export */ });\n/* harmony import */ var _chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-IL7JOYA6.js */ \"./node_modules/@huddle01/react/dist/chunk-IL7JOYA6.js\");\n\n\n// src/hooks/useHuddle01.ts\nvar useHuddle01_default = _chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01;\n\n\n//# sourceMappingURL=chunk-B6M254MV.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstQjZNMjU0TVYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFNkI7O0FBRTdCO0FBQ0EsMEJBQTBCLDJEQUFXOztBQUluQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AaHVkZGxlMDEvcmVhY3QvZGlzdC9jaHVuay1CNk0yNTRNVi5qcz8zNzk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZUh1ZGRsZTAxXG59IGZyb20gXCIuL2NodW5rLUlMN0pPWUE2LmpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2VIdWRkbGUwMS50c1xudmFyIHVzZUh1ZGRsZTAxX2RlZmF1bHQgPSB1c2VIdWRkbGUwMTtcblxuZXhwb3J0IHtcbiAgdXNlSHVkZGxlMDFfZGVmYXVsdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUI2TTI1NE1WLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-BA3RUF65.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-BA3RUF65.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRoom: function() { return /* binding */ useRoom; }\n/* harmony export */ });\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n// src/hooks/useRoom.ts\n\nvar useRoom = (props) => {\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01_default)();\n  const room = huddleClient.room;\n  const socket = huddleClient.socket;\n  const joinRoom = huddleClient.joinRoom;\n  const leaveRoom = huddleClient.leaveRoom;\n  const closeRoom = huddleClient.closeRoom;\n  const kickPeer = room.kickPeer;\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(room.state);\n  const handleRoomClose = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (props?.onLeave)\n        props.onLeave(data);\n      if (data.reason === \"LEFT\")\n        setState(\"left\");\n      else if (data.reason === \"CLOSED\")\n        setState(\"closed\");\n    },\n    [props?.onLeave]\n  );\n  const handleRoomJoin = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    if (props?.onJoin)\n      props.onJoin({ room: huddleClient.room });\n    setState(\"connected\");\n  }, [props?.onJoin]);\n  const handleRoomJoinFailed = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (props?.onFailed)\n        props.onFailed(data);\n      if (data.status === \"ROOM_ERRORED\" || data.status === \"ROOM_NOT_FOUND\") {\n        setState(\"failed\");\n      }\n    },\n    []\n  );\n  const handlePeerJoin = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    ({ peer }) => {\n      if (props?.onPeerJoin) {\n        props.onPeerJoin(peer.peerId);\n      }\n    },\n    [props?.onPeerJoin]\n  );\n  const handlePeerLeft = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (peerId) => {\n      if (props?.onPeerLeft)\n        props.onPeerLeft(peerId);\n    },\n    [props?.onPeerLeft]\n  );\n  const handleSocketConnecting = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    setState(\"connecting\");\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    room.once(\"room-joined\", handleRoomJoin);\n    room.once(\"room-closed\", handleRoomClose);\n    room.once(\"room-joined-failed\", handleRoomJoinFailed);\n    socket.once(\"connecting\", handleSocketConnecting);\n    props?.onPeerJoin && room.on(\"new-peer-joined\", handlePeerJoin);\n    props?.onPeerLeft && room.on(\"peer-left\", handlePeerLeft);\n    props?.onWaiting && room.on(\"room-waiting\", props.onWaiting);\n    return () => {\n      props?.onPeerJoin && room.off(\"new-peer-joined\", handlePeerJoin);\n      props?.onPeerLeft && room.off(\"peer-left\", handlePeerLeft);\n      props?.onWaiting && room.off(\"room-waiting\", props.onWaiting);\n      room.off(\"room-joined\", handleRoomJoin);\n      room.off(\"room-closed\", handleRoomClose);\n      room.off(\"room-joined-failed\", handleRoomJoinFailed);\n      socket.off(\"connecting\", handleSocketConnecting);\n    };\n  }, [\n    handleRoomJoin,\n    handleRoomClose,\n    handlePeerJoin,\n    handlePeerLeft,\n    handleRoomJoinFailed\n  ]);\n  const closeStreamOfLabel = room.closeStreamOfLabel;\n  const muteEveryone = room.muteEveryone;\n  return {\n    room,\n    state,\n    joinRoom,\n    leaveRoom,\n    closeRoom,\n    kickPeer,\n    muteEveryone,\n    closeStreamOfLabel\n  };\n};\n\n\n//# sourceMappingURL=chunk-BA3RUF65.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstQkEzUlVGNjUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCOztBQUU3QjtBQUN5RDtBQUN6RDtBQUNBLFVBQVUsZUFBZSxFQUFFLHVFQUFtQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0NBQVE7QUFDcEMsMEJBQTBCLGtEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx5QkFBeUIsa0RBQVc7QUFDcEM7QUFDQSxxQkFBcUIseUJBQXlCO0FBQzlDO0FBQ0EsR0FBRztBQUNILCtCQUErQixrREFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHlCQUF5QixrREFBVztBQUNwQyxPQUFPLE1BQU07QUFDYjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHlCQUF5QixrREFBVztBQUNwQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlDQUFpQyxrREFBVztBQUM1QztBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstQkEzUlVGNjUuanM/OWU4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VIdWRkbGUwMV9kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLUI2TTI1NE1WLmpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2VSb29tLnRzXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZVJvb20gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBodWRkbGVDbGllbnQgfSA9IHVzZUh1ZGRsZTAxX2RlZmF1bHQoKTtcbiAgY29uc3Qgcm9vbSA9IGh1ZGRsZUNsaWVudC5yb29tO1xuICBjb25zdCBzb2NrZXQgPSBodWRkbGVDbGllbnQuc29ja2V0O1xuICBjb25zdCBqb2luUm9vbSA9IGh1ZGRsZUNsaWVudC5qb2luUm9vbTtcbiAgY29uc3QgbGVhdmVSb29tID0gaHVkZGxlQ2xpZW50LmxlYXZlUm9vbTtcbiAgY29uc3QgY2xvc2VSb29tID0gaHVkZGxlQ2xpZW50LmNsb3NlUm9vbTtcbiAgY29uc3Qga2lja1BlZXIgPSByb29tLmtpY2tQZWVyO1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKHJvb20uc3RhdGUpO1xuICBjb25zdCBoYW5kbGVSb29tQ2xvc2UgPSB1c2VDYWxsYmFjayhcbiAgICAoZGF0YSkgPT4ge1xuICAgICAgaWYgKHByb3BzPy5vbkxlYXZlKVxuICAgICAgICBwcm9wcy5vbkxlYXZlKGRhdGEpO1xuICAgICAgaWYgKGRhdGEucmVhc29uID09PSBcIkxFRlRcIilcbiAgICAgICAgc2V0U3RhdGUoXCJsZWZ0XCIpO1xuICAgICAgZWxzZSBpZiAoZGF0YS5yZWFzb24gPT09IFwiQ0xPU0VEXCIpXG4gICAgICAgIHNldFN0YXRlKFwiY2xvc2VkXCIpO1xuICAgIH0sXG4gICAgW3Byb3BzPy5vbkxlYXZlXVxuICApO1xuICBjb25zdCBoYW5kbGVSb29tSm9pbiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAocHJvcHM/Lm9uSm9pbilcbiAgICAgIHByb3BzLm9uSm9pbih7IHJvb206IGh1ZGRsZUNsaWVudC5yb29tIH0pO1xuICAgIHNldFN0YXRlKFwiY29ubmVjdGVkXCIpO1xuICB9LCBbcHJvcHM/Lm9uSm9pbl0pO1xuICBjb25zdCBoYW5kbGVSb29tSm9pbkZhaWxlZCA9IHVzZUNhbGxiYWNrKFxuICAgIChkYXRhKSA9PiB7XG4gICAgICBpZiAocHJvcHM/Lm9uRmFpbGVkKVxuICAgICAgICBwcm9wcy5vbkZhaWxlZChkYXRhKTtcbiAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gXCJST09NX0VSUk9SRURcIiB8fCBkYXRhLnN0YXR1cyA9PT0gXCJST09NX05PVF9GT1VORFwiKSB7XG4gICAgICAgIHNldFN0YXRlKFwiZmFpbGVkXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW11cbiAgKTtcbiAgY29uc3QgaGFuZGxlUGVlckpvaW4gPSB1c2VDYWxsYmFjayhcbiAgICAoeyBwZWVyIH0pID0+IHtcbiAgICAgIGlmIChwcm9wcz8ub25QZWVySm9pbikge1xuICAgICAgICBwcm9wcy5vblBlZXJKb2luKHBlZXIucGVlcklkKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtwcm9wcz8ub25QZWVySm9pbl1cbiAgKTtcbiAgY29uc3QgaGFuZGxlUGVlckxlZnQgPSB1c2VDYWxsYmFjayhcbiAgICAocGVlcklkKSA9PiB7XG4gICAgICBpZiAocHJvcHM/Lm9uUGVlckxlZnQpXG4gICAgICAgIHByb3BzLm9uUGVlckxlZnQocGVlcklkKTtcbiAgICB9LFxuICAgIFtwcm9wcz8ub25QZWVyTGVmdF1cbiAgKTtcbiAgY29uc3QgaGFuZGxlU29ja2V0Q29ubmVjdGluZyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTdGF0ZShcImNvbm5lY3RpbmdcIik7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByb29tLm9uY2UoXCJyb29tLWpvaW5lZFwiLCBoYW5kbGVSb29tSm9pbik7XG4gICAgcm9vbS5vbmNlKFwicm9vbS1jbG9zZWRcIiwgaGFuZGxlUm9vbUNsb3NlKTtcbiAgICByb29tLm9uY2UoXCJyb29tLWpvaW5lZC1mYWlsZWRcIiwgaGFuZGxlUm9vbUpvaW5GYWlsZWQpO1xuICAgIHNvY2tldC5vbmNlKFwiY29ubmVjdGluZ1wiLCBoYW5kbGVTb2NrZXRDb25uZWN0aW5nKTtcbiAgICBwcm9wcz8ub25QZWVySm9pbiAmJiByb29tLm9uKFwibmV3LXBlZXItam9pbmVkXCIsIGhhbmRsZVBlZXJKb2luKTtcbiAgICBwcm9wcz8ub25QZWVyTGVmdCAmJiByb29tLm9uKFwicGVlci1sZWZ0XCIsIGhhbmRsZVBlZXJMZWZ0KTtcbiAgICBwcm9wcz8ub25XYWl0aW5nICYmIHJvb20ub24oXCJyb29tLXdhaXRpbmdcIiwgcHJvcHMub25XYWl0aW5nKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcHJvcHM/Lm9uUGVlckpvaW4gJiYgcm9vbS5vZmYoXCJuZXctcGVlci1qb2luZWRcIiwgaGFuZGxlUGVlckpvaW4pO1xuICAgICAgcHJvcHM/Lm9uUGVlckxlZnQgJiYgcm9vbS5vZmYoXCJwZWVyLWxlZnRcIiwgaGFuZGxlUGVlckxlZnQpO1xuICAgICAgcHJvcHM/Lm9uV2FpdGluZyAmJiByb29tLm9mZihcInJvb20td2FpdGluZ1wiLCBwcm9wcy5vbldhaXRpbmcpO1xuICAgICAgcm9vbS5vZmYoXCJyb29tLWpvaW5lZFwiLCBoYW5kbGVSb29tSm9pbik7XG4gICAgICByb29tLm9mZihcInJvb20tY2xvc2VkXCIsIGhhbmRsZVJvb21DbG9zZSk7XG4gICAgICByb29tLm9mZihcInJvb20tam9pbmVkLWZhaWxlZFwiLCBoYW5kbGVSb29tSm9pbkZhaWxlZCk7XG4gICAgICBzb2NrZXQub2ZmKFwiY29ubmVjdGluZ1wiLCBoYW5kbGVTb2NrZXRDb25uZWN0aW5nKTtcbiAgICB9O1xuICB9LCBbXG4gICAgaGFuZGxlUm9vbUpvaW4sXG4gICAgaGFuZGxlUm9vbUNsb3NlLFxuICAgIGhhbmRsZVBlZXJKb2luLFxuICAgIGhhbmRsZVBlZXJMZWZ0LFxuICAgIGhhbmRsZVJvb21Kb2luRmFpbGVkXG4gIF0pO1xuICBjb25zdCBjbG9zZVN0cmVhbU9mTGFiZWwgPSByb29tLmNsb3NlU3RyZWFtT2ZMYWJlbDtcbiAgY29uc3QgbXV0ZUV2ZXJ5b25lID0gcm9vbS5tdXRlRXZlcnlvbmU7XG4gIHJldHVybiB7XG4gICAgcm9vbSxcbiAgICBzdGF0ZSxcbiAgICBqb2luUm9vbSxcbiAgICBsZWF2ZVJvb20sXG4gICAgY2xvc2VSb29tLFxuICAgIGtpY2tQZWVyLFxuICAgIG11dGVFdmVyeW9uZSxcbiAgICBjbG9zZVN0cmVhbU9mTGFiZWxcbiAgfTtcbn07XG5cbmV4cG9ydCB7XG4gIHVzZVJvb21cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1CQTNSVUY2NS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-BA3RUF65.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-D54XXTSD.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-D54XXTSD.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRoomMetadata: function() { return /* binding */ useRoomMetadata; }\n/* harmony export */ });\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n// src/hooks/useRoomMetadata.ts\n\nvar useRoomMetadata = (props) => {\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01_default)();\n  const room = huddleClient.room;\n  const [roomData, setRoomData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    room.getMetadata() ?? null\n  );\n  const handleUpdateMetadata = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    const metadata = room.getMetadata();\n    setRoomData(metadata);\n    if (props?.onMetadataUpdated)\n      props.onMetadataUpdated(metadata);\n  }, [props?.onMetadataUpdated]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const handleRoomClose = (data) => {\n      setRoomData(null);\n      if (props?.onLeave)\n        props.onLeave(data);\n    };\n    const handleRoomJoin = () => {\n      console.info(\"EVENT TRIGGERED, ROOM JOINED\");\n    };\n    room.once(\"room-joined\", handleRoomJoin);\n    room.once(\"room-closed\", handleRoomClose);\n    room.on(\"metadata-updated\", handleUpdateMetadata);\n    return () => {\n      room.off(\"room-joined\", handleRoomJoin);\n      room.off(\"room-closed\", handleRoomClose);\n      room.off(\"metadata-updated\", handleUpdateMetadata);\n    };\n  }, [handleUpdateMetadata]);\n  const updateMetadata = room.updateMetadata;\n  return {\n    roomData,\n    updateMetadata\n  };\n};\n\n\n//# sourceMappingURL=chunk-D54XXTSD.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstRDU0WFhUU0QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCOztBQUU3QjtBQUN5RDtBQUN6RDtBQUNBLFVBQVUsZUFBZSxFQUFFLHVFQUFtQjtBQUM5QztBQUNBLGtDQUFrQywrQ0FBUTtBQUMxQztBQUNBO0FBQ0EsK0JBQStCLGtEQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstRDU0WFhUU0QuanM/Mzg0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VIdWRkbGUwMV9kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLUI2TTI1NE1WLmpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2VSb29tTWV0YWRhdGEudHNcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgdXNlUm9vbU1ldGFkYXRhID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaHVkZGxlQ2xpZW50IH0gPSB1c2VIdWRkbGUwMV9kZWZhdWx0KCk7XG4gIGNvbnN0IHJvb20gPSBodWRkbGVDbGllbnQucm9vbTtcbiAgY29uc3QgW3Jvb21EYXRhLCBzZXRSb29tRGF0YV0gPSB1c2VTdGF0ZShcbiAgICByb29tLmdldE1ldGFkYXRhKCkgPz8gbnVsbFxuICApO1xuICBjb25zdCBoYW5kbGVVcGRhdGVNZXRhZGF0YSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBtZXRhZGF0YSA9IHJvb20uZ2V0TWV0YWRhdGEoKTtcbiAgICBzZXRSb29tRGF0YShtZXRhZGF0YSk7XG4gICAgaWYgKHByb3BzPy5vbk1ldGFkYXRhVXBkYXRlZClcbiAgICAgIHByb3BzLm9uTWV0YWRhdGFVcGRhdGVkKG1ldGFkYXRhKTtcbiAgfSwgW3Byb3BzPy5vbk1ldGFkYXRhVXBkYXRlZF0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVJvb21DbG9zZSA9IChkYXRhKSA9PiB7XG4gICAgICBzZXRSb29tRGF0YShudWxsKTtcbiAgICAgIGlmIChwcm9wcz8ub25MZWF2ZSlcbiAgICAgICAgcHJvcHMub25MZWF2ZShkYXRhKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVJvb21Kb2luID0gKCkgPT4ge1xuICAgICAgY29uc29sZS5pbmZvKFwiRVZFTlQgVFJJR0dFUkVELCBST09NIEpPSU5FRFwiKTtcbiAgICB9O1xuICAgIHJvb20ub25jZShcInJvb20tam9pbmVkXCIsIGhhbmRsZVJvb21Kb2luKTtcbiAgICByb29tLm9uY2UoXCJyb29tLWNsb3NlZFwiLCBoYW5kbGVSb29tQ2xvc2UpO1xuICAgIHJvb20ub24oXCJtZXRhZGF0YS11cGRhdGVkXCIsIGhhbmRsZVVwZGF0ZU1ldGFkYXRhKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcm9vbS5vZmYoXCJyb29tLWpvaW5lZFwiLCBoYW5kbGVSb29tSm9pbik7XG4gICAgICByb29tLm9mZihcInJvb20tY2xvc2VkXCIsIGhhbmRsZVJvb21DbG9zZSk7XG4gICAgICByb29tLm9mZihcIm1ldGFkYXRhLXVwZGF0ZWRcIiwgaGFuZGxlVXBkYXRlTWV0YWRhdGEpO1xuICAgIH07XG4gIH0sIFtoYW5kbGVVcGRhdGVNZXRhZGF0YV0pO1xuICBjb25zdCB1cGRhdGVNZXRhZGF0YSA9IHJvb20udXBkYXRlTWV0YWRhdGE7XG4gIHJldHVybiB7XG4gICAgcm9vbURhdGEsXG4gICAgdXBkYXRlTWV0YWRhdGFcbiAgfTtcbn07XG5cbmV4cG9ydCB7XG4gIHVzZVJvb21NZXRhZGF0YVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUQ1NFhYVFNELmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-D54XXTSD.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-GHJMS5CC.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-GHJMS5CC.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePeerIds: function() { return /* binding */ usePeerIds; }\n/* harmony export */ });\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n// src/hooks/usePeerIds.ts\n\nvar usePeerIds = (props) => {\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01_default)();\n  const room = huddleClient.room;\n  const [peerIds, setPeerIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n  const isValidPeer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (props?.labels) {\n        for (const label of data.labels) {\n          if (data.searchLabelSet.has(label)) {\n            return true;\n          }\n        }\n        return false;\n      }\n      if (props?.roles && data.role && !data.validRoles.has(data.role)) {\n        return false;\n      }\n      return true;\n    },\n    []\n  );\n  const handleSearch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (peerIds2) => {\n      const validPeers = [];\n      const searchLabelSet = new Set(props?.labels);\n      const validRoles = new Set(props?.roles);\n      for (const peerId of peerIds2) {\n        const remotePeer = room.remotePeerExists(peerId);\n        const remotePeerLabels = remotePeer?.labels || [];\n        const role = remotePeer?.role || null;\n        if (isValidPeer({\n          searchLabelSet,\n          validRoles,\n          labels: remotePeerLabels,\n          role\n        })) {\n          validPeers.push(peerId);\n        }\n      }\n      return validPeers;\n    },\n    [props?.labels]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    setPeerIds(handleSearch(room.peerIds));\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const handlePeerChange = () => {\n      const newPeerIds = handleSearch(room.peerIds);\n      setPeerIds(newPeerIds);\n    };\n    const handleStreamAdded = (data) => {\n      if (props?.labels?.includes(data.label)) {\n        setPeerIds(handleSearch(room.peerIds));\n      }\n    };\n    const handleRoleUpdate = (data) => {\n      if (props?.onPeerRoleUpdate) {\n        props.onPeerRoleUpdate(data);\n      }\n      if (props?.roles?.includes(data?.prevRole)) {\n        setPeerIds(handleSearch(room.peerIds));\n      } else if (props?.roles?.includes(data.newRole)) {\n        setPeerIds(handleSearch(room.peerIds));\n      }\n    };\n    if (room.state !== \"connected\") {\n      room.on(\"room-joined\", handlePeerChange);\n    }\n    room.on(\"new-peer-joined\", handlePeerChange);\n    room.on(\"peer-left\", handlePeerChange);\n    if (props?.labels) {\n      room.on(\"stream-added\", handleStreamAdded);\n      room.on(\"stream-closed\", handleStreamAdded);\n    }\n    if (props?.roles) {\n      room.on(\"room-role-updated\", handleRoleUpdate);\n    }\n    return () => {\n      room.off(\"new-peer-joined\", handlePeerChange);\n      room.off(\"peer-left\", handlePeerChange);\n      room.off(\"room-joined\", handlePeerChange);\n      if (props?.labels) {\n        room.off(\"stream-added\", handleStreamAdded);\n        room.off(\"stream-closed\", handleStreamAdded);\n      }\n      if (props?.roles) {\n        room.off(\"room-role-updated\", handleRoleUpdate);\n      }\n    };\n  }, [props?.labels]);\n  return {\n    peerIds\n  };\n};\n\n\n//# sourceMappingURL=chunk-GHJMS5CC.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstR0hKTVM1Q0MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCOztBQUU3QjtBQUN5RDtBQUN6RDtBQUNBLFVBQVUsZUFBZSxFQUFFLHVFQUFtQjtBQUM5QztBQUNBLGdDQUFnQywrQ0FBUTtBQUN4QyxzQkFBc0Isa0RBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVCQUF1QixrREFBVztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRSxnREFBUztBQUNYO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BodWRkbGUwMS9yZWFjdC9kaXN0L2NodW5rLUdISk1TNUNDLmpzPzU3ZGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlSHVkZGxlMDFfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay1CNk0yNTRNVi5qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlUGVlcklkcy50c1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VQZWVySWRzID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaHVkZGxlQ2xpZW50IH0gPSB1c2VIdWRkbGUwMV9kZWZhdWx0KCk7XG4gIGNvbnN0IHJvb20gPSBodWRkbGVDbGllbnQucm9vbTtcbiAgY29uc3QgW3BlZXJJZHMsIHNldFBlZXJJZHNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBpc1ZhbGlkUGVlciA9IHVzZUNhbGxiYWNrKFxuICAgIChkYXRhKSA9PiB7XG4gICAgICBpZiAocHJvcHM/LmxhYmVscykge1xuICAgICAgICBmb3IgKGNvbnN0IGxhYmVsIG9mIGRhdGEubGFiZWxzKSB7XG4gICAgICAgICAgaWYgKGRhdGEuc2VhcmNoTGFiZWxTZXQuaGFzKGxhYmVsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcz8ucm9sZXMgJiYgZGF0YS5yb2xlICYmICFkYXRhLnZhbGlkUm9sZXMuaGFzKGRhdGEucm9sZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBbXVxuICApO1xuICBjb25zdCBoYW5kbGVTZWFyY2ggPSB1c2VDYWxsYmFjayhcbiAgICAocGVlcklkczIpID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkUGVlcnMgPSBbXTtcbiAgICAgIGNvbnN0IHNlYXJjaExhYmVsU2V0ID0gbmV3IFNldChwcm9wcz8ubGFiZWxzKTtcbiAgICAgIGNvbnN0IHZhbGlkUm9sZXMgPSBuZXcgU2V0KHByb3BzPy5yb2xlcyk7XG4gICAgICBmb3IgKGNvbnN0IHBlZXJJZCBvZiBwZWVySWRzMikge1xuICAgICAgICBjb25zdCByZW1vdGVQZWVyID0gcm9vbS5yZW1vdGVQZWVyRXhpc3RzKHBlZXJJZCk7XG4gICAgICAgIGNvbnN0IHJlbW90ZVBlZXJMYWJlbHMgPSByZW1vdGVQZWVyPy5sYWJlbHMgfHwgW107XG4gICAgICAgIGNvbnN0IHJvbGUgPSByZW1vdGVQZWVyPy5yb2xlIHx8IG51bGw7XG4gICAgICAgIGlmIChpc1ZhbGlkUGVlcih7XG4gICAgICAgICAgc2VhcmNoTGFiZWxTZXQsXG4gICAgICAgICAgdmFsaWRSb2xlcyxcbiAgICAgICAgICBsYWJlbHM6IHJlbW90ZVBlZXJMYWJlbHMsXG4gICAgICAgICAgcm9sZVxuICAgICAgICB9KSkge1xuICAgICAgICAgIHZhbGlkUGVlcnMucHVzaChwZWVySWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsaWRQZWVycztcbiAgICB9LFxuICAgIFtwcm9wcz8ubGFiZWxzXVxuICApO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFBlZXJJZHMoaGFuZGxlU2VhcmNoKHJvb20ucGVlcklkcykpO1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlUGVlckNoYW5nZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG5ld1BlZXJJZHMgPSBoYW5kbGVTZWFyY2gocm9vbS5wZWVySWRzKTtcbiAgICAgIHNldFBlZXJJZHMobmV3UGVlcklkcyk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVTdHJlYW1BZGRlZCA9IChkYXRhKSA9PiB7XG4gICAgICBpZiAocHJvcHM/LmxhYmVscz8uaW5jbHVkZXMoZGF0YS5sYWJlbCkpIHtcbiAgICAgICAgc2V0UGVlcklkcyhoYW5kbGVTZWFyY2gocm9vbS5wZWVySWRzKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVSb2xlVXBkYXRlID0gKGRhdGEpID0+IHtcbiAgICAgIGlmIChwcm9wcz8ub25QZWVyUm9sZVVwZGF0ZSkge1xuICAgICAgICBwcm9wcy5vblBlZXJSb2xlVXBkYXRlKGRhdGEpO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzPy5yb2xlcz8uaW5jbHVkZXMoZGF0YT8ucHJldlJvbGUpKSB7XG4gICAgICAgIHNldFBlZXJJZHMoaGFuZGxlU2VhcmNoKHJvb20ucGVlcklkcykpO1xuICAgICAgfSBlbHNlIGlmIChwcm9wcz8ucm9sZXM/LmluY2x1ZGVzKGRhdGEubmV3Um9sZSkpIHtcbiAgICAgICAgc2V0UGVlcklkcyhoYW5kbGVTZWFyY2gocm9vbS5wZWVySWRzKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAocm9vbS5zdGF0ZSAhPT0gXCJjb25uZWN0ZWRcIikge1xuICAgICAgcm9vbS5vbihcInJvb20tam9pbmVkXCIsIGhhbmRsZVBlZXJDaGFuZ2UpO1xuICAgIH1cbiAgICByb29tLm9uKFwibmV3LXBlZXItam9pbmVkXCIsIGhhbmRsZVBlZXJDaGFuZ2UpO1xuICAgIHJvb20ub24oXCJwZWVyLWxlZnRcIiwgaGFuZGxlUGVlckNoYW5nZSk7XG4gICAgaWYgKHByb3BzPy5sYWJlbHMpIHtcbiAgICAgIHJvb20ub24oXCJzdHJlYW0tYWRkZWRcIiwgaGFuZGxlU3RyZWFtQWRkZWQpO1xuICAgICAgcm9vbS5vbihcInN0cmVhbS1jbG9zZWRcIiwgaGFuZGxlU3RyZWFtQWRkZWQpO1xuICAgIH1cbiAgICBpZiAocHJvcHM/LnJvbGVzKSB7XG4gICAgICByb29tLm9uKFwicm9vbS1yb2xlLXVwZGF0ZWRcIiwgaGFuZGxlUm9sZVVwZGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByb29tLm9mZihcIm5ldy1wZWVyLWpvaW5lZFwiLCBoYW5kbGVQZWVyQ2hhbmdlKTtcbiAgICAgIHJvb20ub2ZmKFwicGVlci1sZWZ0XCIsIGhhbmRsZVBlZXJDaGFuZ2UpO1xuICAgICAgcm9vbS5vZmYoXCJyb29tLWpvaW5lZFwiLCBoYW5kbGVQZWVyQ2hhbmdlKTtcbiAgICAgIGlmIChwcm9wcz8ubGFiZWxzKSB7XG4gICAgICAgIHJvb20ub2ZmKFwic3RyZWFtLWFkZGVkXCIsIGhhbmRsZVN0cmVhbUFkZGVkKTtcbiAgICAgICAgcm9vbS5vZmYoXCJzdHJlYW0tY2xvc2VkXCIsIGhhbmRsZVN0cmVhbUFkZGVkKTtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wcz8ucm9sZXMpIHtcbiAgICAgICAgcm9vbS5vZmYoXCJyb29tLXJvbGUtdXBkYXRlZFwiLCBoYW5kbGVSb2xlVXBkYXRlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbcHJvcHM/LmxhYmVsc10pO1xuICByZXR1cm4ge1xuICAgIHBlZXJJZHNcbiAgfTtcbn07XG5cbmV4cG9ydCB7XG4gIHVzZVBlZXJJZHNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1HSEpNUzVDQy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-GHJMS5CC.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-GLWXPHO2.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-GLWXPHO2.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDataMessage: function() { return /* binding */ useDataMessage; }\n/* harmony export */ });\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n// src/hooks/useDataMessage.ts\n\nvar useDataMessage = (props) => {\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01_default)();\n  const localPeer = huddleClient.localPeer;\n  const sendData = localPeer.sendData;\n  const handleNewMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (props?.onMessage)\n        props.onMessage(data.payload, data.from, data.label);\n    },\n    [props?.onMessage]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    localPeer.on(\"receive-data\", handleNewMessage);\n    return () => {\n      localPeer.off(\"receive-data\", handleNewMessage);\n    };\n  }, [props?.onMessage]);\n  return {\n    sendData\n  };\n};\n\n\n//# sourceMappingURL=chunk-GLWXPHO2.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstR0xXWFBITzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCOztBQUU3QjtBQUMrQztBQUMvQztBQUNBLFVBQVUsZUFBZSxFQUFFLHVFQUFtQjtBQUM5QztBQUNBO0FBQ0EsMkJBQTJCLGtEQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BodWRkbGUwMS9yZWFjdC9kaXN0L2NodW5rLUdMV1hQSE8yLmpzPzc1NTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlSHVkZGxlMDFfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay1CNk0yNTRNVi5qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlRGF0YU1lc3NhZ2UudHNcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VEYXRhTWVzc2FnZSA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IGh1ZGRsZUNsaWVudCB9ID0gdXNlSHVkZGxlMDFfZGVmYXVsdCgpO1xuICBjb25zdCBsb2NhbFBlZXIgPSBodWRkbGVDbGllbnQubG9jYWxQZWVyO1xuICBjb25zdCBzZW5kRGF0YSA9IGxvY2FsUGVlci5zZW5kRGF0YTtcbiAgY29uc3QgaGFuZGxlTmV3TWVzc2FnZSA9IHVzZUNhbGxiYWNrKFxuICAgIChkYXRhKSA9PiB7XG4gICAgICBpZiAocHJvcHM/Lm9uTWVzc2FnZSlcbiAgICAgICAgcHJvcHMub25NZXNzYWdlKGRhdGEucGF5bG9hZCwgZGF0YS5mcm9tLCBkYXRhLmxhYmVsKTtcbiAgICB9LFxuICAgIFtwcm9wcz8ub25NZXNzYWdlXVxuICApO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvY2FsUGVlci5vbihcInJlY2VpdmUtZGF0YVwiLCBoYW5kbGVOZXdNZXNzYWdlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgbG9jYWxQZWVyLm9mZihcInJlY2VpdmUtZGF0YVwiLCBoYW5kbGVOZXdNZXNzYWdlKTtcbiAgICB9O1xuICB9LCBbcHJvcHM/Lm9uTWVzc2FnZV0pO1xuICByZXR1cm4ge1xuICAgIHNlbmREYXRhXG4gIH07XG59O1xuXG5leHBvcnQge1xuICB1c2VEYXRhTWVzc2FnZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUdMV1hQSE8yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-GLWXPHO2.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-I25VV2KW.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-I25VV2KW.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useActivePeers: function() { return /* binding */ useActivePeers; }\n/* harmony export */ });\n/* harmony import */ var _chunk_BA3RUF65_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-BA3RUF65.js */ \"./node_modules/@huddle01/react/dist/chunk-BA3RUF65.js\");\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var _chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-IL7JOYA6.js */ \"./node_modules/@huddle01/react/dist/chunk-IL7JOYA6.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n\n\n// ../../node_modules/zod/lib/helpers/util.js\nvar require_util = (0,_chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__.__commonJS)({\n  \"../../node_modules/zod/lib/helpers/util.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.getParsedType = exports.ZodParsedType = exports.objectUtil = exports.util = void 0;\n    var util;\n    (function(util2) {\n      util2.assertEqual = (val) => val;\n      function assertIs(_arg) {\n      }\n      util2.assertIs = assertIs;\n      function assertNever(_x) {\n        throw new Error();\n      }\n      util2.assertNever = assertNever;\n      util2.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n          obj[item] = item;\n        }\n        return obj;\n      };\n      util2.getValidEnumValues = (obj) => {\n        const validKeys = util2.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n          filtered[k] = obj[k];\n        }\n        return util2.objectValues(filtered);\n      };\n      util2.objectValues = (obj) => {\n        return util2.objectKeys(obj).map(function(e) {\n          return obj[e];\n        });\n      };\n      util2.objectKeys = typeof Object.keys === \"function\" ? (obj) => Object.keys(obj) : (object) => {\n        const keys = [];\n        for (const key in object) {\n          if (Object.prototype.hasOwnProperty.call(object, key)) {\n            keys.push(key);\n          }\n        }\n        return keys;\n      };\n      util2.find = (arr, checker) => {\n        for (const item of arr) {\n          if (checker(item))\n            return item;\n        }\n        return void 0;\n      };\n      util2.isInteger = typeof Number.isInteger === \"function\" ? (val) => Number.isInteger(val) : (val) => typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n      function joinValues(array, separator = \" | \") {\n        return array.map((val) => typeof val === \"string\" ? `'${val}'` : val).join(separator);\n      }\n      util2.joinValues = joinValues;\n      util2.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n          return value.toString();\n        }\n        return value;\n      };\n    })(util = exports.util || (exports.util = {}));\n    var objectUtil;\n    (function(objectUtil2) {\n      objectUtil2.mergeShapes = (first, second) => {\n        return {\n          ...first,\n          ...second\n          // second overwrites first\n        };\n      };\n    })(objectUtil = exports.objectUtil || (exports.objectUtil = {}));\n    exports.ZodParsedType = util.arrayToEnum([\n      \"string\",\n      \"nan\",\n      \"number\",\n      \"integer\",\n      \"float\",\n      \"boolean\",\n      \"date\",\n      \"bigint\",\n      \"symbol\",\n      \"function\",\n      \"undefined\",\n      \"null\",\n      \"array\",\n      \"object\",\n      \"unknown\",\n      \"promise\",\n      \"void\",\n      \"never\",\n      \"map\",\n      \"set\"\n    ]);\n    var getParsedType = (data) => {\n      const t = typeof data;\n      switch (t) {\n        case \"undefined\":\n          return exports.ZodParsedType.undefined;\n        case \"string\":\n          return exports.ZodParsedType.string;\n        case \"number\":\n          return isNaN(data) ? exports.ZodParsedType.nan : exports.ZodParsedType.number;\n        case \"boolean\":\n          return exports.ZodParsedType.boolean;\n        case \"function\":\n          return exports.ZodParsedType.function;\n        case \"bigint\":\n          return exports.ZodParsedType.bigint;\n        case \"symbol\":\n          return exports.ZodParsedType.symbol;\n        case \"object\":\n          if (Array.isArray(data)) {\n            return exports.ZodParsedType.array;\n          }\n          if (data === null) {\n            return exports.ZodParsedType.null;\n          }\n          if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n            return exports.ZodParsedType.promise;\n          }\n          if (typeof Map !== \"undefined\" && data instanceof Map) {\n            return exports.ZodParsedType.map;\n          }\n          if (typeof Set !== \"undefined\" && data instanceof Set) {\n            return exports.ZodParsedType.set;\n          }\n          if (typeof Date !== \"undefined\" && data instanceof Date) {\n            return exports.ZodParsedType.date;\n          }\n          return exports.ZodParsedType.object;\n        default:\n          return exports.ZodParsedType.unknown;\n      }\n    };\n    exports.getParsedType = getParsedType;\n  }\n});\n\n// ../../node_modules/zod/lib/ZodError.js\nvar require_ZodError = (0,_chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__.__commonJS)({\n  \"../../node_modules/zod/lib/ZodError.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.ZodError = exports.quotelessJson = exports.ZodIssueCode = void 0;\n    var util_1 = require_util();\n    exports.ZodIssueCode = util_1.util.arrayToEnum([\n      \"invalid_type\",\n      \"invalid_literal\",\n      \"custom\",\n      \"invalid_union\",\n      \"invalid_union_discriminator\",\n      \"invalid_enum_value\",\n      \"unrecognized_keys\",\n      \"invalid_arguments\",\n      \"invalid_return_type\",\n      \"invalid_date\",\n      \"invalid_string\",\n      \"too_small\",\n      \"too_big\",\n      \"invalid_intersection_types\",\n      \"not_multiple_of\",\n      \"not_finite\"\n    ]);\n    var quotelessJson = (obj) => {\n      const json = JSON.stringify(obj, null, 2);\n      return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n    };\n    exports.quotelessJson = quotelessJson;\n    var ZodError = class extends Error {\n      constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n          this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n          this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n          Object.setPrototypeOf(this, actualProto);\n        } else {\n          this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n      }\n      get errors() {\n        return this.issues;\n      }\n      format(_mapper) {\n        const mapper = _mapper || function(issue) {\n          return issue.message;\n        };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n          for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\") {\n              issue.unionErrors.map(processError);\n            } else if (issue.code === \"invalid_return_type\") {\n              processError(issue.returnTypeError);\n            } else if (issue.code === \"invalid_arguments\") {\n              processError(issue.argumentsError);\n            } else if (issue.path.length === 0) {\n              fieldErrors._errors.push(mapper(issue));\n            } else {\n              let curr = fieldErrors;\n              let i = 0;\n              while (i < issue.path.length) {\n                const el = issue.path[i];\n                const terminal = i === issue.path.length - 1;\n                if (!terminal) {\n                  curr[el] = curr[el] || { _errors: [] };\n                } else {\n                  curr[el] = curr[el] || { _errors: [] };\n                  curr[el]._errors.push(mapper(issue));\n                }\n                curr = curr[el];\n                i++;\n              }\n            }\n          }\n        };\n        processError(this);\n        return fieldErrors;\n      }\n      toString() {\n        return this.message;\n      }\n      get message() {\n        return JSON.stringify(this.issues, util_1.util.jsonStringifyReplacer, 2);\n      }\n      get isEmpty() {\n        return this.issues.length === 0;\n      }\n      flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n          if (sub.path.length > 0) {\n            fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n            fieldErrors[sub.path[0]].push(mapper(sub));\n          } else {\n            formErrors.push(mapper(sub));\n          }\n        }\n        return { formErrors, fieldErrors };\n      }\n      get formErrors() {\n        return this.flatten();\n      }\n    };\n    exports.ZodError = ZodError;\n    ZodError.create = (issues) => {\n      const error = new ZodError(issues);\n      return error;\n    };\n  }\n});\n\n// ../../node_modules/zod/lib/locales/en.js\nvar require_en = (0,_chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__.__commonJS)({\n  \"../../node_modules/zod/lib/locales/en.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    var util_1 = require_util();\n    var ZodError_1 = require_ZodError();\n    var errorMap = (issue, _ctx) => {\n      let message;\n      switch (issue.code) {\n        case ZodError_1.ZodIssueCode.invalid_type:\n          if (issue.received === util_1.ZodParsedType.undefined) {\n            message = \"Required\";\n          } else {\n            message = `Expected ${issue.expected}, received ${issue.received}`;\n          }\n          break;\n        case ZodError_1.ZodIssueCode.invalid_literal:\n          message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util_1.util.jsonStringifyReplacer)}`;\n          break;\n        case ZodError_1.ZodIssueCode.unrecognized_keys:\n          message = `Unrecognized key(s) in object: ${util_1.util.joinValues(issue.keys, \", \")}`;\n          break;\n        case ZodError_1.ZodIssueCode.invalid_union:\n          message = `Invalid input`;\n          break;\n        case ZodError_1.ZodIssueCode.invalid_union_discriminator:\n          message = `Invalid discriminator value. Expected ${util_1.util.joinValues(issue.options)}`;\n          break;\n        case ZodError_1.ZodIssueCode.invalid_enum_value:\n          message = `Invalid enum value. Expected ${util_1.util.joinValues(issue.options)}, received '${issue.received}'`;\n          break;\n        case ZodError_1.ZodIssueCode.invalid_arguments:\n          message = `Invalid function arguments`;\n          break;\n        case ZodError_1.ZodIssueCode.invalid_return_type:\n          message = `Invalid function return type`;\n          break;\n        case ZodError_1.ZodIssueCode.invalid_date:\n          message = `Invalid date`;\n          break;\n        case ZodError_1.ZodIssueCode.invalid_string:\n          if (typeof issue.validation === \"object\") {\n            if (\"includes\" in issue.validation) {\n              message = `Invalid input: must include \"${issue.validation.includes}\"`;\n              if (typeof issue.validation.position === \"number\") {\n                message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n              }\n            } else if (\"startsWith\" in issue.validation) {\n              message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n            } else if (\"endsWith\" in issue.validation) {\n              message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n            } else {\n              util_1.util.assertNever(issue.validation);\n            }\n          } else if (issue.validation !== \"regex\") {\n            message = `Invalid ${issue.validation}`;\n          } else {\n            message = \"Invalid\";\n          }\n          break;\n        case ZodError_1.ZodIssueCode.too_small:\n          if (issue.type === \"array\")\n            message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n          else if (issue.type === \"string\")\n            message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n          else if (issue.type === \"number\")\n            message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n          else if (issue.type === \"date\")\n            message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n          else\n            message = \"Invalid input\";\n          break;\n        case ZodError_1.ZodIssueCode.too_big:\n          if (issue.type === \"array\")\n            message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n          else if (issue.type === \"string\")\n            message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n          else if (issue.type === \"number\")\n            message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n          else if (issue.type === \"bigint\")\n            message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n          else if (issue.type === \"date\")\n            message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n          else\n            message = \"Invalid input\";\n          break;\n        case ZodError_1.ZodIssueCode.custom:\n          message = `Invalid input`;\n          break;\n        case ZodError_1.ZodIssueCode.invalid_intersection_types:\n          message = `Intersection results could not be merged`;\n          break;\n        case ZodError_1.ZodIssueCode.not_multiple_of:\n          message = `Number must be a multiple of ${issue.multipleOf}`;\n          break;\n        case ZodError_1.ZodIssueCode.not_finite:\n          message = \"Number must be finite\";\n          break;\n        default:\n          message = _ctx.defaultError;\n          util_1.util.assertNever(issue);\n      }\n      return { message };\n    };\n    exports.default = errorMap;\n  }\n});\n\n// ../../node_modules/zod/lib/errors.js\nvar require_errors = (0,_chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__.__commonJS)({\n  \"../../node_modules/zod/lib/errors.js\"(exports) {\n    \"use strict\";\n    var __importDefault = exports && exports.__importDefault || function(mod) {\n      return mod && mod.__esModule ? mod : { \"default\": mod };\n    };\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.getErrorMap = exports.setErrorMap = exports.defaultErrorMap = void 0;\n    var en_1 = __importDefault(require_en());\n    exports.defaultErrorMap = en_1.default;\n    var overrideErrorMap = en_1.default;\n    function setErrorMap(map) {\n      overrideErrorMap = map;\n    }\n    exports.setErrorMap = setErrorMap;\n    function getErrorMap() {\n      return overrideErrorMap;\n    }\n    exports.getErrorMap = getErrorMap;\n  }\n});\n\n// ../../node_modules/zod/lib/helpers/parseUtil.js\nvar require_parseUtil = (0,_chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__.__commonJS)({\n  \"../../node_modules/zod/lib/helpers/parseUtil.js\"(exports) {\n    \"use strict\";\n    var __importDefault = exports && exports.__importDefault || function(mod) {\n      return mod && mod.__esModule ? mod : { \"default\": mod };\n    };\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.isAsync = exports.isValid = exports.isDirty = exports.isAborted = exports.OK = exports.DIRTY = exports.INVALID = exports.ParseStatus = exports.addIssueToContext = exports.EMPTY_PATH = exports.makeIssue = void 0;\n    var errors_1 = require_errors();\n    var en_1 = __importDefault(require_en());\n    var makeIssue = (params) => {\n      const { data, path, errorMaps, issueData } = params;\n      const fullPath = [...path, ...issueData.path || []];\n      const fullIssue = {\n        ...issueData,\n        path: fullPath\n      };\n      let errorMessage = \"\";\n      const maps = errorMaps.filter((m) => !!m).slice().reverse();\n      for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n      }\n      return {\n        ...issueData,\n        path: fullPath,\n        message: issueData.message || errorMessage\n      };\n    };\n    exports.makeIssue = makeIssue;\n    exports.EMPTY_PATH = [];\n    function addIssueToContext(ctx, issueData) {\n      const issue = (0, exports.makeIssue)({\n        issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n          ctx.common.contextualErrorMap,\n          ctx.schemaErrorMap,\n          (0, errors_1.getErrorMap)(),\n          en_1.default\n          // then global default map\n        ].filter((x) => !!x)\n      });\n      ctx.common.issues.push(issue);\n    }\n    exports.addIssueToContext = addIssueToContext;\n    var ParseStatus = class _ParseStatus {\n      constructor() {\n        this.value = \"valid\";\n      }\n      dirty() {\n        if (this.value === \"valid\")\n          this.value = \"dirty\";\n      }\n      abort() {\n        if (this.value !== \"aborted\")\n          this.value = \"aborted\";\n      }\n      static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n          if (s.status === \"aborted\")\n            return exports.INVALID;\n          if (s.status === \"dirty\")\n            status.dirty();\n          arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n      }\n      static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n          syncPairs.push({\n            key: await pair.key,\n            value: await pair.value\n          });\n        }\n        return _ParseStatus.mergeObjectSync(status, syncPairs);\n      }\n      static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n          const { key, value } = pair;\n          if (key.status === \"aborted\")\n            return exports.INVALID;\n          if (value.status === \"aborted\")\n            return exports.INVALID;\n          if (key.status === \"dirty\")\n            status.dirty();\n          if (value.status === \"dirty\")\n            status.dirty();\n          if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n            finalObject[key.value] = value.value;\n          }\n        }\n        return { status: status.value, value: finalObject };\n      }\n    };\n    exports.ParseStatus = ParseStatus;\n    exports.INVALID = Object.freeze({\n      status: \"aborted\"\n    });\n    var DIRTY = (value) => ({ status: \"dirty\", value });\n    exports.DIRTY = DIRTY;\n    var OK = (value) => ({ status: \"valid\", value });\n    exports.OK = OK;\n    var isAborted = (x) => x.status === \"aborted\";\n    exports.isAborted = isAborted;\n    var isDirty = (x) => x.status === \"dirty\";\n    exports.isDirty = isDirty;\n    var isValid = (x) => x.status === \"valid\";\n    exports.isValid = isValid;\n    var isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n    exports.isAsync = isAsync;\n  }\n});\n\n// ../../node_modules/zod/lib/helpers/typeAliases.js\nvar require_typeAliases = (0,_chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__.__commonJS)({\n  \"../../node_modules/zod/lib/helpers/typeAliases.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n  }\n});\n\n// ../../node_modules/zod/lib/helpers/errorUtil.js\nvar require_errorUtil = (0,_chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__.__commonJS)({\n  \"../../node_modules/zod/lib/helpers/errorUtil.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.errorUtil = void 0;\n    var errorUtil;\n    (function(errorUtil2) {\n      errorUtil2.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n      errorUtil2.toString = (message) => typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.message;\n    })(errorUtil = exports.errorUtil || (exports.errorUtil = {}));\n  }\n});\n\n// ../../node_modules/zod/lib/types.js\nvar require_types = (0,_chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__.__commonJS)({\n  \"../../node_modules/zod/lib/types.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.date = exports.boolean = exports.bigint = exports.array = exports.any = exports.coerce = exports.ZodFirstPartyTypeKind = exports.late = exports.ZodSchema = exports.Schema = exports.custom = exports.ZodReadonly = exports.ZodPipeline = exports.ZodBranded = exports.BRAND = exports.ZodNaN = exports.ZodCatch = exports.ZodDefault = exports.ZodNullable = exports.ZodOptional = exports.ZodTransformer = exports.ZodEffects = exports.ZodPromise = exports.ZodNativeEnum = exports.ZodEnum = exports.ZodLiteral = exports.ZodLazy = exports.ZodFunction = exports.ZodSet = exports.ZodMap = exports.ZodRecord = exports.ZodTuple = exports.ZodIntersection = exports.ZodDiscriminatedUnion = exports.ZodUnion = exports.ZodObject = exports.ZodArray = exports.ZodVoid = exports.ZodNever = exports.ZodUnknown = exports.ZodAny = exports.ZodNull = exports.ZodUndefined = exports.ZodSymbol = exports.ZodDate = exports.ZodBoolean = exports.ZodBigInt = exports.ZodNumber = exports.ZodString = exports.ZodType = void 0;\n    exports.NEVER = exports.void = exports.unknown = exports.union = exports.undefined = exports.tuple = exports.transformer = exports.symbol = exports.string = exports.strictObject = exports.set = exports.record = exports.promise = exports.preprocess = exports.pipeline = exports.ostring = exports.optional = exports.onumber = exports.oboolean = exports.object = exports.number = exports.nullable = exports.null = exports.never = exports.nativeEnum = exports.nan = exports.map = exports.literal = exports.lazy = exports.intersection = exports.instanceof = exports.function = exports.enum = exports.effect = exports.discriminatedUnion = void 0;\n    var errors_1 = require_errors();\n    var errorUtil_1 = require_errorUtil();\n    var parseUtil_1 = require_parseUtil();\n    var util_1 = require_util();\n    var ZodError_1 = require_ZodError();\n    var ParseInputLazyPath = class {\n      constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n      }\n      get path() {\n        if (!this._cachedPath.length) {\n          if (this._key instanceof Array) {\n            this._cachedPath.push(...this._path, ...this._key);\n          } else {\n            this._cachedPath.push(...this._path, this._key);\n          }\n        }\n        return this._cachedPath;\n      }\n    };\n    var handleResult = (ctx, result) => {\n      if ((0, parseUtil_1.isValid)(result)) {\n        return { success: true, data: result.value };\n      } else {\n        if (!ctx.common.issues.length) {\n          throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n          success: false,\n          get error() {\n            if (this._error)\n              return this._error;\n            const error = new ZodError_1.ZodError(ctx.common.issues);\n            this._error = error;\n            return this._error;\n          }\n        };\n      }\n    };\n    function processCreateParams(params) {\n      if (!params)\n        return {};\n      const { errorMap, invalid_type_error, required_error, description } = params;\n      if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n      }\n      if (errorMap)\n        return { errorMap, description };\n      const customMap = (iss, ctx) => {\n        if (iss.code !== \"invalid_type\")\n          return { message: ctx.defaultError };\n        if (typeof ctx.data === \"undefined\") {\n          return { message: required_error !== null && required_error !== void 0 ? required_error : ctx.defaultError };\n        }\n        return { message: invalid_type_error !== null && invalid_type_error !== void 0 ? invalid_type_error : ctx.defaultError };\n      };\n      return { errorMap: customMap, description };\n    }\n    var ZodType = class {\n      constructor(def) {\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n      }\n      get description() {\n        return this._def.description;\n      }\n      _getType(input) {\n        return (0, util_1.getParsedType)(input.data);\n      }\n      _getOrReturnCtx(input, ctx) {\n        return ctx || {\n          common: input.parent.common,\n          data: input.data,\n          parsedType: (0, util_1.getParsedType)(input.data),\n          schemaErrorMap: this._def.errorMap,\n          path: input.path,\n          parent: input.parent\n        };\n      }\n      _processInputParams(input) {\n        return {\n          status: new parseUtil_1.ParseStatus(),\n          ctx: {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: (0, util_1.getParsedType)(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent\n          }\n        };\n      }\n      _parseSync(input) {\n        const result = this._parse(input);\n        if ((0, parseUtil_1.isAsync)(result)) {\n          throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n      }\n      _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n      }\n      parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n          return result.data;\n        throw result.error;\n      }\n      safeParse(data, params) {\n        var _a;\n        const ctx = {\n          common: {\n            issues: [],\n            async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,\n            contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap\n          },\n          path: (params === null || params === void 0 ? void 0 : params.path) || [],\n          schemaErrorMap: this._def.errorMap,\n          parent: null,\n          data,\n          parsedType: (0, util_1.getParsedType)(data)\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n      }\n      async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n          return result.data;\n        throw result.error;\n      }\n      async safeParseAsync(data, params) {\n        const ctx = {\n          common: {\n            issues: [],\n            contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n            async: true\n          },\n          path: (params === null || params === void 0 ? void 0 : params.path) || [],\n          schemaErrorMap: this._def.errorMap,\n          parent: null,\n          data,\n          parsedType: (0, util_1.getParsedType)(data)\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await ((0, parseUtil_1.isAsync)(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n      }\n      refine(check, message) {\n        const getIssueProperties = (val) => {\n          if (typeof message === \"string\" || typeof message === \"undefined\") {\n            return { message };\n          } else if (typeof message === \"function\") {\n            return message(val);\n          } else {\n            return message;\n          }\n        };\n        return this._refinement((val, ctx) => {\n          const result = check(val);\n          const setError = () => ctx.addIssue({\n            code: ZodError_1.ZodIssueCode.custom,\n            ...getIssueProperties(val)\n          });\n          if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n            return result.then((data) => {\n              if (!data) {\n                setError();\n                return false;\n              } else {\n                return true;\n              }\n            });\n          }\n          if (!result) {\n            setError();\n            return false;\n          } else {\n            return true;\n          }\n        });\n      }\n      refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n          if (!check(val)) {\n            ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n            return false;\n          } else {\n            return true;\n          }\n        });\n      }\n      _refinement(refinement) {\n        return new ZodEffects({\n          schema: this,\n          typeName: ZodFirstPartyTypeKind.ZodEffects,\n          effect: { type: \"refinement\", refinement }\n        });\n      }\n      superRefine(refinement) {\n        return this._refinement(refinement);\n      }\n      optional() {\n        return ZodOptional.create(this, this._def);\n      }\n      nullable() {\n        return ZodNullable.create(this, this._def);\n      }\n      nullish() {\n        return this.nullable().optional();\n      }\n      array() {\n        return ZodArray.create(this, this._def);\n      }\n      promise() {\n        return ZodPromise.create(this, this._def);\n      }\n      or(option) {\n        return ZodUnion.create([this, option], this._def);\n      }\n      and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n      }\n      transform(transform) {\n        return new ZodEffects({\n          ...processCreateParams(this._def),\n          schema: this,\n          typeName: ZodFirstPartyTypeKind.ZodEffects,\n          effect: { type: \"transform\", transform }\n        });\n      }\n      default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n          ...processCreateParams(this._def),\n          innerType: this,\n          defaultValue: defaultValueFunc,\n          typeName: ZodFirstPartyTypeKind.ZodDefault\n        });\n      }\n      brand() {\n        return new ZodBranded({\n          typeName: ZodFirstPartyTypeKind.ZodBranded,\n          type: this,\n          ...processCreateParams(this._def)\n        });\n      }\n      catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n          ...processCreateParams(this._def),\n          innerType: this,\n          catchValue: catchValueFunc,\n          typeName: ZodFirstPartyTypeKind.ZodCatch\n        });\n      }\n      describe(description) {\n        const This = this.constructor;\n        return new This({\n          ...this._def,\n          description\n        });\n      }\n      pipe(target) {\n        return ZodPipeline.create(this, target);\n      }\n      readonly() {\n        return ZodReadonly.create(this);\n      }\n      isOptional() {\n        return this.safeParse(void 0).success;\n      }\n      isNullable() {\n        return this.safeParse(null).success;\n      }\n    };\n    exports.ZodType = ZodType;\n    exports.Schema = ZodType;\n    exports.ZodSchema = ZodType;\n    var cuidRegex = /^c[^\\s-]{8,}$/i;\n    var cuid2Regex = /^[a-z][a-z0-9]*$/;\n    var ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/;\n    var uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\n    var emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_+-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n    var _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\n    var emojiRegex;\n    var ipv4Regex = /^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/;\n    var ipv6Regex = /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\n    var datetimeRegex = (args) => {\n      if (args.precision) {\n        if (args.offset) {\n          return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${args.precision}}(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$`);\n        } else {\n          return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}\\\\.\\\\d{${args.precision}}Z$`);\n        }\n      } else if (args.precision === 0) {\n        if (args.offset) {\n          return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$`);\n        } else {\n          return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z$`);\n        }\n      } else {\n        if (args.offset) {\n          return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?(([+-]\\\\d{2}(:?\\\\d{2})?)|Z)$`);\n        } else {\n          return new RegExp(`^\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}(\\\\.\\\\d+)?Z$`);\n        }\n      }\n    };\n    function isValidIP(ip, version) {\n      if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n      }\n      if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n      }\n      return false;\n    }\n    var ZodString = class _ZodString extends ZodType {\n      _parse(input) {\n        if (this._def.coerce) {\n          input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.string) {\n          const ctx2 = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(\n            ctx2,\n            {\n              code: ZodError_1.ZodIssueCode.invalid_type,\n              expected: util_1.ZodParsedType.string,\n              received: ctx2.parsedType\n            }\n            //\n          );\n          return parseUtil_1.INVALID;\n        }\n        const status = new parseUtil_1.ParseStatus();\n        let ctx = void 0;\n        for (const check of this._def.checks) {\n          if (check.kind === \"min\") {\n            if (input.data.length < check.value) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.too_small,\n                minimum: check.value,\n                type: \"string\",\n                inclusive: true,\n                exact: false,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"max\") {\n            if (input.data.length > check.value) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.too_big,\n                maximum: check.value,\n                type: \"string\",\n                inclusive: true,\n                exact: false,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"length\") {\n            const tooBig = input.data.length > check.value;\n            const tooSmall = input.data.length < check.value;\n            if (tooBig || tooSmall) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              if (tooBig) {\n                (0, parseUtil_1.addIssueToContext)(ctx, {\n                  code: ZodError_1.ZodIssueCode.too_big,\n                  maximum: check.value,\n                  type: \"string\",\n                  inclusive: true,\n                  exact: true,\n                  message: check.message\n                });\n              } else if (tooSmall) {\n                (0, parseUtil_1.addIssueToContext)(ctx, {\n                  code: ZodError_1.ZodIssueCode.too_small,\n                  minimum: check.value,\n                  type: \"string\",\n                  inclusive: true,\n                  exact: true,\n                  message: check.message\n                });\n              }\n              status.dirty();\n            }\n          } else if (check.kind === \"email\") {\n            if (!emailRegex.test(input.data)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                validation: \"email\",\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"emoji\") {\n            if (!emojiRegex) {\n              emojiRegex = new RegExp(_emojiRegex, \"u\");\n            }\n            if (!emojiRegex.test(input.data)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                validation: \"emoji\",\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"uuid\") {\n            if (!uuidRegex.test(input.data)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                validation: \"uuid\",\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"cuid\") {\n            if (!cuidRegex.test(input.data)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                validation: \"cuid\",\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"cuid2\") {\n            if (!cuid2Regex.test(input.data)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                validation: \"cuid2\",\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"ulid\") {\n            if (!ulidRegex.test(input.data)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                validation: \"ulid\",\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"url\") {\n            try {\n              new URL(input.data);\n            } catch (_a) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                validation: \"url\",\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"regex\") {\n            check.regex.lastIndex = 0;\n            const testResult = check.regex.test(input.data);\n            if (!testResult) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                validation: \"regex\",\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"trim\") {\n            input.data = input.data.trim();\n          } else if (check.kind === \"includes\") {\n            if (!input.data.includes(check.value, check.position)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                validation: { includes: check.value, position: check.position },\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"toLowerCase\") {\n            input.data = input.data.toLowerCase();\n          } else if (check.kind === \"toUpperCase\") {\n            input.data = input.data.toUpperCase();\n          } else if (check.kind === \"startsWith\") {\n            if (!input.data.startsWith(check.value)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                validation: { startsWith: check.value },\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"endsWith\") {\n            if (!input.data.endsWith(check.value)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                validation: { endsWith: check.value },\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"datetime\") {\n            const regex = datetimeRegex(check);\n            if (!regex.test(input.data)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                validation: \"datetime\",\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"ip\") {\n            if (!isValidIP(input.data, check.version)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                validation: \"ip\",\n                code: ZodError_1.ZodIssueCode.invalid_string,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else {\n            util_1.util.assertNever(check);\n          }\n        }\n        return { status: status.value, value: input.data };\n      }\n      _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n          validation,\n          code: ZodError_1.ZodIssueCode.invalid_string,\n          ...errorUtil_1.errorUtil.errToObj(message)\n        });\n      }\n      _addCheck(check) {\n        return new _ZodString({\n          ...this._def,\n          checks: [...this._def.checks, check]\n        });\n      }\n      email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil_1.errorUtil.errToObj(message) });\n      }\n      url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil_1.errorUtil.errToObj(message) });\n      }\n      emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil_1.errorUtil.errToObj(message) });\n      }\n      uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil_1.errorUtil.errToObj(message) });\n      }\n      cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil_1.errorUtil.errToObj(message) });\n      }\n      cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil_1.errorUtil.errToObj(message) });\n      }\n      ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil_1.errorUtil.errToObj(message) });\n      }\n      ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil_1.errorUtil.errToObj(options) });\n      }\n      datetime(options) {\n        var _a;\n        if (typeof options === \"string\") {\n          return this._addCheck({\n            kind: \"datetime\",\n            precision: null,\n            offset: false,\n            message: options\n          });\n        }\n        return this._addCheck({\n          kind: \"datetime\",\n          precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n          offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,\n          ...errorUtil_1.errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)\n        });\n      }\n      regex(regex, message) {\n        return this._addCheck({\n          kind: \"regex\",\n          regex,\n          ...errorUtil_1.errorUtil.errToObj(message)\n        });\n      }\n      includes(value, options) {\n        return this._addCheck({\n          kind: \"includes\",\n          value,\n          position: options === null || options === void 0 ? void 0 : options.position,\n          ...errorUtil_1.errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message)\n        });\n      }\n      startsWith(value, message) {\n        return this._addCheck({\n          kind: \"startsWith\",\n          value,\n          ...errorUtil_1.errorUtil.errToObj(message)\n        });\n      }\n      endsWith(value, message) {\n        return this._addCheck({\n          kind: \"endsWith\",\n          value,\n          ...errorUtil_1.errorUtil.errToObj(message)\n        });\n      }\n      min(minLength, message) {\n        return this._addCheck({\n          kind: \"min\",\n          value: minLength,\n          ...errorUtil_1.errorUtil.errToObj(message)\n        });\n      }\n      max(maxLength, message) {\n        return this._addCheck({\n          kind: \"max\",\n          value: maxLength,\n          ...errorUtil_1.errorUtil.errToObj(message)\n        });\n      }\n      length(len, message) {\n        return this._addCheck({\n          kind: \"length\",\n          value: len,\n          ...errorUtil_1.errorUtil.errToObj(message)\n        });\n      }\n      /**\n       * @deprecated Use z.string().min(1) instead.\n       * @see {@link ZodString.min}\n       */\n      nonempty(message) {\n        return this.min(1, errorUtil_1.errorUtil.errToObj(message));\n      }\n      trim() {\n        return new _ZodString({\n          ...this._def,\n          checks: [...this._def.checks, { kind: \"trim\" }]\n        });\n      }\n      toLowerCase() {\n        return new _ZodString({\n          ...this._def,\n          checks: [...this._def.checks, { kind: \"toLowerCase\" }]\n        });\n      }\n      toUpperCase() {\n        return new _ZodString({\n          ...this._def,\n          checks: [...this._def.checks, { kind: \"toUpperCase\" }]\n        });\n      }\n      get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n      }\n      get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n      }\n      get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n      }\n      get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n      }\n      get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n      }\n      get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n      }\n      get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n      }\n      get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n      }\n      get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n      }\n      get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n          if (ch.kind === \"min\") {\n            if (min === null || ch.value > min)\n              min = ch.value;\n          }\n        }\n        return min;\n      }\n      get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n          if (ch.kind === \"max\") {\n            if (max === null || ch.value < max)\n              max = ch.value;\n          }\n        }\n        return max;\n      }\n    };\n    exports.ZodString = ZodString;\n    ZodString.create = (params) => {\n      var _a;\n      return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params)\n      });\n    };\n    function floatSafeRemainder(val, step) {\n      const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n      const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n      const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n      const valInt = parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n      const stepInt = parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n      return valInt % stepInt / Math.pow(10, decCount);\n    }\n    var ZodNumber = class _ZodNumber extends ZodType {\n      constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n      }\n      _parse(input) {\n        if (this._def.coerce) {\n          input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.number) {\n          const ctx2 = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(ctx2, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.number,\n            received: ctx2.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        let ctx = void 0;\n        const status = new parseUtil_1.ParseStatus();\n        for (const check of this._def.checks) {\n          if (check.kind === \"int\") {\n            if (!util_1.util.isInteger(input.data)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.invalid_type,\n                expected: \"integer\",\n                received: \"float\",\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"min\") {\n            const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n            if (tooSmall) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.too_small,\n                minimum: check.value,\n                type: \"number\",\n                inclusive: check.inclusive,\n                exact: false,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"max\") {\n            const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n            if (tooBig) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.too_big,\n                maximum: check.value,\n                type: \"number\",\n                inclusive: check.inclusive,\n                exact: false,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"multipleOf\") {\n            if (floatSafeRemainder(input.data, check.value) !== 0) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.not_multiple_of,\n                multipleOf: check.value,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"finite\") {\n            if (!Number.isFinite(input.data)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.not_finite,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else {\n            util_1.util.assertNever(check);\n          }\n        }\n        return { status: status.value, value: input.data };\n      }\n      gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil_1.errorUtil.toString(message));\n      }\n      gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil_1.errorUtil.toString(message));\n      }\n      lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil_1.errorUtil.toString(message));\n      }\n      lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil_1.errorUtil.toString(message));\n      }\n      setLimit(kind, value, inclusive, message) {\n        return new _ZodNumber({\n          ...this._def,\n          checks: [\n            ...this._def.checks,\n            {\n              kind,\n              value,\n              inclusive,\n              message: errorUtil_1.errorUtil.toString(message)\n            }\n          ]\n        });\n      }\n      _addCheck(check) {\n        return new _ZodNumber({\n          ...this._def,\n          checks: [...this._def.checks, check]\n        });\n      }\n      int(message) {\n        return this._addCheck({\n          kind: \"int\",\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      positive(message) {\n        return this._addCheck({\n          kind: \"min\",\n          value: 0,\n          inclusive: false,\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      negative(message) {\n        return this._addCheck({\n          kind: \"max\",\n          value: 0,\n          inclusive: false,\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      nonpositive(message) {\n        return this._addCheck({\n          kind: \"max\",\n          value: 0,\n          inclusive: true,\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      nonnegative(message) {\n        return this._addCheck({\n          kind: \"min\",\n          value: 0,\n          inclusive: true,\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      multipleOf(value, message) {\n        return this._addCheck({\n          kind: \"multipleOf\",\n          value,\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      finite(message) {\n        return this._addCheck({\n          kind: \"finite\",\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      safe(message) {\n        return this._addCheck({\n          kind: \"min\",\n          inclusive: true,\n          value: Number.MIN_SAFE_INTEGER,\n          message: errorUtil_1.errorUtil.toString(message)\n        })._addCheck({\n          kind: \"max\",\n          inclusive: true,\n          value: Number.MAX_SAFE_INTEGER,\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n          if (ch.kind === \"min\") {\n            if (min === null || ch.value > min)\n              min = ch.value;\n          }\n        }\n        return min;\n      }\n      get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n          if (ch.kind === \"max\") {\n            if (max === null || ch.value < max)\n              max = ch.value;\n          }\n        }\n        return max;\n      }\n      get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" || ch.kind === \"multipleOf\" && util_1.util.isInteger(ch.value));\n      }\n      get isFinite() {\n        let max = null, min = null;\n        for (const ch of this._def.checks) {\n          if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n            return true;\n          } else if (ch.kind === \"min\") {\n            if (min === null || ch.value > min)\n              min = ch.value;\n          } else if (ch.kind === \"max\") {\n            if (max === null || ch.value < max)\n              max = ch.value;\n          }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n      }\n    };\n    exports.ZodNumber = ZodNumber;\n    ZodNumber.create = (params) => {\n      return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodBigInt = class _ZodBigInt extends ZodType {\n      constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n      }\n      _parse(input) {\n        if (this._def.coerce) {\n          input.data = BigInt(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.bigint) {\n          const ctx2 = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(ctx2, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.bigint,\n            received: ctx2.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        let ctx = void 0;\n        const status = new parseUtil_1.ParseStatus();\n        for (const check of this._def.checks) {\n          if (check.kind === \"min\") {\n            const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n            if (tooSmall) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.too_small,\n                type: \"bigint\",\n                minimum: check.value,\n                inclusive: check.inclusive,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"max\") {\n            const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n            if (tooBig) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.too_big,\n                type: \"bigint\",\n                maximum: check.value,\n                inclusive: check.inclusive,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"multipleOf\") {\n            if (input.data % check.value !== BigInt(0)) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.not_multiple_of,\n                multipleOf: check.value,\n                message: check.message\n              });\n              status.dirty();\n            }\n          } else {\n            util_1.util.assertNever(check);\n          }\n        }\n        return { status: status.value, value: input.data };\n      }\n      gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil_1.errorUtil.toString(message));\n      }\n      gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil_1.errorUtil.toString(message));\n      }\n      lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil_1.errorUtil.toString(message));\n      }\n      lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil_1.errorUtil.toString(message));\n      }\n      setLimit(kind, value, inclusive, message) {\n        return new _ZodBigInt({\n          ...this._def,\n          checks: [\n            ...this._def.checks,\n            {\n              kind,\n              value,\n              inclusive,\n              message: errorUtil_1.errorUtil.toString(message)\n            }\n          ]\n        });\n      }\n      _addCheck(check) {\n        return new _ZodBigInt({\n          ...this._def,\n          checks: [...this._def.checks, check]\n        });\n      }\n      positive(message) {\n        return this._addCheck({\n          kind: \"min\",\n          value: BigInt(0),\n          inclusive: false,\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      negative(message) {\n        return this._addCheck({\n          kind: \"max\",\n          value: BigInt(0),\n          inclusive: false,\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      nonpositive(message) {\n        return this._addCheck({\n          kind: \"max\",\n          value: BigInt(0),\n          inclusive: true,\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      nonnegative(message) {\n        return this._addCheck({\n          kind: \"min\",\n          value: BigInt(0),\n          inclusive: true,\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      multipleOf(value, message) {\n        return this._addCheck({\n          kind: \"multipleOf\",\n          value,\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n          if (ch.kind === \"min\") {\n            if (min === null || ch.value > min)\n              min = ch.value;\n          }\n        }\n        return min;\n      }\n      get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n          if (ch.kind === \"max\") {\n            if (max === null || ch.value < max)\n              max = ch.value;\n          }\n        }\n        return max;\n      }\n    };\n    exports.ZodBigInt = ZodBigInt;\n    ZodBigInt.create = (params) => {\n      var _a;\n      return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodBoolean = class extends ZodType {\n      _parse(input) {\n        if (this._def.coerce) {\n          input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.boolean) {\n          const ctx = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.boolean,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n      }\n    };\n    exports.ZodBoolean = ZodBoolean;\n    ZodBoolean.create = (params) => {\n      return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodDate = class _ZodDate extends ZodType {\n      _parse(input) {\n        if (this._def.coerce) {\n          input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.date) {\n          const ctx2 = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(ctx2, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.date,\n            received: ctx2.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        if (isNaN(input.data.getTime())) {\n          const ctx2 = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(ctx2, {\n            code: ZodError_1.ZodIssueCode.invalid_date\n          });\n          return parseUtil_1.INVALID;\n        }\n        const status = new parseUtil_1.ParseStatus();\n        let ctx = void 0;\n        for (const check of this._def.checks) {\n          if (check.kind === \"min\") {\n            if (input.data.getTime() < check.value) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.too_small,\n                message: check.message,\n                inclusive: true,\n                exact: false,\n                minimum: check.value,\n                type: \"date\"\n              });\n              status.dirty();\n            }\n          } else if (check.kind === \"max\") {\n            if (input.data.getTime() > check.value) {\n              ctx = this._getOrReturnCtx(input, ctx);\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.too_big,\n                message: check.message,\n                inclusive: true,\n                exact: false,\n                maximum: check.value,\n                type: \"date\"\n              });\n              status.dirty();\n            }\n          } else {\n            util_1.util.assertNever(check);\n          }\n        }\n        return {\n          status: status.value,\n          value: new Date(input.data.getTime())\n        };\n      }\n      _addCheck(check) {\n        return new _ZodDate({\n          ...this._def,\n          checks: [...this._def.checks, check]\n        });\n      }\n      min(minDate, message) {\n        return this._addCheck({\n          kind: \"min\",\n          value: minDate.getTime(),\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      max(maxDate, message) {\n        return this._addCheck({\n          kind: \"max\",\n          value: maxDate.getTime(),\n          message: errorUtil_1.errorUtil.toString(message)\n        });\n      }\n      get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n          if (ch.kind === \"min\") {\n            if (min === null || ch.value > min)\n              min = ch.value;\n          }\n        }\n        return min != null ? new Date(min) : null;\n      }\n      get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n          if (ch.kind === \"max\") {\n            if (max === null || ch.value < max)\n              max = ch.value;\n          }\n        }\n        return max != null ? new Date(max) : null;\n      }\n    };\n    exports.ZodDate = ZodDate;\n    ZodDate.create = (params) => {\n      return new ZodDate({\n        checks: [],\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodSymbol = class extends ZodType {\n      _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.symbol) {\n          const ctx = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.symbol,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n      }\n    };\n    exports.ZodSymbol = ZodSymbol;\n    ZodSymbol.create = (params) => {\n      return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodUndefined = class extends ZodType {\n      _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.undefined) {\n          const ctx = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.undefined,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n      }\n    };\n    exports.ZodUndefined = ZodUndefined;\n    ZodUndefined.create = (params) => {\n      return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodNull = class extends ZodType {\n      _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.null) {\n          const ctx = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.null,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n      }\n    };\n    exports.ZodNull = ZodNull;\n    ZodNull.create = (params) => {\n      return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodAny = class extends ZodType {\n      constructor() {\n        super(...arguments);\n        this._any = true;\n      }\n      _parse(input) {\n        return (0, parseUtil_1.OK)(input.data);\n      }\n    };\n    exports.ZodAny = ZodAny;\n    ZodAny.create = (params) => {\n      return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodUnknown = class extends ZodType {\n      constructor() {\n        super(...arguments);\n        this._unknown = true;\n      }\n      _parse(input) {\n        return (0, parseUtil_1.OK)(input.data);\n      }\n    };\n    exports.ZodUnknown = ZodUnknown;\n    ZodUnknown.create = (params) => {\n      return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodNever = class extends ZodType {\n      _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        (0, parseUtil_1.addIssueToContext)(ctx, {\n          code: ZodError_1.ZodIssueCode.invalid_type,\n          expected: util_1.ZodParsedType.never,\n          received: ctx.parsedType\n        });\n        return parseUtil_1.INVALID;\n      }\n    };\n    exports.ZodNever = ZodNever;\n    ZodNever.create = (params) => {\n      return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodVoid = class extends ZodType {\n      _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.undefined) {\n          const ctx = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.void,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n      }\n    };\n    exports.ZodVoid = ZodVoid;\n    ZodVoid.create = (params) => {\n      return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodArray = class _ZodArray extends ZodType {\n      _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== util_1.ZodParsedType.array) {\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.array,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        if (def.exactLength !== null) {\n          const tooBig = ctx.data.length > def.exactLength.value;\n          const tooSmall = ctx.data.length < def.exactLength.value;\n          if (tooBig || tooSmall) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n              code: tooBig ? ZodError_1.ZodIssueCode.too_big : ZodError_1.ZodIssueCode.too_small,\n              minimum: tooSmall ? def.exactLength.value : void 0,\n              maximum: tooBig ? def.exactLength.value : void 0,\n              type: \"array\",\n              inclusive: true,\n              exact: true,\n              message: def.exactLength.message\n            });\n            status.dirty();\n          }\n        }\n        if (def.minLength !== null) {\n          if (ctx.data.length < def.minLength.value) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n              code: ZodError_1.ZodIssueCode.too_small,\n              minimum: def.minLength.value,\n              type: \"array\",\n              inclusive: true,\n              exact: false,\n              message: def.minLength.message\n            });\n            status.dirty();\n          }\n        }\n        if (def.maxLength !== null) {\n          if (ctx.data.length > def.maxLength.value) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n              code: ZodError_1.ZodIssueCode.too_big,\n              maximum: def.maxLength.value,\n              type: \"array\",\n              inclusive: true,\n              exact: false,\n              message: def.maxLength.message\n            });\n            status.dirty();\n          }\n        }\n        if (ctx.common.async) {\n          return Promise.all([...ctx.data].map((item, i) => {\n            return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n          })).then((result2) => {\n            return parseUtil_1.ParseStatus.mergeArray(status, result2);\n          });\n        }\n        const result = [...ctx.data].map((item, i) => {\n          return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return parseUtil_1.ParseStatus.mergeArray(status, result);\n      }\n      get element() {\n        return this._def.type;\n      }\n      min(minLength, message) {\n        return new _ZodArray({\n          ...this._def,\n          minLength: { value: minLength, message: errorUtil_1.errorUtil.toString(message) }\n        });\n      }\n      max(maxLength, message) {\n        return new _ZodArray({\n          ...this._def,\n          maxLength: { value: maxLength, message: errorUtil_1.errorUtil.toString(message) }\n        });\n      }\n      length(len, message) {\n        return new _ZodArray({\n          ...this._def,\n          exactLength: { value: len, message: errorUtil_1.errorUtil.toString(message) }\n        });\n      }\n      nonempty(message) {\n        return this.min(1, message);\n      }\n    };\n    exports.ZodArray = ZodArray;\n    ZodArray.create = (schema, params) => {\n      return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params)\n      });\n    };\n    function deepPartialify(schema) {\n      if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n          const fieldSchema = schema.shape[key];\n          newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n          ...schema._def,\n          shape: () => newShape\n        });\n      } else if (schema instanceof ZodArray) {\n        return new ZodArray({\n          ...schema._def,\n          type: deepPartialify(schema.element)\n        });\n      } else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n      } else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n      } else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n      } else {\n        return schema;\n      }\n    }\n    var ZodObject = class _ZodObject extends ZodType {\n      constructor() {\n        super(...arguments);\n        this._cached = null;\n        this.nonstrict = this.passthrough;\n        this.augment = this.extend;\n      }\n      _getCached() {\n        if (this._cached !== null)\n          return this._cached;\n        const shape = this._def.shape();\n        const keys = util_1.util.objectKeys(shape);\n        return this._cached = { shape, keys };\n      }\n      _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.object) {\n          const ctx2 = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(ctx2, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.object,\n            received: ctx2.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n          for (const key in ctx.data) {\n            if (!shapeKeys.includes(key)) {\n              extraKeys.push(key);\n            }\n          }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n          const keyValidator = shape[key];\n          const value = ctx.data[key];\n          pairs.push({\n            key: { status: \"valid\", value: key },\n            value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n            alwaysSet: key in ctx.data\n          });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n          const unknownKeys = this._def.unknownKeys;\n          if (unknownKeys === \"passthrough\") {\n            for (const key of extraKeys) {\n              pairs.push({\n                key: { status: \"valid\", value: key },\n                value: { status: \"valid\", value: ctx.data[key] }\n              });\n            }\n          } else if (unknownKeys === \"strict\") {\n            if (extraKeys.length > 0) {\n              (0, parseUtil_1.addIssueToContext)(ctx, {\n                code: ZodError_1.ZodIssueCode.unrecognized_keys,\n                keys: extraKeys\n              });\n              status.dirty();\n            }\n          } else if (unknownKeys === \"strip\") {\n          } else {\n            throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n          }\n        } else {\n          const catchall = this._def.catchall;\n          for (const key of extraKeys) {\n            const value = ctx.data[key];\n            pairs.push({\n              key: { status: \"valid\", value: key },\n              value: catchall._parse(\n                new ParseInputLazyPath(ctx, value, ctx.path, key)\n                //, ctx.child(key), value, getParsedType(value)\n              ),\n              alwaysSet: key in ctx.data\n            });\n          }\n        }\n        if (ctx.common.async) {\n          return Promise.resolve().then(async () => {\n            const syncPairs = [];\n            for (const pair of pairs) {\n              const key = await pair.key;\n              syncPairs.push({\n                key,\n                value: await pair.value,\n                alwaysSet: pair.alwaysSet\n              });\n            }\n            return syncPairs;\n          }).then((syncPairs) => {\n            return parseUtil_1.ParseStatus.mergeObjectSync(status, syncPairs);\n          });\n        } else {\n          return parseUtil_1.ParseStatus.mergeObjectSync(status, pairs);\n        }\n      }\n      get shape() {\n        return this._def.shape();\n      }\n      strict(message) {\n        errorUtil_1.errorUtil.errToObj;\n        return new _ZodObject({\n          ...this._def,\n          unknownKeys: \"strict\",\n          ...message !== void 0 ? {\n            errorMap: (issue, ctx) => {\n              var _a, _b, _c, _d;\n              const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;\n              if (issue.code === \"unrecognized_keys\")\n                return {\n                  message: (_d = errorUtil_1.errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError\n                };\n              return {\n                message: defaultError\n              };\n            }\n          } : {}\n        });\n      }\n      strip() {\n        return new _ZodObject({\n          ...this._def,\n          unknownKeys: \"strip\"\n        });\n      }\n      passthrough() {\n        return new _ZodObject({\n          ...this._def,\n          unknownKeys: \"passthrough\"\n        });\n      }\n      // const AugmentFactory =\n      //   <Def extends ZodObjectDef>(def: Def) =>\n      //   <Augmentation extends ZodRawShape>(\n      //     augmentation: Augmentation\n      //   ): ZodObject<\n      //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n      //     Def[\"unknownKeys\"],\n      //     Def[\"catchall\"]\n      //   > => {\n      //     return new ZodObject({\n      //       ...def,\n      //       shape: () => ({\n      //         ...def.shape(),\n      //         ...augmentation,\n      //       }),\n      //     }) as any;\n      //   };\n      extend(augmentation) {\n        return new _ZodObject({\n          ...this._def,\n          shape: () => ({\n            ...this._def.shape(),\n            ...augmentation\n          })\n        });\n      }\n      /**\n       * Prior to zod@1.0.12 there was a bug in the\n       * inferred type of merged objects. Please\n       * upgrade if you are experiencing issues.\n       */\n      merge(merging) {\n        const merged = new _ZodObject({\n          unknownKeys: merging._def.unknownKeys,\n          catchall: merging._def.catchall,\n          shape: () => ({\n            ...this._def.shape(),\n            ...merging._def.shape()\n          }),\n          typeName: ZodFirstPartyTypeKind.ZodObject\n        });\n        return merged;\n      }\n      // merge<\n      //   Incoming extends AnyZodObject,\n      //   Augmentation extends Incoming[\"shape\"],\n      //   NewOutput extends {\n      //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n      //       ? Augmentation[k][\"_output\"]\n      //       : k extends keyof Output\n      //       ? Output[k]\n      //       : never;\n      //   },\n      //   NewInput extends {\n      //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n      //       ? Augmentation[k][\"_input\"]\n      //       : k extends keyof Input\n      //       ? Input[k]\n      //       : never;\n      //   }\n      // >(\n      //   merging: Incoming\n      // ): ZodObject<\n      //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n      //   Incoming[\"_def\"][\"unknownKeys\"],\n      //   Incoming[\"_def\"][\"catchall\"],\n      //   NewOutput,\n      //   NewInput\n      // > {\n      //   const merged: any = new ZodObject({\n      //     unknownKeys: merging._def.unknownKeys,\n      //     catchall: merging._def.catchall,\n      //     shape: () =>\n      //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n      //     typeName: ZodFirstPartyTypeKind.ZodObject,\n      //   }) as any;\n      //   return merged;\n      // }\n      setKey(key, schema) {\n        return this.augment({ [key]: schema });\n      }\n      // merge<Incoming extends AnyZodObject>(\n      //   merging: Incoming\n      // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n      // ZodObject<\n      //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n      //   Incoming[\"_def\"][\"unknownKeys\"],\n      //   Incoming[\"_def\"][\"catchall\"]\n      // > {\n      //   // const mergedShape = objectUtil.mergeShapes(\n      //   //   this._def.shape(),\n      //   //   merging._def.shape()\n      //   // );\n      //   const merged: any = new ZodObject({\n      //     unknownKeys: merging._def.unknownKeys,\n      //     catchall: merging._def.catchall,\n      //     shape: () =>\n      //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n      //     typeName: ZodFirstPartyTypeKind.ZodObject,\n      //   }) as any;\n      //   return merged;\n      // }\n      catchall(index) {\n        return new _ZodObject({\n          ...this._def,\n          catchall: index\n        });\n      }\n      pick(mask) {\n        const shape = {};\n        util_1.util.objectKeys(mask).forEach((key) => {\n          if (mask[key] && this.shape[key]) {\n            shape[key] = this.shape[key];\n          }\n        });\n        return new _ZodObject({\n          ...this._def,\n          shape: () => shape\n        });\n      }\n      omit(mask) {\n        const shape = {};\n        util_1.util.objectKeys(this.shape).forEach((key) => {\n          if (!mask[key]) {\n            shape[key] = this.shape[key];\n          }\n        });\n        return new _ZodObject({\n          ...this._def,\n          shape: () => shape\n        });\n      }\n      /**\n       * @deprecated\n       */\n      deepPartial() {\n        return deepPartialify(this);\n      }\n      partial(mask) {\n        const newShape = {};\n        util_1.util.objectKeys(this.shape).forEach((key) => {\n          const fieldSchema = this.shape[key];\n          if (mask && !mask[key]) {\n            newShape[key] = fieldSchema;\n          } else {\n            newShape[key] = fieldSchema.optional();\n          }\n        });\n        return new _ZodObject({\n          ...this._def,\n          shape: () => newShape\n        });\n      }\n      required(mask) {\n        const newShape = {};\n        util_1.util.objectKeys(this.shape).forEach((key) => {\n          if (mask && !mask[key]) {\n            newShape[key] = this.shape[key];\n          } else {\n            const fieldSchema = this.shape[key];\n            let newField = fieldSchema;\n            while (newField instanceof ZodOptional) {\n              newField = newField._def.innerType;\n            }\n            newShape[key] = newField;\n          }\n        });\n        return new _ZodObject({\n          ...this._def,\n          shape: () => newShape\n        });\n      }\n      keyof() {\n        return createZodEnum(util_1.util.objectKeys(this.shape));\n      }\n    };\n    exports.ZodObject = ZodObject;\n    ZodObject.create = (shape, params) => {\n      return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params)\n      });\n    };\n    ZodObject.strictCreate = (shape, params) => {\n      return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params)\n      });\n    };\n    ZodObject.lazycreate = (shape, params) => {\n      return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodUnion = class extends ZodType {\n      _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n          for (const result of results) {\n            if (result.result.status === \"valid\") {\n              return result.result;\n            }\n          }\n          for (const result of results) {\n            if (result.result.status === \"dirty\") {\n              ctx.common.issues.push(...result.ctx.common.issues);\n              return result.result;\n            }\n          }\n          const unionErrors = results.map((result) => new ZodError_1.ZodError(result.ctx.common.issues));\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_union,\n            unionErrors\n          });\n          return parseUtil_1.INVALID;\n        }\n        if (ctx.common.async) {\n          return Promise.all(options.map(async (option) => {\n            const childCtx = {\n              ...ctx,\n              common: {\n                ...ctx.common,\n                issues: []\n              },\n              parent: null\n            };\n            return {\n              result: await option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: childCtx\n              }),\n              ctx: childCtx\n            };\n          })).then(handleResults);\n        } else {\n          let dirty = void 0;\n          const issues = [];\n          for (const option of options) {\n            const childCtx = {\n              ...ctx,\n              common: {\n                ...ctx.common,\n                issues: []\n              },\n              parent: null\n            };\n            const result = option._parseSync({\n              data: ctx.data,\n              path: ctx.path,\n              parent: childCtx\n            });\n            if (result.status === \"valid\") {\n              return result;\n            } else if (result.status === \"dirty\" && !dirty) {\n              dirty = { result, ctx: childCtx };\n            }\n            if (childCtx.common.issues.length) {\n              issues.push(childCtx.common.issues);\n            }\n          }\n          if (dirty) {\n            ctx.common.issues.push(...dirty.ctx.common.issues);\n            return dirty.result;\n          }\n          const unionErrors = issues.map((issues2) => new ZodError_1.ZodError(issues2));\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_union,\n            unionErrors\n          });\n          return parseUtil_1.INVALID;\n        }\n      }\n      get options() {\n        return this._def.options;\n      }\n    };\n    exports.ZodUnion = ZodUnion;\n    ZodUnion.create = (types, params) => {\n      return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params)\n      });\n    };\n    var getDiscriminator = (type) => {\n      if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n      } else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n      } else if (type instanceof ZodLiteral) {\n        return [type.value];\n      } else if (type instanceof ZodEnum) {\n        return type.options;\n      } else if (type instanceof ZodNativeEnum) {\n        return Object.keys(type.enum);\n      } else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n      } else if (type instanceof ZodUndefined) {\n        return [void 0];\n      } else if (type instanceof ZodNull) {\n        return [null];\n      } else {\n        return null;\n      }\n    };\n    var ZodDiscriminatedUnion = class _ZodDiscriminatedUnion extends ZodType {\n      _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.object) {\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.object,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_union_discriminator,\n            options: Array.from(this.optionsMap.keys()),\n            path: [discriminator]\n          });\n          return parseUtil_1.INVALID;\n        }\n        if (ctx.common.async) {\n          return option._parseAsync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: ctx\n          });\n        } else {\n          return option._parseSync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: ctx\n          });\n        }\n      }\n      get discriminator() {\n        return this._def.discriminator;\n      }\n      get options() {\n        return this._def.options;\n      }\n      get optionsMap() {\n        return this._def.optionsMap;\n      }\n      /**\n       * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n       * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n       * have a different value for each object in the union.\n       * @param discriminator the name of the discriminator property\n       * @param types an array of object schemas\n       * @param params\n       */\n      static create(discriminator, options, params) {\n        const optionsMap = /* @__PURE__ */ new Map();\n        for (const type of options) {\n          const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n          if (!discriminatorValues) {\n            throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n          }\n          for (const value of discriminatorValues) {\n            if (optionsMap.has(value)) {\n              throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n            }\n            optionsMap.set(value, type);\n          }\n        }\n        return new _ZodDiscriminatedUnion({\n          typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n          discriminator,\n          options,\n          optionsMap,\n          ...processCreateParams(params)\n        });\n      }\n    };\n    exports.ZodDiscriminatedUnion = ZodDiscriminatedUnion;\n    function mergeValues(a, b) {\n      const aType = (0, util_1.getParsedType)(a);\n      const bType = (0, util_1.getParsedType)(b);\n      if (a === b) {\n        return { valid: true, data: a };\n      } else if (aType === util_1.ZodParsedType.object && bType === util_1.ZodParsedType.object) {\n        const bKeys = util_1.util.objectKeys(b);\n        const sharedKeys = util_1.util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n          const sharedValue = mergeValues(a[key], b[key]);\n          if (!sharedValue.valid) {\n            return { valid: false };\n          }\n          newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n      } else if (aType === util_1.ZodParsedType.array && bType === util_1.ZodParsedType.array) {\n        if (a.length !== b.length) {\n          return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n          const itemA = a[index];\n          const itemB = b[index];\n          const sharedValue = mergeValues(itemA, itemB);\n          if (!sharedValue.valid) {\n            return { valid: false };\n          }\n          newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n      } else if (aType === util_1.ZodParsedType.date && bType === util_1.ZodParsedType.date && +a === +b) {\n        return { valid: true, data: a };\n      } else {\n        return { valid: false };\n      }\n    }\n    var ZodIntersection = class extends ZodType {\n      _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n          if ((0, parseUtil_1.isAborted)(parsedLeft) || (0, parseUtil_1.isAborted)(parsedRight)) {\n            return parseUtil_1.INVALID;\n          }\n          const merged = mergeValues(parsedLeft.value, parsedRight.value);\n          if (!merged.valid) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n              code: ZodError_1.ZodIssueCode.invalid_intersection_types\n            });\n            return parseUtil_1.INVALID;\n          }\n          if ((0, parseUtil_1.isDirty)(parsedLeft) || (0, parseUtil_1.isDirty)(parsedRight)) {\n            status.dirty();\n          }\n          return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n          return Promise.all([\n            this._def.left._parseAsync({\n              data: ctx.data,\n              path: ctx.path,\n              parent: ctx\n            }),\n            this._def.right._parseAsync({\n              data: ctx.data,\n              path: ctx.path,\n              parent: ctx\n            })\n          ]).then(([left, right]) => handleParsed(left, right));\n        } else {\n          return handleParsed(this._def.left._parseSync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: ctx\n          }), this._def.right._parseSync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: ctx\n          }));\n        }\n      }\n    };\n    exports.ZodIntersection = ZodIntersection;\n    ZodIntersection.create = (left, right, params) => {\n      return new ZodIntersection({\n        left,\n        right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodTuple = class _ZodTuple extends ZodType {\n      _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.array) {\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.array,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.too_small,\n            minimum: this._def.items.length,\n            inclusive: true,\n            exact: false,\n            type: \"array\"\n          });\n          return parseUtil_1.INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.too_big,\n            maximum: this._def.items.length,\n            inclusive: true,\n            exact: false,\n            type: \"array\"\n          });\n          status.dirty();\n        }\n        const items = [...ctx.data].map((item, itemIndex) => {\n          const schema = this._def.items[itemIndex] || this._def.rest;\n          if (!schema)\n            return null;\n          return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        }).filter((x) => !!x);\n        if (ctx.common.async) {\n          return Promise.all(items).then((results) => {\n            return parseUtil_1.ParseStatus.mergeArray(status, results);\n          });\n        } else {\n          return parseUtil_1.ParseStatus.mergeArray(status, items);\n        }\n      }\n      get items() {\n        return this._def.items;\n      }\n      rest(rest) {\n        return new _ZodTuple({\n          ...this._def,\n          rest\n        });\n      }\n    };\n    exports.ZodTuple = ZodTuple;\n    ZodTuple.create = (schemas, params) => {\n      if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n      }\n      return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodRecord = class _ZodRecord extends ZodType {\n      get keySchema() {\n        return this._def.keyType;\n      }\n      get valueSchema() {\n        return this._def.valueType;\n      }\n      _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.object) {\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.object,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n          pairs.push({\n            key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n            value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key))\n          });\n        }\n        if (ctx.common.async) {\n          return parseUtil_1.ParseStatus.mergeObjectAsync(status, pairs);\n        } else {\n          return parseUtil_1.ParseStatus.mergeObjectSync(status, pairs);\n        }\n      }\n      get element() {\n        return this._def.valueType;\n      }\n      static create(first, second, third) {\n        if (second instanceof ZodType) {\n          return new _ZodRecord({\n            keyType: first,\n            valueType: second,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(third)\n          });\n        }\n        return new _ZodRecord({\n          keyType: ZodString.create(),\n          valueType: first,\n          typeName: ZodFirstPartyTypeKind.ZodRecord,\n          ...processCreateParams(second)\n        });\n      }\n    };\n    exports.ZodRecord = ZodRecord;\n    var ZodMap = class extends ZodType {\n      get keySchema() {\n        return this._def.keyType;\n      }\n      get valueSchema() {\n        return this._def.valueType;\n      }\n      _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.map) {\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.map,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n          return {\n            key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n            value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"]))\n          };\n        });\n        if (ctx.common.async) {\n          const finalMap = /* @__PURE__ */ new Map();\n          return Promise.resolve().then(async () => {\n            for (const pair of pairs) {\n              const key = await pair.key;\n              const value = await pair.value;\n              if (key.status === \"aborted\" || value.status === \"aborted\") {\n                return parseUtil_1.INVALID;\n              }\n              if (key.status === \"dirty\" || value.status === \"dirty\") {\n                status.dirty();\n              }\n              finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n          });\n        } else {\n          const finalMap = /* @__PURE__ */ new Map();\n          for (const pair of pairs) {\n            const key = pair.key;\n            const value = pair.value;\n            if (key.status === \"aborted\" || value.status === \"aborted\") {\n              return parseUtil_1.INVALID;\n            }\n            if (key.status === \"dirty\" || value.status === \"dirty\") {\n              status.dirty();\n            }\n            finalMap.set(key.value, value.value);\n          }\n          return { status: status.value, value: finalMap };\n        }\n      }\n    };\n    exports.ZodMap = ZodMap;\n    ZodMap.create = (keyType, valueType, params) => {\n      return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodSet = class _ZodSet extends ZodType {\n      _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.set) {\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.set,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n          if (ctx.data.size < def.minSize.value) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n              code: ZodError_1.ZodIssueCode.too_small,\n              minimum: def.minSize.value,\n              type: \"set\",\n              inclusive: true,\n              exact: false,\n              message: def.minSize.message\n            });\n            status.dirty();\n          }\n        }\n        if (def.maxSize !== null) {\n          if (ctx.data.size > def.maxSize.value) {\n            (0, parseUtil_1.addIssueToContext)(ctx, {\n              code: ZodError_1.ZodIssueCode.too_big,\n              maximum: def.maxSize.value,\n              type: \"set\",\n              inclusive: true,\n              exact: false,\n              message: def.maxSize.message\n            });\n            status.dirty();\n          }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements2) {\n          const parsedSet = /* @__PURE__ */ new Set();\n          for (const element of elements2) {\n            if (element.status === \"aborted\")\n              return parseUtil_1.INVALID;\n            if (element.status === \"dirty\")\n              status.dirty();\n            parsedSet.add(element.value);\n          }\n          return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n          return Promise.all(elements).then((elements2) => finalizeSet(elements2));\n        } else {\n          return finalizeSet(elements);\n        }\n      }\n      min(minSize, message) {\n        return new _ZodSet({\n          ...this._def,\n          minSize: { value: minSize, message: errorUtil_1.errorUtil.toString(message) }\n        });\n      }\n      max(maxSize, message) {\n        return new _ZodSet({\n          ...this._def,\n          maxSize: { value: maxSize, message: errorUtil_1.errorUtil.toString(message) }\n        });\n      }\n      size(size, message) {\n        return this.min(size, message).max(size, message);\n      }\n      nonempty(message) {\n        return this.min(1, message);\n      }\n    };\n    exports.ZodSet = ZodSet;\n    ZodSet.create = (valueType, params) => {\n      return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodFunction = class _ZodFunction extends ZodType {\n      constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n      }\n      _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.function) {\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.function,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        function makeArgsIssue(args, error) {\n          return (0, parseUtil_1.makeIssue)({\n            data: args,\n            path: ctx.path,\n            errorMaps: [\n              ctx.common.contextualErrorMap,\n              ctx.schemaErrorMap,\n              (0, errors_1.getErrorMap)(),\n              errors_1.defaultErrorMap\n            ].filter((x) => !!x),\n            issueData: {\n              code: ZodError_1.ZodIssueCode.invalid_arguments,\n              argumentsError: error\n            }\n          });\n        }\n        function makeReturnsIssue(returns, error) {\n          return (0, parseUtil_1.makeIssue)({\n            data: returns,\n            path: ctx.path,\n            errorMaps: [\n              ctx.common.contextualErrorMap,\n              ctx.schemaErrorMap,\n              (0, errors_1.getErrorMap)(),\n              errors_1.defaultErrorMap\n            ].filter((x) => !!x),\n            issueData: {\n              code: ZodError_1.ZodIssueCode.invalid_return_type,\n              returnTypeError: error\n            }\n          });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n          const me = this;\n          return (0, parseUtil_1.OK)(async function(...args) {\n            const error = new ZodError_1.ZodError([]);\n            const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {\n              error.addIssue(makeArgsIssue(args, e));\n              throw error;\n            });\n            const result = await Reflect.apply(fn, this, parsedArgs);\n            const parsedReturns = await me._def.returns._def.type.parseAsync(result, params).catch((e) => {\n              error.addIssue(makeReturnsIssue(result, e));\n              throw error;\n            });\n            return parsedReturns;\n          });\n        } else {\n          const me = this;\n          return (0, parseUtil_1.OK)(function(...args) {\n            const parsedArgs = me._def.args.safeParse(args, params);\n            if (!parsedArgs.success) {\n              throw new ZodError_1.ZodError([makeArgsIssue(args, parsedArgs.error)]);\n            }\n            const result = Reflect.apply(fn, this, parsedArgs.data);\n            const parsedReturns = me._def.returns.safeParse(result, params);\n            if (!parsedReturns.success) {\n              throw new ZodError_1.ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n            }\n            return parsedReturns.data;\n          });\n        }\n      }\n      parameters() {\n        return this._def.args;\n      }\n      returnType() {\n        return this._def.returns;\n      }\n      args(...items) {\n        return new _ZodFunction({\n          ...this._def,\n          args: ZodTuple.create(items).rest(ZodUnknown.create())\n        });\n      }\n      returns(returnType) {\n        return new _ZodFunction({\n          ...this._def,\n          returns: returnType\n        });\n      }\n      implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n      }\n      strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n      }\n      static create(args, returns, params) {\n        return new _ZodFunction({\n          args: args ? args : ZodTuple.create([]).rest(ZodUnknown.create()),\n          returns: returns || ZodUnknown.create(),\n          typeName: ZodFirstPartyTypeKind.ZodFunction,\n          ...processCreateParams(params)\n        });\n      }\n    };\n    exports.ZodFunction = ZodFunction;\n    var ZodLazy = class extends ZodType {\n      get schema() {\n        return this._def.getter();\n      }\n      _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n      }\n    };\n    exports.ZodLazy = ZodLazy;\n    ZodLazy.create = (getter, params) => {\n      return new ZodLazy({\n        getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodLiteral = class extends ZodType {\n      _parse(input) {\n        if (input.data !== this._def.value) {\n          const ctx = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            received: ctx.data,\n            code: ZodError_1.ZodIssueCode.invalid_literal,\n            expected: this._def.value\n          });\n          return parseUtil_1.INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n      }\n      get value() {\n        return this._def.value;\n      }\n    };\n    exports.ZodLiteral = ZodLiteral;\n    ZodLiteral.create = (value, params) => {\n      return new ZodLiteral({\n        value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params)\n      });\n    };\n    function createZodEnum(values, params) {\n      return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params)\n      });\n    }\n    var ZodEnum = class _ZodEnum extends ZodType {\n      _parse(input) {\n        if (typeof input.data !== \"string\") {\n          const ctx = this._getOrReturnCtx(input);\n          const expectedValues = this._def.values;\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            expected: util_1.util.joinValues(expectedValues),\n            received: ctx.parsedType,\n            code: ZodError_1.ZodIssueCode.invalid_type\n          });\n          return parseUtil_1.INVALID;\n        }\n        if (this._def.values.indexOf(input.data) === -1) {\n          const ctx = this._getOrReturnCtx(input);\n          const expectedValues = this._def.values;\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            received: ctx.data,\n            code: ZodError_1.ZodIssueCode.invalid_enum_value,\n            options: expectedValues\n          });\n          return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n      }\n      get options() {\n        return this._def.values;\n      }\n      get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n          enumValues[val] = val;\n        }\n        return enumValues;\n      }\n      get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n          enumValues[val] = val;\n        }\n        return enumValues;\n      }\n      get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n          enumValues[val] = val;\n        }\n        return enumValues;\n      }\n      extract(values) {\n        return _ZodEnum.create(values);\n      }\n      exclude(values) {\n        return _ZodEnum.create(this.options.filter((opt) => !values.includes(opt)));\n      }\n    };\n    exports.ZodEnum = ZodEnum;\n    ZodEnum.create = createZodEnum;\n    var ZodNativeEnum = class extends ZodType {\n      _parse(input) {\n        const nativeEnumValues = util_1.util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.string && ctx.parsedType !== util_1.ZodParsedType.number) {\n          const expectedValues = util_1.util.objectValues(nativeEnumValues);\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            expected: util_1.util.joinValues(expectedValues),\n            received: ctx.parsedType,\n            code: ZodError_1.ZodIssueCode.invalid_type\n          });\n          return parseUtil_1.INVALID;\n        }\n        if (nativeEnumValues.indexOf(input.data) === -1) {\n          const expectedValues = util_1.util.objectValues(nativeEnumValues);\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            received: ctx.data,\n            code: ZodError_1.ZodIssueCode.invalid_enum_value,\n            options: expectedValues\n          });\n          return parseUtil_1.INVALID;\n        }\n        return (0, parseUtil_1.OK)(input.data);\n      }\n      get enum() {\n        return this._def.values;\n      }\n    };\n    exports.ZodNativeEnum = ZodNativeEnum;\n    ZodNativeEnum.create = (values, params) => {\n      return new ZodNativeEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodPromise = class extends ZodType {\n      unwrap() {\n        return this._def.type;\n      }\n      _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== util_1.ZodParsedType.promise && ctx.common.async === false) {\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.promise,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        const promisified = ctx.parsedType === util_1.ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n        return (0, parseUtil_1.OK)(promisified.then((data) => {\n          return this._def.type.parseAsync(data, {\n            path: ctx.path,\n            errorMap: ctx.common.contextualErrorMap\n          });\n        }));\n      }\n    };\n    exports.ZodPromise = ZodPromise;\n    ZodPromise.create = (schema, params) => {\n      return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodEffects = class extends ZodType {\n      innerType() {\n        return this._def.schema;\n      }\n      sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects ? this._def.schema.sourceType() : this._def.schema;\n      }\n      _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n          addIssue: (arg) => {\n            (0, parseUtil_1.addIssueToContext)(ctx, arg);\n            if (arg.fatal) {\n              status.abort();\n            } else {\n              status.dirty();\n            }\n          },\n          get path() {\n            return ctx.path;\n          }\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n          const processed = effect.transform(ctx.data, checkCtx);\n          if (ctx.common.issues.length) {\n            return {\n              status: \"dirty\",\n              value: ctx.data\n            };\n          }\n          if (ctx.common.async) {\n            return Promise.resolve(processed).then((processed2) => {\n              return this._def.schema._parseAsync({\n                data: processed2,\n                path: ctx.path,\n                parent: ctx\n              });\n            });\n          } else {\n            return this._def.schema._parseSync({\n              data: processed,\n              path: ctx.path,\n              parent: ctx\n            });\n          }\n        }\n        if (effect.type === \"refinement\") {\n          const executeRefinement = (acc) => {\n            const result = effect.refinement(acc, checkCtx);\n            if (ctx.common.async) {\n              return Promise.resolve(result);\n            }\n            if (result instanceof Promise) {\n              throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n            }\n            return acc;\n          };\n          if (ctx.common.async === false) {\n            const inner = this._def.schema._parseSync({\n              data: ctx.data,\n              path: ctx.path,\n              parent: ctx\n            });\n            if (inner.status === \"aborted\")\n              return parseUtil_1.INVALID;\n            if (inner.status === \"dirty\")\n              status.dirty();\n            executeRefinement(inner.value);\n            return { status: status.value, value: inner.value };\n          } else {\n            return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {\n              if (inner.status === \"aborted\")\n                return parseUtil_1.INVALID;\n              if (inner.status === \"dirty\")\n                status.dirty();\n              return executeRefinement(inner.value).then(() => {\n                return { status: status.value, value: inner.value };\n              });\n            });\n          }\n        }\n        if (effect.type === \"transform\") {\n          if (ctx.common.async === false) {\n            const base = this._def.schema._parseSync({\n              data: ctx.data,\n              path: ctx.path,\n              parent: ctx\n            });\n            if (!(0, parseUtil_1.isValid)(base))\n              return base;\n            const result = effect.transform(base.value, checkCtx);\n            if (result instanceof Promise) {\n              throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n            }\n            return { status: status.value, value: result };\n          } else {\n            return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n              if (!(0, parseUtil_1.isValid)(base))\n                return base;\n              return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));\n            });\n          }\n        }\n        util_1.util.assertNever(effect);\n      }\n    };\n    exports.ZodEffects = ZodEffects;\n    exports.ZodTransformer = ZodEffects;\n    ZodEffects.create = (schema, effect, params) => {\n      return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params)\n      });\n    };\n    ZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n      return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodOptional = class extends ZodType {\n      _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === util_1.ZodParsedType.undefined) {\n          return (0, parseUtil_1.OK)(void 0);\n        }\n        return this._def.innerType._parse(input);\n      }\n      unwrap() {\n        return this._def.innerType;\n      }\n    };\n    exports.ZodOptional = ZodOptional;\n    ZodOptional.create = (type, params) => {\n      return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodNullable = class extends ZodType {\n      _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === util_1.ZodParsedType.null) {\n          return (0, parseUtil_1.OK)(null);\n        }\n        return this._def.innerType._parse(input);\n      }\n      unwrap() {\n        return this._def.innerType;\n      }\n    };\n    exports.ZodNullable = ZodNullable;\n    ZodNullable.create = (type, params) => {\n      return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodDefault = class extends ZodType {\n      _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === util_1.ZodParsedType.undefined) {\n          data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n          data,\n          path: ctx.path,\n          parent: ctx\n        });\n      }\n      removeDefault() {\n        return this._def.innerType;\n      }\n    };\n    exports.ZodDefault = ZodDefault;\n    ZodDefault.create = (type, params) => {\n      return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodCatch = class extends ZodType {\n      _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const newCtx = {\n          ...ctx,\n          common: {\n            ...ctx.common,\n            issues: []\n          }\n        };\n        const result = this._def.innerType._parse({\n          data: newCtx.data,\n          path: newCtx.path,\n          parent: {\n            ...newCtx\n          }\n        });\n        if ((0, parseUtil_1.isAsync)(result)) {\n          return result.then((result2) => {\n            return {\n              status: \"valid\",\n              value: result2.status === \"valid\" ? result2.value : this._def.catchValue({\n                get error() {\n                  return new ZodError_1.ZodError(newCtx.common.issues);\n                },\n                input: newCtx.data\n              })\n            };\n          });\n        } else {\n          return {\n            status: \"valid\",\n            value: result.status === \"valid\" ? result.value : this._def.catchValue({\n              get error() {\n                return new ZodError_1.ZodError(newCtx.common.issues);\n              },\n              input: newCtx.data\n            })\n          };\n        }\n      }\n      removeCatch() {\n        return this._def.innerType;\n      }\n    };\n    exports.ZodCatch = ZodCatch;\n    ZodCatch.create = (type, params) => {\n      return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params)\n      });\n    };\n    var ZodNaN = class extends ZodType {\n      _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== util_1.ZodParsedType.nan) {\n          const ctx = this._getOrReturnCtx(input);\n          (0, parseUtil_1.addIssueToContext)(ctx, {\n            code: ZodError_1.ZodIssueCode.invalid_type,\n            expected: util_1.ZodParsedType.nan,\n            received: ctx.parsedType\n          });\n          return parseUtil_1.INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n      }\n    };\n    exports.ZodNaN = ZodNaN;\n    ZodNaN.create = (params) => {\n      return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params)\n      });\n    };\n    exports.BRAND = Symbol(\"zod_brand\");\n    var ZodBranded = class extends ZodType {\n      _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n          data,\n          path: ctx.path,\n          parent: ctx\n        });\n      }\n      unwrap() {\n        return this._def.type;\n      }\n    };\n    exports.ZodBranded = ZodBranded;\n    var ZodPipeline = class _ZodPipeline extends ZodType {\n      _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n          const handleAsync = async () => {\n            const inResult = await this._def.in._parseAsync({\n              data: ctx.data,\n              path: ctx.path,\n              parent: ctx\n            });\n            if (inResult.status === \"aborted\")\n              return parseUtil_1.INVALID;\n            if (inResult.status === \"dirty\") {\n              status.dirty();\n              return (0, parseUtil_1.DIRTY)(inResult.value);\n            } else {\n              return this._def.out._parseAsync({\n                data: inResult.value,\n                path: ctx.path,\n                parent: ctx\n              });\n            }\n          };\n          return handleAsync();\n        } else {\n          const inResult = this._def.in._parseSync({\n            data: ctx.data,\n            path: ctx.path,\n            parent: ctx\n          });\n          if (inResult.status === \"aborted\")\n            return parseUtil_1.INVALID;\n          if (inResult.status === \"dirty\") {\n            status.dirty();\n            return {\n              status: \"dirty\",\n              value: inResult.value\n            };\n          } else {\n            return this._def.out._parseSync({\n              data: inResult.value,\n              path: ctx.path,\n              parent: ctx\n            });\n          }\n        }\n      }\n      static create(a, b) {\n        return new _ZodPipeline({\n          in: a,\n          out: b,\n          typeName: ZodFirstPartyTypeKind.ZodPipeline\n        });\n      }\n    };\n    exports.ZodPipeline = ZodPipeline;\n    var ZodReadonly = class extends ZodType {\n      _parse(input) {\n        const result = this._def.innerType._parse(input);\n        if ((0, parseUtil_1.isValid)(result)) {\n          result.value = Object.freeze(result.value);\n        }\n        return result;\n      }\n    };\n    exports.ZodReadonly = ZodReadonly;\n    ZodReadonly.create = (type, params) => {\n      return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params)\n      });\n    };\n    var custom = (check, params = {}, fatal) => {\n      if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n          var _a, _b;\n          if (!check(data)) {\n            const p = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n            const _fatal = (_b = (_a = p.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n            const p2 = typeof p === \"string\" ? { message: p } : p;\n            ctx.addIssue({ code: \"custom\", ...p2, fatal: _fatal });\n          }\n        });\n      return ZodAny.create();\n    };\n    exports.custom = custom;\n    exports.late = {\n      object: ZodObject.lazycreate\n    };\n    var ZodFirstPartyTypeKind;\n    (function(ZodFirstPartyTypeKind2) {\n      ZodFirstPartyTypeKind2[\"ZodString\"] = \"ZodString\";\n      ZodFirstPartyTypeKind2[\"ZodNumber\"] = \"ZodNumber\";\n      ZodFirstPartyTypeKind2[\"ZodNaN\"] = \"ZodNaN\";\n      ZodFirstPartyTypeKind2[\"ZodBigInt\"] = \"ZodBigInt\";\n      ZodFirstPartyTypeKind2[\"ZodBoolean\"] = \"ZodBoolean\";\n      ZodFirstPartyTypeKind2[\"ZodDate\"] = \"ZodDate\";\n      ZodFirstPartyTypeKind2[\"ZodSymbol\"] = \"ZodSymbol\";\n      ZodFirstPartyTypeKind2[\"ZodUndefined\"] = \"ZodUndefined\";\n      ZodFirstPartyTypeKind2[\"ZodNull\"] = \"ZodNull\";\n      ZodFirstPartyTypeKind2[\"ZodAny\"] = \"ZodAny\";\n      ZodFirstPartyTypeKind2[\"ZodUnknown\"] = \"ZodUnknown\";\n      ZodFirstPartyTypeKind2[\"ZodNever\"] = \"ZodNever\";\n      ZodFirstPartyTypeKind2[\"ZodVoid\"] = \"ZodVoid\";\n      ZodFirstPartyTypeKind2[\"ZodArray\"] = \"ZodArray\";\n      ZodFirstPartyTypeKind2[\"ZodObject\"] = \"ZodObject\";\n      ZodFirstPartyTypeKind2[\"ZodUnion\"] = \"ZodUnion\";\n      ZodFirstPartyTypeKind2[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n      ZodFirstPartyTypeKind2[\"ZodIntersection\"] = \"ZodIntersection\";\n      ZodFirstPartyTypeKind2[\"ZodTuple\"] = \"ZodTuple\";\n      ZodFirstPartyTypeKind2[\"ZodRecord\"] = \"ZodRecord\";\n      ZodFirstPartyTypeKind2[\"ZodMap\"] = \"ZodMap\";\n      ZodFirstPartyTypeKind2[\"ZodSet\"] = \"ZodSet\";\n      ZodFirstPartyTypeKind2[\"ZodFunction\"] = \"ZodFunction\";\n      ZodFirstPartyTypeKind2[\"ZodLazy\"] = \"ZodLazy\";\n      ZodFirstPartyTypeKind2[\"ZodLiteral\"] = \"ZodLiteral\";\n      ZodFirstPartyTypeKind2[\"ZodEnum\"] = \"ZodEnum\";\n      ZodFirstPartyTypeKind2[\"ZodEffects\"] = \"ZodEffects\";\n      ZodFirstPartyTypeKind2[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n      ZodFirstPartyTypeKind2[\"ZodOptional\"] = \"ZodOptional\";\n      ZodFirstPartyTypeKind2[\"ZodNullable\"] = \"ZodNullable\";\n      ZodFirstPartyTypeKind2[\"ZodDefault\"] = \"ZodDefault\";\n      ZodFirstPartyTypeKind2[\"ZodCatch\"] = \"ZodCatch\";\n      ZodFirstPartyTypeKind2[\"ZodPromise\"] = \"ZodPromise\";\n      ZodFirstPartyTypeKind2[\"ZodBranded\"] = \"ZodBranded\";\n      ZodFirstPartyTypeKind2[\"ZodPipeline\"] = \"ZodPipeline\";\n      ZodFirstPartyTypeKind2[\"ZodReadonly\"] = \"ZodReadonly\";\n    })(ZodFirstPartyTypeKind = exports.ZodFirstPartyTypeKind || (exports.ZodFirstPartyTypeKind = {}));\n    var instanceOfType = (cls, params = {\n      message: `Input not instance of ${cls.name}`\n    }) => (0, exports.custom)((data) => data instanceof cls, params);\n    exports.instanceof = instanceOfType;\n    var stringType = ZodString.create;\n    exports.string = stringType;\n    var numberType = ZodNumber.create;\n    exports.number = numberType;\n    var nanType = ZodNaN.create;\n    exports.nan = nanType;\n    var bigIntType = ZodBigInt.create;\n    exports.bigint = bigIntType;\n    var booleanType = ZodBoolean.create;\n    exports.boolean = booleanType;\n    var dateType = ZodDate.create;\n    exports.date = dateType;\n    var symbolType = ZodSymbol.create;\n    exports.symbol = symbolType;\n    var undefinedType = ZodUndefined.create;\n    exports.undefined = undefinedType;\n    var nullType = ZodNull.create;\n    exports.null = nullType;\n    var anyType = ZodAny.create;\n    exports.any = anyType;\n    var unknownType = ZodUnknown.create;\n    exports.unknown = unknownType;\n    var neverType = ZodNever.create;\n    exports.never = neverType;\n    var voidType = ZodVoid.create;\n    exports.void = voidType;\n    var arrayType = ZodArray.create;\n    exports.array = arrayType;\n    var objectType = ZodObject.create;\n    exports.object = objectType;\n    var strictObjectType = ZodObject.strictCreate;\n    exports.strictObject = strictObjectType;\n    var unionType = ZodUnion.create;\n    exports.union = unionType;\n    var discriminatedUnionType = ZodDiscriminatedUnion.create;\n    exports.discriminatedUnion = discriminatedUnionType;\n    var intersectionType = ZodIntersection.create;\n    exports.intersection = intersectionType;\n    var tupleType = ZodTuple.create;\n    exports.tuple = tupleType;\n    var recordType = ZodRecord.create;\n    exports.record = recordType;\n    var mapType = ZodMap.create;\n    exports.map = mapType;\n    var setType = ZodSet.create;\n    exports.set = setType;\n    var functionType = ZodFunction.create;\n    exports.function = functionType;\n    var lazyType = ZodLazy.create;\n    exports.lazy = lazyType;\n    var literalType = ZodLiteral.create;\n    exports.literal = literalType;\n    var enumType = ZodEnum.create;\n    exports.enum = enumType;\n    var nativeEnumType = ZodNativeEnum.create;\n    exports.nativeEnum = nativeEnumType;\n    var promiseType = ZodPromise.create;\n    exports.promise = promiseType;\n    var effectsType = ZodEffects.create;\n    exports.effect = effectsType;\n    exports.transformer = effectsType;\n    var optionalType = ZodOptional.create;\n    exports.optional = optionalType;\n    var nullableType = ZodNullable.create;\n    exports.nullable = nullableType;\n    var preprocessType = ZodEffects.createWithPreprocess;\n    exports.preprocess = preprocessType;\n    var pipelineType = ZodPipeline.create;\n    exports.pipeline = pipelineType;\n    var ostring = () => stringType().optional();\n    exports.ostring = ostring;\n    var onumber = () => numberType().optional();\n    exports.onumber = onumber;\n    var oboolean = () => booleanType().optional();\n    exports.oboolean = oboolean;\n    exports.coerce = {\n      string: (arg) => ZodString.create({ ...arg, coerce: true }),\n      number: (arg) => ZodNumber.create({ ...arg, coerce: true }),\n      boolean: (arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true\n      }),\n      bigint: (arg) => ZodBigInt.create({ ...arg, coerce: true }),\n      date: (arg) => ZodDate.create({ ...arg, coerce: true })\n    };\n    exports.NEVER = parseUtil_1.INVALID;\n  }\n});\n\n// ../../node_modules/zod/lib/external.js\nvar require_external = (0,_chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__.__commonJS)({\n  \"../../node_modules/zod/lib/external.js\"(exports) {\n    \"use strict\";\n    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {\n      if (k2 === void 0)\n        k2 = k;\n      Object.defineProperty(o, k2, { enumerable: true, get: function() {\n        return m[k];\n      } });\n    } : function(o, m, k, k2) {\n      if (k2 === void 0)\n        k2 = k;\n      o[k2] = m[k];\n    });\n    var __exportStar = exports && exports.__exportStar || function(m, exports2) {\n      for (var p in m)\n        if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports2, p))\n          __createBinding(exports2, m, p);\n    };\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    __exportStar(require_errors(), exports);\n    __exportStar(require_parseUtil(), exports);\n    __exportStar(require_typeAliases(), exports);\n    __exportStar(require_util(), exports);\n    __exportStar(require_types(), exports);\n    __exportStar(require_ZodError(), exports);\n  }\n});\n\n// ../../node_modules/zod/lib/index.js\nvar require_lib = (0,_chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__.__commonJS)({\n  \"../../node_modules/zod/lib/index.js\"(exports) {\n    \"use strict\";\n    var __createBinding = exports && exports.__createBinding || (Object.create ? function(o, m, k, k2) {\n      if (k2 === void 0)\n        k2 = k;\n      Object.defineProperty(o, k2, { enumerable: true, get: function() {\n        return m[k];\n      } });\n    } : function(o, m, k, k2) {\n      if (k2 === void 0)\n        k2 = k;\n      o[k2] = m[k];\n    });\n    var __setModuleDefault = exports && exports.__setModuleDefault || (Object.create ? function(o, v) {\n      Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n    } : function(o, v) {\n      o[\"default\"] = v;\n    });\n    var __importStar = exports && exports.__importStar || function(mod) {\n      if (mod && mod.__esModule)\n        return mod;\n      var result = {};\n      if (mod != null) {\n        for (var k in mod)\n          if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k))\n            __createBinding(result, mod, k);\n      }\n      __setModuleDefault(result, mod);\n      return result;\n    };\n    var __exportStar = exports && exports.__exportStar || function(m, exports2) {\n      for (var p in m)\n        if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports2, p))\n          __createBinding(exports2, m, p);\n    };\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.z = void 0;\n    var z = __importStar(require_external());\n    exports.z = z;\n    __exportStar(require_external(), exports);\n    exports.default = z;\n  }\n});\n\n// ../types/dist/common.types.js\nvar require_common_types = (0,_chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__.__commonJS)({\n  \"../types/dist/common.types.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.ActivePeersSchema = exports.VolatileDataMessageSchema = exports.PermissionSchema = exports.produceSourcesSchema = exports.ERoomSize = void 0;\n    var zod_1 = require_lib();\n    var ERoomSize;\n    (function(ERoomSize2) {\n      ERoomSize2[\"NORMAL\"] = \"NORMAL\";\n      ERoomSize2[\"LARGE\"] = \"LARGE\";\n    })(ERoomSize || (exports.ERoomSize = ERoomSize = {}));\n    var RoomControlsSchema = zod_1.z.object({\n      roomLocked: zod_1.z.boolean(),\n      allowProduce: zod_1.z.boolean(),\n      allowProduceSources: zod_1.z.object({\n        cam: zod_1.z.boolean().default(true),\n        mic: zod_1.z.boolean().default(true),\n        screen: zod_1.z.boolean().default(true)\n      }),\n      allowConsume: zod_1.z.boolean(),\n      allowSendData: zod_1.z.boolean()\n    });\n    exports.produceSourcesSchema = zod_1.z.object({\n      cam: zod_1.z.boolean(),\n      mic: zod_1.z.boolean(),\n      screen: zod_1.z.boolean()\n    });\n    exports.PermissionSchema = zod_1.z.object({\n      admin: zod_1.z.boolean(),\n      canConsume: zod_1.z.boolean(),\n      canProduce: zod_1.z.boolean(),\n      canProduceSources: exports.produceSourcesSchema,\n      canSendData: zod_1.z.boolean(),\n      canRecvData: zod_1.z.boolean(),\n      canUpdateMetadata: zod_1.z.boolean()\n    });\n    exports.VolatileDataMessageSchema = zod_1.z.object({\n      from: zod_1.z.string(),\n      payload: zod_1.z.unknown(),\n      label: zod_1.z.string().optional(),\n      to: zod_1.z.union([zod_1.z.literal(\"*\"), zod_1.z.array(zod_1.z.string())]).optional()\n    });\n    exports.ActivePeersSchema = zod_1.z.object({\n      peerIds: zod_1.z.array(zod_1.z.string()),\n      dominantSpeaker: zod_1.z.string()\n    });\n  }\n});\n\n// src/hooks/useActivePeers.ts\nvar import_common = (0,_chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_2__.__toESM)(require_common_types(), 1);\n\nvar useActivePeers = () => {\n  const { room } = (0,_chunk_BA3RUF65_js__WEBPACK_IMPORTED_MODULE_0__.useRoom)();\n  const [activePeerIds, setActivePeerIds] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n  const [dominantSpeakerId, setDominantSpeakerId] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(\"\");\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_1__.useHuddle01_default)();\n  const localPeer = huddleClient.localPeer;\n  const handleNewVolatileMessage = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((data) => {\n    if (data.label !== \"lastN\")\n      return;\n    const result = import_common.ActivePeersSchema.safeParse(data.payload);\n    if (result.success) {\n      setActivePeerIds(result.data.peerIds);\n      setDominantSpeakerId(result.data.dominantSpeaker);\n    }\n  }, []);\n  const activateLastN = async () => {\n    await localPeer.activateSpeakerNotification().catch((error) => {\n      console.error(error);\n    });\n  };\n  const handleRoomJoined = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    activateLastN();\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (room.state === \"connected\") {\n      activateLastN();\n    } else {\n      room.once(\"room-joined\", handleRoomJoined);\n    }\n    localPeer.on(\"receive-volatile-data\", handleNewVolatileMessage);\n    return () => {\n      room.off(\"room-joined\", handleRoomJoined);\n      localPeer.off(\"receive-volatile-data\", handleNewVolatileMessage);\n    };\n  }, []);\n  return {\n    activePeerIds,\n    dominantSpeakerId\n  };\n};\n\n\n//# sourceMappingURL=chunk-I25VV2KW.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstSTI1VlYyS1cuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFNkI7QUFHQTtBQUlBOztBQUU3QjtBQUNBLG1CQUFtQiw4REFBVTtBQUM3QjtBQUNBO0FBQ0EsbURBQW1ELGFBQWE7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxJQUFJO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJDQUEyQztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDZEQUE2RDtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixlQUFlO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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VUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFdBQVc7QUFDWCxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE1BQU07QUFDdEI7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QUFVO0FBQ3JDO0FBQ0E7QUFDQSxtREFBbUQsYUFBYTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtEQUFrRDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDOztBQUVEO0FBQ0Esb0JBQW9CLDJEQUFPO0FBQzhCO0FBQ3pEO0FBQ0EsVUFBVSxPQUFPLEVBQUUsMkRBQU87QUFDMUIsNENBQTRDLCtDQUFRO0FBQ3BELG9EQUFvRCwrQ0FBUTtBQUM1RCxVQUFVLGVBQWUsRUFBRSx1RUFBbUI7QUFDOUM7QUFDQSxtQ0FBbUMsa0RBQVc7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkJBQTJCLGtEQUFXO0FBQ3RDO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstSTI1VlYyS1cuanM/MjA2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VSb29tXG59IGZyb20gXCIuL2NodW5rLUJBM1JVRjY1LmpzXCI7XG5pbXBvcnQge1xuICB1c2VIdWRkbGUwMV9kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLUI2TTI1NE1WLmpzXCI7XG5pbXBvcnQge1xuICBfX2NvbW1vbkpTLFxuICBfX3RvRVNNXG59IGZyb20gXCIuL2NodW5rLUlMN0pPWUE2LmpzXCI7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy96b2QvbGliL2hlbHBlcnMvdXRpbC5qc1xudmFyIHJlcXVpcmVfdXRpbCA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy96b2QvbGliL2hlbHBlcnMvdXRpbC5qc1wiKGV4cG9ydHMpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgZXhwb3J0cy5nZXRQYXJzZWRUeXBlID0gZXhwb3J0cy5ab2RQYXJzZWRUeXBlID0gZXhwb3J0cy5vYmplY3RVdGlsID0gZXhwb3J0cy51dGlsID0gdm9pZCAwO1xuICAgIHZhciB1dGlsO1xuICAgIChmdW5jdGlvbih1dGlsMikge1xuICAgICAgdXRpbDIuYXNzZXJ0RXF1YWwgPSAodmFsKSA9PiB2YWw7XG4gICAgICBmdW5jdGlvbiBhc3NlcnRJcyhfYXJnKSB7XG4gICAgICB9XG4gICAgICB1dGlsMi5hc3NlcnRJcyA9IGFzc2VydElzO1xuICAgICAgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICB9XG4gICAgICB1dGlsMi5hc3NlcnROZXZlciA9IGFzc2VydE5ldmVyO1xuICAgICAgdXRpbDIuYXJyYXlUb0VudW0gPSAoaXRlbXMpID0+IHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgIG9ialtpdGVtXSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH07XG4gICAgICB1dGlsMi5nZXRWYWxpZEVudW1WYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkS2V5cyA9IHV0aWwyLm9iamVjdEtleXMob2JqKS5maWx0ZXIoKGspID0+IHR5cGVvZiBvYmpbb2JqW2tdXSAhPT0gXCJudW1iZXJcIik7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkID0ge307XG4gICAgICAgIGZvciAoY29uc3QgayBvZiB2YWxpZEtleXMpIHtcbiAgICAgICAgICBmaWx0ZXJlZFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXRpbDIub2JqZWN0VmFsdWVzKGZpbHRlcmVkKTtcbiAgICAgIH07XG4gICAgICB1dGlsMi5vYmplY3RWYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsMi5vYmplY3RLZXlzKG9iaikubWFwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqW2VdO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICB1dGlsMi5vYmplY3RLZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSBcImZ1bmN0aW9uXCIgPyAob2JqKSA9PiBPYmplY3Qua2V5cyhvYmopIDogKG9iamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICB9O1xuICAgICAgdXRpbDIuZmluZCA9IChhcnIsIGNoZWNrZXIpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFycikge1xuICAgICAgICAgIGlmIChjaGVja2VyKGl0ZW0pKVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH07XG4gICAgICB1dGlsMi5pc0ludGVnZXIgPSB0eXBlb2YgTnVtYmVyLmlzSW50ZWdlciA9PT0gXCJmdW5jdGlvblwiID8gKHZhbCkgPT4gTnVtYmVyLmlzSW50ZWdlcih2YWwpIDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiAmJiBpc0Zpbml0ZSh2YWwpICYmIE1hdGguZmxvb3IodmFsKSA9PT0gdmFsO1xuICAgICAgZnVuY3Rpb24gam9pblZhbHVlcyhhcnJheSwgc2VwYXJhdG9yID0gXCIgfCBcIikge1xuICAgICAgICByZXR1cm4gYXJyYXkubWFwKCh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgPyBgJyR7dmFsfSdgIDogdmFsKS5qb2luKHNlcGFyYXRvcik7XG4gICAgICB9XG4gICAgICB1dGlsMi5qb2luVmFsdWVzID0gam9pblZhbHVlcztcbiAgICAgIHV0aWwyLmpzb25TdHJpbmdpZnlSZXBsYWNlciA9IChfLCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9KSh1dGlsID0gZXhwb3J0cy51dGlsIHx8IChleHBvcnRzLnV0aWwgPSB7fSkpO1xuICAgIHZhciBvYmplY3RVdGlsO1xuICAgIChmdW5jdGlvbihvYmplY3RVdGlsMikge1xuICAgICAgb2JqZWN0VXRpbDIubWVyZ2VTaGFwZXMgPSAoZmlyc3QsIHNlY29uZCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmZpcnN0LFxuICAgICAgICAgIC4uLnNlY29uZFxuICAgICAgICAgIC8vIHNlY29uZCBvdmVyd3JpdGVzIGZpcnN0XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH0pKG9iamVjdFV0aWwgPSBleHBvcnRzLm9iamVjdFV0aWwgfHwgKGV4cG9ydHMub2JqZWN0VXRpbCA9IHt9KSk7XG4gICAgZXhwb3J0cy5ab2RQYXJzZWRUeXBlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgICBcInN0cmluZ1wiLFxuICAgICAgXCJuYW5cIixcbiAgICAgIFwibnVtYmVyXCIsXG4gICAgICBcImludGVnZXJcIixcbiAgICAgIFwiZmxvYXRcIixcbiAgICAgIFwiYm9vbGVhblwiLFxuICAgICAgXCJkYXRlXCIsXG4gICAgICBcImJpZ2ludFwiLFxuICAgICAgXCJzeW1ib2xcIixcbiAgICAgIFwiZnVuY3Rpb25cIixcbiAgICAgIFwidW5kZWZpbmVkXCIsXG4gICAgICBcIm51bGxcIixcbiAgICAgIFwiYXJyYXlcIixcbiAgICAgIFwib2JqZWN0XCIsXG4gICAgICBcInVua25vd25cIixcbiAgICAgIFwicHJvbWlzZVwiLFxuICAgICAgXCJ2b2lkXCIsXG4gICAgICBcIm5ldmVyXCIsXG4gICAgICBcIm1hcFwiLFxuICAgICAgXCJzZXRcIlxuICAgIF0pO1xuICAgIHZhciBnZXRQYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLnN0cmluZztcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgIHJldHVybiBpc05hTihkYXRhKSA/IGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5uYW4gOiBleHBvcnRzLlpvZFBhcnNlZFR5cGUubnVtYmVyO1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuYm9vbGVhbjtcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5mdW5jdGlvbjtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUuYmlnaW50O1xuICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5zeW1ib2w7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuWm9kUGFyc2VkVHlwZS5hcnJheTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUubnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRhdGEudGhlbiAmJiB0eXBlb2YgZGF0YS50aGVuID09PSBcImZ1bmN0aW9uXCIgJiYgZGF0YS5jYXRjaCAmJiB0eXBlb2YgZGF0YS5jYXRjaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLnByb21pc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgTWFwICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUubWFwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIFNldCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiBEYXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5ab2RQYXJzZWRUeXBlLmRhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUub2JqZWN0O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBleHBvcnRzLlpvZFBhcnNlZFR5cGUudW5rbm93bjtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuZ2V0UGFyc2VkVHlwZSA9IGdldFBhcnNlZFR5cGU7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvem9kL2xpYi9ab2RFcnJvci5qc1xudmFyIHJlcXVpcmVfWm9kRXJyb3IgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvem9kL2xpYi9ab2RFcnJvci5qc1wiKGV4cG9ydHMpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgZXhwb3J0cy5ab2RFcnJvciA9IGV4cG9ydHMucXVvdGVsZXNzSnNvbiA9IGV4cG9ydHMuWm9kSXNzdWVDb2RlID0gdm9pZCAwO1xuICAgIHZhciB1dGlsXzEgPSByZXF1aXJlX3V0aWwoKTtcbiAgICBleHBvcnRzLlpvZElzc3VlQ29kZSA9IHV0aWxfMS51dGlsLmFycmF5VG9FbnVtKFtcbiAgICAgIFwiaW52YWxpZF90eXBlXCIsXG4gICAgICBcImludmFsaWRfbGl0ZXJhbFwiLFxuICAgICAgXCJjdXN0b21cIixcbiAgICAgIFwiaW52YWxpZF91bmlvblwiLFxuICAgICAgXCJpbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3JcIixcbiAgICAgIFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIsXG4gICAgICBcInVucmVjb2duaXplZF9rZXlzXCIsXG4gICAgICBcImludmFsaWRfYXJndW1lbnRzXCIsXG4gICAgICBcImludmFsaWRfcmV0dXJuX3R5cGVcIixcbiAgICAgIFwiaW52YWxpZF9kYXRlXCIsXG4gICAgICBcImludmFsaWRfc3RyaW5nXCIsXG4gICAgICBcInRvb19zbWFsbFwiLFxuICAgICAgXCJ0b29fYmlnXCIsXG4gICAgICBcImludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXCIsXG4gICAgICBcIm5vdF9tdWx0aXBsZV9vZlwiLFxuICAgICAgXCJub3RfZmluaXRlXCJcbiAgICBdKTtcbiAgICB2YXIgcXVvdGVsZXNzSnNvbiA9IChvYmopID0+IHtcbiAgICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpO1xuICAgICAgcmV0dXJuIGpzb24ucmVwbGFjZSgvXCIoW15cIl0rKVwiOi9nLCBcIiQxOlwiKTtcbiAgICB9O1xuICAgIGV4cG9ydHMucXVvdGVsZXNzSnNvbiA9IHF1b3RlbGVzc0pzb247XG4gICAgdmFyIFpvZEVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gICAgICBjb25zdHJ1Y3Rvcihpc3N1ZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZSA9IChzdWIpID0+IHtcbiAgICAgICAgICB0aGlzLmlzc3VlcyA9IFsuLi50aGlzLmlzc3Vlcywgc3ViXTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZXMgPSAoc3VicyA9IFtdKSA9PiB7XG4gICAgICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIC4uLnN1YnNdO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhY3R1YWxQcm90byA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIGFjdHVhbFByb3RvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IGFjdHVhbFByb3RvO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZSA9IFwiWm9kRXJyb3JcIjtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBpc3N1ZXM7XG4gICAgICB9XG4gICAgICBnZXQgZXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXM7XG4gICAgICB9XG4gICAgICBmb3JtYXQoX21hcHBlcikge1xuICAgICAgICBjb25zdCBtYXBwZXIgPSBfbWFwcGVyIHx8IGZ1bmN0aW9uKGlzc3VlKSB7XG4gICAgICAgICAgcmV0dXJuIGlzc3VlLm1lc3NhZ2U7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0geyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICBjb25zdCBwcm9jZXNzRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yLmlzc3Vlcykge1xuICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF91bmlvblwiKSB7XG4gICAgICAgICAgICAgIGlzc3VlLnVuaW9uRXJyb3JzLm1hcChwcm9jZXNzRXJyb3IpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfcmV0dXJuX3R5cGVcIikge1xuICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUucmV0dXJuVHlwZUVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX2FyZ3VtZW50c1wiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5hcmd1bWVudHNFcnJvcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzc3VlLnBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGZpZWxkRXJyb3JzLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxldCBjdXJyID0gZmllbGRFcnJvcnM7XG4gICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgd2hpbGUgKGkgPCBpc3N1ZS5wYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gaXNzdWUucGF0aFtpXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGkgPT09IGlzc3VlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBpZiAoIXRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgICAgICAgICAgICBjdXJyW2VsXS5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyW2VsXTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NFcnJvcih0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkRXJyb3JzO1xuICAgICAgfVxuICAgICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XG4gICAgICB9XG4gICAgICBnZXQgbWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNzdWVzLCB1dGlsXzEudXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgICAgfVxuICAgICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gICAgICB9XG4gICAgICBmbGF0dGVuKG1hcHBlciA9IChpc3N1ZSkgPT4gaXNzdWUubWVzc2FnZSkge1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHt9O1xuICAgICAgICBjb25zdCBmb3JtRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgc3ViIG9mIHRoaXMuaXNzdWVzKSB7XG4gICAgICAgICAgaWYgKHN1Yi5wYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXSA9IGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXSB8fCBbXTtcbiAgICAgICAgICAgIGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXS5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZm9ybUVycm9ycywgZmllbGRFcnJvcnMgfTtcbiAgICAgIH1cbiAgICAgIGdldCBmb3JtRXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbGF0dGVuKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlpvZEVycm9yID0gWm9kRXJyb3I7XG4gICAgWm9kRXJyb3IuY3JlYXRlID0gKGlzc3VlcykgPT4ge1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoaXNzdWVzKTtcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC9saWIvbG9jYWxlcy9lbi5qc1xudmFyIHJlcXVpcmVfZW4gPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvem9kL2xpYi9sb2NhbGVzL2VuLmpzXCIoZXhwb3J0cykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICB2YXIgdXRpbF8xID0gcmVxdWlyZV91dGlsKCk7XG4gICAgdmFyIFpvZEVycm9yXzEgPSByZXF1aXJlX1pvZEVycm9yKCk7XG4gICAgdmFyIGVycm9yTWFwID0gKGlzc3VlLCBfY3R4KSA9PiB7XG4gICAgICBsZXQgbWVzc2FnZTtcbiAgICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZTpcbiAgICAgICAgICBpZiAoaXNzdWUucmVjZWl2ZWQgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbWVzc2FnZSA9IFwiUmVxdWlyZWRcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGBFeHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHtpc3N1ZS5yZWNlaXZlZH1gO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWw6XG4gICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGxpdGVyYWwgdmFsdWUsIGV4cGVjdGVkICR7SlNPTi5zdHJpbmdpZnkoaXNzdWUuZXhwZWN0ZWQsIHV0aWxfMS51dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlcil9YDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5czpcbiAgICAgICAgICBtZXNzYWdlID0gYFVucmVjb2duaXplZCBrZXkocykgaW4gb2JqZWN0OiAke3V0aWxfMS51dGlsLmpvaW5WYWx1ZXMoaXNzdWUua2V5cywgXCIsIFwiKX1gO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb246XG4gICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3I6XG4gICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWUuIEV4cGVjdGVkICR7dXRpbF8xLnV0aWwuam9pblZhbHVlcyhpc3N1ZS5vcHRpb25zKX1gO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZTpcbiAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZW51bSB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsXzEudXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfSwgcmVjZWl2ZWQgJyR7aXNzdWUucmVjZWl2ZWR9J2A7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHM6XG4gICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIGFyZ3VtZW50c2A7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZTpcbiAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gcmV0dXJuIHR5cGVgO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZTpcbiAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGF0ZWA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmc6XG4gICAgICAgICAgaWYgKHR5cGVvZiBpc3N1ZS52YWxpZGF0aW9uID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBpZiAoXCJpbmNsdWRlc1wiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGluY2x1ZGUgXCIke2lzc3VlLnZhbGlkYXRpb24uaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24ucG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYCR7bWVzc2FnZX0gYXQgb25lIG9yIG1vcmUgcG9zaXRpb25zIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAke2lzc3VlLnZhbGlkYXRpb24ucG9zaXRpb259YDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChcInN0YXJ0c1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBzdGFydCB3aXRoIFwiJHtpc3N1ZS52YWxpZGF0aW9uLnN0YXJ0c1dpdGh9XCJgO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcImVuZHNXaXRoXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3QgZW5kIHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uZW5kc1dpdGh9XCJgO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUudmFsaWRhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc3N1ZS52YWxpZGF0aW9uICE9PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCAke2lzc3VlLnZhbGlkYXRpb259YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGw6XG4gICAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgbW9yZSB0aGFuYH0gJHtpc3N1ZS5taW5pbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgb3ZlcmB9ICR7aXNzdWUubWluaW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImRhdGVcIilcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1pbmltdW0pKX1gO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnOlxuICAgICAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYHVuZGVyYH0gJHtpc3N1ZS5tYXhpbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImJpZ2ludFwiKVxuICAgICAgICAgICAgbWVzc2FnZSA9IGBCaWdJbnQgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2AgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYHNtYWxsZXIgdGhhbiBvciBlcXVhbCB0b2AgOiBgc21hbGxlciB0aGFuYH0gJHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWF4aW11bSkpfWA7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmN1c3RvbTpcbiAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXRgO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzOlxuICAgICAgICAgIG1lc3NhZ2UgPSBgSW50ZXJzZWN0aW9uIHJlc3VsdHMgY291bGQgbm90IGJlIG1lcmdlZGA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mOlxuICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLm11bHRpcGxlT2Z9YDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5ub3RfZmluaXRlOlxuICAgICAgICAgIG1lc3NhZ2UgPSBcIk51bWJlciBtdXN0IGJlIGZpbml0ZVwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIG1lc3NhZ2UgPSBfY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICB1dGlsXzEudXRpbC5hc3NlcnROZXZlcihpc3N1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4geyBtZXNzYWdlIH07XG4gICAgfTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBlcnJvck1hcDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy96b2QvbGliL2Vycm9ycy5qc1xudmFyIHJlcXVpcmVfZXJyb3JzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC9saWIvZXJyb3JzLmpzXCIoZXhwb3J0cykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBfX2ltcG9ydERlZmF1bHQgPSBleHBvcnRzICYmIGV4cG9ydHMuX19pbXBvcnREZWZhdWx0IHx8IGZ1bmN0aW9uKG1vZCkge1xuICAgICAgcmV0dXJuIG1vZCAmJiBtb2QuX19lc01vZHVsZSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIGV4cG9ydHMuZ2V0RXJyb3JNYXAgPSBleHBvcnRzLnNldEVycm9yTWFwID0gZXhwb3J0cy5kZWZhdWx0RXJyb3JNYXAgPSB2b2lkIDA7XG4gICAgdmFyIGVuXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZV9lbigpKTtcbiAgICBleHBvcnRzLmRlZmF1bHRFcnJvck1hcCA9IGVuXzEuZGVmYXVsdDtcbiAgICB2YXIgb3ZlcnJpZGVFcnJvck1hcCA9IGVuXzEuZGVmYXVsdDtcbiAgICBmdW5jdGlvbiBzZXRFcnJvck1hcChtYXApIHtcbiAgICAgIG92ZXJyaWRlRXJyb3JNYXAgPSBtYXA7XG4gICAgfVxuICAgIGV4cG9ydHMuc2V0RXJyb3JNYXAgPSBzZXRFcnJvck1hcDtcbiAgICBmdW5jdGlvbiBnZXRFcnJvck1hcCgpIHtcbiAgICAgIHJldHVybiBvdmVycmlkZUVycm9yTWFwO1xuICAgIH1cbiAgICBleHBvcnRzLmdldEVycm9yTWFwID0gZ2V0RXJyb3JNYXA7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvem9kL2xpYi9oZWxwZXJzL3BhcnNlVXRpbC5qc1xudmFyIHJlcXVpcmVfcGFyc2VVdGlsID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC9saWIvaGVscGVycy9wYXJzZVV0aWwuanNcIihleHBvcnRzKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgdmFyIF9faW1wb3J0RGVmYXVsdCA9IGV4cG9ydHMgJiYgZXhwb3J0cy5fX2ltcG9ydERlZmF1bHQgfHwgZnVuY3Rpb24obW9kKSB7XG4gICAgICByZXR1cm4gbW9kICYmIG1vZC5fX2VzTW9kdWxlID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgZXhwb3J0cy5pc0FzeW5jID0gZXhwb3J0cy5pc1ZhbGlkID0gZXhwb3J0cy5pc0RpcnR5ID0gZXhwb3J0cy5pc0Fib3J0ZWQgPSBleHBvcnRzLk9LID0gZXhwb3J0cy5ESVJUWSA9IGV4cG9ydHMuSU5WQUxJRCA9IGV4cG9ydHMuUGFyc2VTdGF0dXMgPSBleHBvcnRzLmFkZElzc3VlVG9Db250ZXh0ID0gZXhwb3J0cy5FTVBUWV9QQVRIID0gZXhwb3J0cy5tYWtlSXNzdWUgPSB2b2lkIDA7XG4gICAgdmFyIGVycm9yc18xID0gcmVxdWlyZV9lcnJvcnMoKTtcbiAgICB2YXIgZW5fMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlX2VuKCkpO1xuICAgIHZhciBtYWtlSXNzdWUgPSAocGFyYW1zKSA9PiB7XG4gICAgICBjb25zdCB7IGRhdGEsIHBhdGgsIGVycm9yTWFwcywgaXNzdWVEYXRhIH0gPSBwYXJhbXM7XG4gICAgICBjb25zdCBmdWxsUGF0aCA9IFsuLi5wYXRoLCAuLi5pc3N1ZURhdGEucGF0aCB8fCBbXV07XG4gICAgICBjb25zdCBmdWxsSXNzdWUgPSB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGhcbiAgICAgIH07XG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICAgIGNvbnN0IG1hcHMgPSBlcnJvck1hcHMuZmlsdGVyKChtKSA9PiAhIW0pLnNsaWNlKCkucmV2ZXJzZSgpO1xuICAgICAgZm9yIChjb25zdCBtYXAgb2YgbWFwcykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBtYXAoZnVsbElzc3VlLCB7IGRhdGEsIGRlZmF1bHRFcnJvcjogZXJyb3JNZXNzYWdlIH0pLm1lc3NhZ2U7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICBtZXNzYWdlOiBpc3N1ZURhdGEubWVzc2FnZSB8fCBlcnJvck1lc3NhZ2VcbiAgICAgIH07XG4gICAgfTtcbiAgICBleHBvcnRzLm1ha2VJc3N1ZSA9IG1ha2VJc3N1ZTtcbiAgICBleHBvcnRzLkVNUFRZX1BBVEggPSBbXTtcbiAgICBmdW5jdGlvbiBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIGlzc3VlRGF0YSkge1xuICAgICAgY29uc3QgaXNzdWUgPSAoMCwgZXhwb3J0cy5tYWtlSXNzdWUpKHtcbiAgICAgICAgaXNzdWVEYXRhLFxuICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCxcbiAgICAgICAgICAoMCwgZXJyb3JzXzEuZ2V0RXJyb3JNYXApKCksXG4gICAgICAgICAgZW5fMS5kZWZhdWx0XG4gICAgICAgICAgLy8gdGhlbiBnbG9iYWwgZGVmYXVsdCBtYXBcbiAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheClcbiAgICAgIH0pO1xuICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaChpc3N1ZSk7XG4gICAgfVxuICAgIGV4cG9ydHMuYWRkSXNzdWVUb0NvbnRleHQgPSBhZGRJc3N1ZVRvQ29udGV4dDtcbiAgICB2YXIgUGFyc2VTdGF0dXMgPSBjbGFzcyBfUGFyc2VTdGF0dXMge1xuICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcInZhbGlkXCI7XG4gICAgICB9XG4gICAgICBkaXJ0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IFwidmFsaWRcIilcbiAgICAgICAgICB0aGlzLnZhbHVlID0gXCJkaXJ0eVwiO1xuICAgICAgfVxuICAgICAgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBcImFib3J0ZWRcIilcbiAgICAgICAgICB0aGlzLnZhbHVlID0gXCJhYm9ydGVkXCI7XG4gICAgICB9XG4gICAgICBzdGF0aWMgbWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpIHtcbiAgICAgICAgY29uc3QgYXJyYXlWYWx1ZSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHMgb2YgcmVzdWx0cykge1xuICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5JTlZBTElEO1xuICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgYXJyYXlWYWx1ZS5wdXNoKHMudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogYXJyYXlWYWx1ZSB9O1xuICAgICAgfVxuICAgICAgc3RhdGljIGFzeW5jIG1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgc3luY1BhaXJzLnB1c2goe1xuICAgICAgICAgICAga2V5OiBhd2FpdCBwYWlyLmtleSxcbiAgICAgICAgICAgIHZhbHVlOiBhd2FpdCBwYWlyLnZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9QYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBzeW5jUGFpcnMpO1xuICAgICAgfVxuICAgICAgc3RhdGljIG1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsT2JqZWN0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gcGFpcjtcbiAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5JTlZBTElEO1xuICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuSU5WQUxJRDtcbiAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgaWYgKGtleS52YWx1ZSAhPT0gXCJfX3Byb3RvX19cIiAmJiAodHlwZW9mIHZhbHVlLnZhbHVlICE9PSBcInVuZGVmaW5lZFwiIHx8IHBhaXIuYWx3YXlzU2V0KSkge1xuICAgICAgICAgICAgZmluYWxPYmplY3Rba2V5LnZhbHVlXSA9IHZhbHVlLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsT2JqZWN0IH07XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlBhcnNlU3RhdHVzID0gUGFyc2VTdGF0dXM7XG4gICAgZXhwb3J0cy5JTlZBTElEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICBzdGF0dXM6IFwiYWJvcnRlZFwiXG4gICAgfSk7XG4gICAgdmFyIERJUlRZID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwiZGlydHlcIiwgdmFsdWUgfSk7XG4gICAgZXhwb3J0cy5ESVJUWSA9IERJUlRZO1xuICAgIHZhciBPSyA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlIH0pO1xuICAgIGV4cG9ydHMuT0sgPSBPSztcbiAgICB2YXIgaXNBYm9ydGVkID0gKHgpID0+IHguc3RhdHVzID09PSBcImFib3J0ZWRcIjtcbiAgICBleHBvcnRzLmlzQWJvcnRlZCA9IGlzQWJvcnRlZDtcbiAgICB2YXIgaXNEaXJ0eSA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJkaXJ0eVwiO1xuICAgIGV4cG9ydHMuaXNEaXJ0eSA9IGlzRGlydHk7XG4gICAgdmFyIGlzVmFsaWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwidmFsaWRcIjtcbiAgICBleHBvcnRzLmlzVmFsaWQgPSBpc1ZhbGlkO1xuICAgIHZhciBpc0FzeW5jID0gKHgpID0+IHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHggaW5zdGFuY2VvZiBQcm9taXNlO1xuICAgIGV4cG9ydHMuaXNBc3luYyA9IGlzQXN5bmM7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvem9kL2xpYi9oZWxwZXJzL3R5cGVBbGlhc2VzLmpzXG52YXIgcmVxdWlyZV90eXBlQWxpYXNlcyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy96b2QvbGliL2hlbHBlcnMvdHlwZUFsaWFzZXMuanNcIihleHBvcnRzKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC9saWIvaGVscGVycy9lcnJvclV0aWwuanNcbnZhciByZXF1aXJlX2Vycm9yVXRpbCA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy96b2QvbGliL2hlbHBlcnMvZXJyb3JVdGlsLmpzXCIoZXhwb3J0cykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICBleHBvcnRzLmVycm9yVXRpbCA9IHZvaWQgMDtcbiAgICB2YXIgZXJyb3JVdGlsO1xuICAgIChmdW5jdGlvbihlcnJvclV0aWwyKSB7XG4gICAgICBlcnJvclV0aWwyLmVyclRvT2JqID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlIH0gOiBtZXNzYWdlIHx8IHt9O1xuICAgICAgZXJyb3JVdGlsMi50b1N0cmluZyA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IG1lc3NhZ2UgOiBtZXNzYWdlID09PSBudWxsIHx8IG1lc3NhZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lc3NhZ2UubWVzc2FnZTtcbiAgICB9KShlcnJvclV0aWwgPSBleHBvcnRzLmVycm9yVXRpbCB8fCAoZXhwb3J0cy5lcnJvclV0aWwgPSB7fSkpO1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC9saWIvdHlwZXMuanNcbnZhciByZXF1aXJlX3R5cGVzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC9saWIvdHlwZXMuanNcIihleHBvcnRzKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIGV4cG9ydHMuZGF0ZSA9IGV4cG9ydHMuYm9vbGVhbiA9IGV4cG9ydHMuYmlnaW50ID0gZXhwb3J0cy5hcnJheSA9IGV4cG9ydHMuYW55ID0gZXhwb3J0cy5jb2VyY2UgPSBleHBvcnRzLlpvZEZpcnN0UGFydHlUeXBlS2luZCA9IGV4cG9ydHMubGF0ZSA9IGV4cG9ydHMuWm9kU2NoZW1hID0gZXhwb3J0cy5TY2hlbWEgPSBleHBvcnRzLmN1c3RvbSA9IGV4cG9ydHMuWm9kUmVhZG9ubHkgPSBleHBvcnRzLlpvZFBpcGVsaW5lID0gZXhwb3J0cy5ab2RCcmFuZGVkID0gZXhwb3J0cy5CUkFORCA9IGV4cG9ydHMuWm9kTmFOID0gZXhwb3J0cy5ab2RDYXRjaCA9IGV4cG9ydHMuWm9kRGVmYXVsdCA9IGV4cG9ydHMuWm9kTnVsbGFibGUgPSBleHBvcnRzLlpvZE9wdGlvbmFsID0gZXhwb3J0cy5ab2RUcmFuc2Zvcm1lciA9IGV4cG9ydHMuWm9kRWZmZWN0cyA9IGV4cG9ydHMuWm9kUHJvbWlzZSA9IGV4cG9ydHMuWm9kTmF0aXZlRW51bSA9IGV4cG9ydHMuWm9kRW51bSA9IGV4cG9ydHMuWm9kTGl0ZXJhbCA9IGV4cG9ydHMuWm9kTGF6eSA9IGV4cG9ydHMuWm9kRnVuY3Rpb24gPSBleHBvcnRzLlpvZFNldCA9IGV4cG9ydHMuWm9kTWFwID0gZXhwb3J0cy5ab2RSZWNvcmQgPSBleHBvcnRzLlpvZFR1cGxlID0gZXhwb3J0cy5ab2RJbnRlcnNlY3Rpb24gPSBleHBvcnRzLlpvZERpc2NyaW1pbmF0ZWRVbmlvbiA9IGV4cG9ydHMuWm9kVW5pb24gPSBleHBvcnRzLlpvZE9iamVjdCA9IGV4cG9ydHMuWm9kQXJyYXkgPSBleHBvcnRzLlpvZFZvaWQgPSBleHBvcnRzLlpvZE5ldmVyID0gZXhwb3J0cy5ab2RVbmtub3duID0gZXhwb3J0cy5ab2RBbnkgPSBleHBvcnRzLlpvZE51bGwgPSBleHBvcnRzLlpvZFVuZGVmaW5lZCA9IGV4cG9ydHMuWm9kU3ltYm9sID0gZXhwb3J0cy5ab2REYXRlID0gZXhwb3J0cy5ab2RCb29sZWFuID0gZXhwb3J0cy5ab2RCaWdJbnQgPSBleHBvcnRzLlpvZE51bWJlciA9IGV4cG9ydHMuWm9kU3RyaW5nID0gZXhwb3J0cy5ab2RUeXBlID0gdm9pZCAwO1xuICAgIGV4cG9ydHMuTkVWRVIgPSBleHBvcnRzLnZvaWQgPSBleHBvcnRzLnVua25vd24gPSBleHBvcnRzLnVuaW9uID0gZXhwb3J0cy51bmRlZmluZWQgPSBleHBvcnRzLnR1cGxlID0gZXhwb3J0cy50cmFuc2Zvcm1lciA9IGV4cG9ydHMuc3ltYm9sID0gZXhwb3J0cy5zdHJpbmcgPSBleHBvcnRzLnN0cmljdE9iamVjdCA9IGV4cG9ydHMuc2V0ID0gZXhwb3J0cy5yZWNvcmQgPSBleHBvcnRzLnByb21pc2UgPSBleHBvcnRzLnByZXByb2Nlc3MgPSBleHBvcnRzLnBpcGVsaW5lID0gZXhwb3J0cy5vc3RyaW5nID0gZXhwb3J0cy5vcHRpb25hbCA9IGV4cG9ydHMub251bWJlciA9IGV4cG9ydHMub2Jvb2xlYW4gPSBleHBvcnRzLm9iamVjdCA9IGV4cG9ydHMubnVtYmVyID0gZXhwb3J0cy5udWxsYWJsZSA9IGV4cG9ydHMubnVsbCA9IGV4cG9ydHMubmV2ZXIgPSBleHBvcnRzLm5hdGl2ZUVudW0gPSBleHBvcnRzLm5hbiA9IGV4cG9ydHMubWFwID0gZXhwb3J0cy5saXRlcmFsID0gZXhwb3J0cy5sYXp5ID0gZXhwb3J0cy5pbnRlcnNlY3Rpb24gPSBleHBvcnRzLmluc3RhbmNlb2YgPSBleHBvcnRzLmZ1bmN0aW9uID0gZXhwb3J0cy5lbnVtID0gZXhwb3J0cy5lZmZlY3QgPSBleHBvcnRzLmRpc2NyaW1pbmF0ZWRVbmlvbiA9IHZvaWQgMDtcbiAgICB2YXIgZXJyb3JzXzEgPSByZXF1aXJlX2Vycm9ycygpO1xuICAgIHZhciBlcnJvclV0aWxfMSA9IHJlcXVpcmVfZXJyb3JVdGlsKCk7XG4gICAgdmFyIHBhcnNlVXRpbF8xID0gcmVxdWlyZV9wYXJzZVV0aWwoKTtcbiAgICB2YXIgdXRpbF8xID0gcmVxdWlyZV91dGlsKCk7XG4gICAgdmFyIFpvZEVycm9yXzEgPSByZXF1aXJlX1pvZEVycm9yKCk7XG4gICAgdmFyIFBhcnNlSW5wdXRMYXp5UGF0aCA9IGNsYXNzIHtcbiAgICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXRoID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuX2tleSA9IGtleTtcbiAgICAgIH1cbiAgICAgIGdldCBwYXRoKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlZFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2tleSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgLi4udGhpcy5fa2V5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIHRoaXMuX2tleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRQYXRoO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGhhbmRsZVJlc3VsdCA9IChjdHgsIHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKCgwLCBwYXJzZVV0aWxfMS5pc1ZhbGlkKShyZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdC52YWx1ZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFjdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWYWxpZGF0aW9uIGZhaWxlZCBidXQgbm8gaXNzdWVzIGRldGVjdGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcilcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihjdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIHByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgY29uc3QgeyBlcnJvck1hcCwgaW52YWxpZF90eXBlX2Vycm9yLCByZXF1aXJlZF9lcnJvciwgZGVzY3JpcHRpb24gfSA9IHBhcmFtcztcbiAgICAgIGlmIChlcnJvck1hcCAmJiAoaW52YWxpZF90eXBlX2Vycm9yIHx8IHJlcXVpcmVkX2Vycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBcImludmFsaWRfdHlwZV9lcnJvclwiIG9yIFwicmVxdWlyZWRfZXJyb3JcIiBpbiBjb25qdW5jdGlvbiB3aXRoIGN1c3RvbSBlcnJvciBtYXAuYCk7XG4gICAgICB9XG4gICAgICBpZiAoZXJyb3JNYXApXG4gICAgICAgIHJldHVybiB7IGVycm9yTWFwLCBkZXNjcmlwdGlvbiB9O1xuICAgICAgY29uc3QgY3VzdG9tTWFwID0gKGlzcywgY3R4KSA9PiB7XG4gICAgICAgIGlmIChpc3MuY29kZSAhPT0gXCJpbnZhbGlkX3R5cGVcIilcbiAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIGlmICh0eXBlb2YgY3R4LmRhdGEgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiByZXF1aXJlZF9lcnJvciAhPT0gbnVsbCAmJiByZXF1aXJlZF9lcnJvciAhPT0gdm9pZCAwID8gcmVxdWlyZWRfZXJyb3IgOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogaW52YWxpZF90eXBlX2Vycm9yICE9PSBudWxsICYmIGludmFsaWRfdHlwZV9lcnJvciAhPT0gdm9pZCAwID8gaW52YWxpZF90eXBlX2Vycm9yIDogY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgfTtcbiAgICAgIHJldHVybiB7IGVycm9yTWFwOiBjdXN0b21NYXAsIGRlc2NyaXB0aW9uIH07XG4gICAgfVxuICAgIHZhciBab2RUeXBlID0gY2xhc3Mge1xuICAgICAgY29uc3RydWN0b3IoZGVmKSB7XG4gICAgICAgIHRoaXMuc3BhID0gdGhpcy5zYWZlUGFyc2VBc3luYztcbiAgICAgICAgdGhpcy5fZGVmID0gZGVmO1xuICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5wYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZSA9IHRoaXMuc2FmZVBhcnNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGFyc2VBc3luYyA9IHRoaXMucGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZUFzeW5jID0gdGhpcy5zYWZlUGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc3BhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lID0gdGhpcy5yZWZpbmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZpbmVtZW50ID0gdGhpcy5yZWZpbmVtZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3VwZXJSZWZpbmUgPSB0aGlzLnN1cGVyUmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSB0aGlzLm9wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGFibGUgPSB0aGlzLm51bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGlzaCA9IHRoaXMubnVsbGlzaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFycmF5ID0gdGhpcy5hcnJheS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vciA9IHRoaXMub3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hbmQgPSB0aGlzLmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYnJhbmQgPSB0aGlzLmJyYW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRoaXMuZGVmYXVsdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhdGNoID0gdGhpcy5jYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlc2NyaWJlID0gdGhpcy5kZXNjcmliZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBpcGUgPSB0aGlzLnBpcGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWFkb25seSA9IHRoaXMucmVhZG9ubHkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc051bGxhYmxlID0gdGhpcy5pc051bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNPcHRpb25hbCA9IHRoaXMuaXNPcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgfVxuICAgICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRlc2NyaXB0aW9uO1xuICAgICAgfVxuICAgICAgX2dldFR5cGUoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuICgwLCB1dGlsXzEuZ2V0UGFyc2VkVHlwZSkoaW5wdXQuZGF0YSk7XG4gICAgICB9XG4gICAgICBfZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCkge1xuICAgICAgICByZXR1cm4gY3R4IHx8IHtcbiAgICAgICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICBwYXJzZWRUeXBlOiAoMCwgdXRpbF8xLmdldFBhcnNlZFR5cGUpKGlucHV0LmRhdGEpLFxuICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICBwYXJlbnQ6IGlucHV0LnBhcmVudFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXR1czogbmV3IHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzKCksXG4gICAgICAgICAgY3R4OiB7XG4gICAgICAgICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShpbnB1dC5kYXRhKSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBfcGFyc2VTeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgaWYgKCgwLCBwYXJzZVV0aWxfMS5pc0FzeW5jKShyZXN1bHQpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3luY2hyb25vdXMgcGFyc2UgZW5jb3VudGVyZWQgcHJvbWlzZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfVxuICAgICAgcGFyc2UoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc2FmZVBhcnNlKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICAgIH1cbiAgICAgIHNhZmVQYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgYXN5bmM6IChfYSA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5hc3luYykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5lcnJvck1hcFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcGF0aDogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5wYXRoKSB8fCBbXSxcbiAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIHBhcnNlZFR5cGU6ICgwLCB1dGlsXzEuZ2V0UGFyc2VkVHlwZSkoZGF0YSlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVzdWx0KGN0eCwgcmVzdWx0KTtcbiAgICAgIH1cbiAgICAgIGFzeW5jIHBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2FmZVBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgICAgfVxuICAgICAgYXN5bmMgc2FmZVBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHtcbiAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5lcnJvck1hcCxcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYXRoOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLnBhdGgpIHx8IFtdLFxuICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgcGFyc2VkVHlwZTogKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShkYXRhKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0ICgoMCwgcGFyc2VVdGlsXzEuaXNBc3luYykobWF5YmVBc3luY1Jlc3VsdCkgPyBtYXliZUFzeW5jUmVzdWx0IDogUHJvbWlzZS5yZXNvbHZlKG1heWJlQXN5bmNSZXN1bHQpKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgICB9XG4gICAgICByZWZpbmUoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZ2V0SXNzdWVQcm9wZXJ0aWVzID0gKHZhbCkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgbWVzc2FnZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UodmFsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBjaGVjayh2YWwpO1xuICAgICAgICAgIGNvbnN0IHNldEVycm9yID0gKCkgPT4gY3R4LmFkZElzc3VlKHtcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmN1c3RvbSxcbiAgICAgICAgICAgIC4uLmdldElzc3VlUHJvcGVydGllcyh2YWwpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmVmaW5lbWVudChjaGVjaywgcmVmaW5lbWVudERhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgICAgaWYgKCFjaGVjayh2YWwpKSB7XG4gICAgICAgICAgICBjdHguYWRkSXNzdWUodHlwZW9mIHJlZmluZW1lbnREYXRhID09PSBcImZ1bmN0aW9uXCIgPyByZWZpbmVtZW50RGF0YSh2YWwsIGN0eCkgOiByZWZpbmVtZW50RGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBfcmVmaW5lbWVudChyZWZpbmVtZW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJyZWZpbmVtZW50XCIsIHJlZmluZW1lbnQgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHN1cGVyUmVmaW5lKHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQocmVmaW5lbWVudCk7XG4gICAgICB9XG4gICAgICBvcHRpb25hbCgpIHtcbiAgICAgICAgcmV0dXJuIFpvZE9wdGlvbmFsLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgICAgfVxuICAgICAgbnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICAgIH1cbiAgICAgIG51bGxpc2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bGxhYmxlKCkub3B0aW9uYWwoKTtcbiAgICAgIH1cbiAgICAgIGFycmF5KCkge1xuICAgICAgICByZXR1cm4gWm9kQXJyYXkuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgICB9XG4gICAgICBwcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gWm9kUHJvbWlzZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICAgIH1cbiAgICAgIG9yKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gWm9kVW5pb24uY3JlYXRlKFt0aGlzLCBvcHRpb25dLCB0aGlzLl9kZWYpO1xuICAgICAgfVxuICAgICAgYW5kKGluY29taW5nKSB7XG4gICAgICAgIHJldHVybiBab2RJbnRlcnNlY3Rpb24uY3JlYXRlKHRoaXMsIGluY29taW5nLCB0aGlzLl9kZWYpO1xuICAgICAgfVxuICAgICAgdHJhbnNmb3JtKHRyYW5zZm9ybSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInRyYW5zZm9ybVwiLCB0cmFuc2Zvcm0gfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQoZGVmKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZUZ1bmMsXG4gICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYnJhbmQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQnJhbmRlZCh7XG4gICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCcmFuZGVkLFxuICAgICAgICAgIHR5cGU6IHRoaXMsXG4gICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY2F0Y2goZGVmKSB7XG4gICAgICAgIGNvbnN0IGNhdGNoVmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgIGNhdGNoVmFsdWU6IGNhdGNoVmFsdWVGdW5jLFxuICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2hcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkZXNjcmliZShkZXNjcmlwdGlvbikge1xuICAgICAgICBjb25zdCBUaGlzID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBUaGlzKHtcbiAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBwaXBlKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gWm9kUGlwZWxpbmUuY3JlYXRlKHRoaXMsIHRhcmdldCk7XG4gICAgICB9XG4gICAgICByZWFkb25seSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZFJlYWRvbmx5LmNyZWF0ZSh0aGlzKTtcbiAgICAgIH1cbiAgICAgIGlzT3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZSh2b2lkIDApLnN1Y2Nlc3M7XG4gICAgICB9XG4gICAgICBpc051bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuWm9kVHlwZSA9IFpvZFR5cGU7XG4gICAgZXhwb3J0cy5TY2hlbWEgPSBab2RUeXBlO1xuICAgIGV4cG9ydHMuWm9kU2NoZW1hID0gWm9kVHlwZTtcbiAgICB2YXIgY3VpZFJlZ2V4ID0gL15jW15cXHMtXXs4LH0kL2k7XG4gICAgdmFyIGN1aWQyUmVnZXggPSAvXlthLXpdW2EtejAtOV0qJC87XG4gICAgdmFyIHVsaWRSZWdleCA9IC9eWzAtOUEtSEpLTU5QLVRWLVpdezI2fSQvO1xuICAgIHZhciB1dWlkUmVnZXggPSAvXlswLTlhLWZBLUZdezh9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezR9XFxiLVswLTlhLWZBLUZdezEyfSQvaTtcbiAgICB2YXIgZW1haWxSZWdleCA9IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbQS1aMC05XystXFwuXSopW0EtWjAtOV8rLV1AKFtBLVowLTldW0EtWjAtOVxcLV0qXFwuKStbQS1aXXsyLH0kL2k7XG4gICAgdmFyIF9lbW9qaVJlZ2V4ID0gYF4oXFxcXHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxcXFxccHtFbW9qaV9Db21wb25lbnR9KSskYDtcbiAgICB2YXIgZW1vamlSZWdleDtcbiAgICB2YXIgaXB2NFJlZ2V4ID0gL14oKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkkLztcbiAgICB2YXIgaXB2NlJlZ2V4ID0gL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC87XG4gICAgdmFyIGRhdGV0aW1lUmVnZXggPSAoYXJncykgPT4ge1xuICAgICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIGlmIChhcmdzLm9mZnNldCkge1xuICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKGBeXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1UXFxcXGR7Mn06XFxcXGR7Mn06XFxcXGR7Mn1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fSgoWystXVxcXFxkezJ9KDo/XFxcXGR7Mn0pPyl8WikkYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5cXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfVRcXFxcZHsyfTpcXFxcZHsyfTpcXFxcZHsyfVxcXFwuXFxcXGR7JHthcmdzLnByZWNpc2lvbn19WiRgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmdzLnByZWNpc2lvbiA9PT0gMCkge1xuICAgICAgICBpZiAoYXJncy5vZmZzZXQpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXlxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9VFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9KChbKy1dXFxcXGR7Mn0oOj9cXFxcZHsyfSk/KXxaKSRgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXlxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9VFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9WiRgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFyZ3Mub2Zmc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoYF5cXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfVRcXFxcZHsyfTpcXFxcZHsyfTpcXFxcZHsyfShcXFxcLlxcXFxkKyk/KChbKy1dXFxcXGR7Mn0oOj9cXFxcZHsyfSk/KXxaKSRgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXlxcXFxkezR9LVxcXFxkezJ9LVxcXFxkezJ9VFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9KFxcXFwuXFxcXGQrKT9aJGApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBpc1ZhbGlkSVAoaXAsIHZlcnNpb24pIHtcbiAgICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NlJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgWm9kU3RyaW5nID0gY2xhc3MgX1pvZFN0cmluZyBleHRlbmRzIFpvZFR5cGUge1xuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgaW5wdXQuZGF0YSA9IFN0cmluZyhpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zdHJpbmcpIHtcbiAgICAgICAgICBjb25zdCBjdHgyID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoXG4gICAgICAgICAgICBjdHgyLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zdHJpbmcsXG4gICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgyLnBhcnNlZFR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHZvaWQgMDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGlucHV0LmRhdGEubGVuZ3RoID4gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWU7XG4gICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbW9qaVwiKSB7XG4gICAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgpIHtcbiAgICAgICAgICAgICAgZW1vamlSZWdleCA9IG5ldyBSZWdFeHAoX2Vtb2ppUmVnZXgsIFwidVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZW1vamlSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1vamlcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXVpZFwiKSB7XG4gICAgICAgICAgICBpZiAoIXV1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXVpZFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkXCIpIHtcbiAgICAgICAgICAgIGlmICghY3VpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjdWlkXCIsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImN1aWQyXCIpIHtcbiAgICAgICAgICAgIGlmICghY3VpZDJSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZDJcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidWxpZFwiKSB7XG4gICAgICAgICAgICBpZiAoIXVsaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidWxpZFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1cmxcIikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgbmV3IFVSTChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXJsXCIsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgIGNoZWNrLnJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICBjb25zdCB0ZXN0UmVzdWx0ID0gY2hlY2sucmVnZXgudGVzdChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgIGlmICghdGVzdFJlc3VsdCkge1xuICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRyaW1cIikge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudHJpbSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpbmNsdWRlc1wiKSB7XG4gICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuaW5jbHVkZXMoY2hlY2sudmFsdWUsIGNoZWNrLnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGluY2x1ZGVzOiBjaGVjay52YWx1ZSwgcG9zaXRpb246IGNoZWNrLnBvc2l0aW9uIH0sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvTG93ZXJDYXNlXCIpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvVXBwZXJDYXNlXCIpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInN0YXJ0c1dpdGhcIikge1xuICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLnN0YXJ0c1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgc3RhcnRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW5kc1dpdGhcIikge1xuICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmVuZHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGVuZHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRldGltZVwiKSB7XG4gICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGV0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaXBcIikge1xuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkSVAoaW5wdXQuZGF0YSwgY2hlY2sudmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJpcFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1dGlsXzEudXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgICAgfVxuICAgICAgX3JlZ2V4KHJlZ2V4LCB2YWxpZGF0aW9uLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmluZW1lbnQoKGRhdGEpID0+IHJlZ2V4LnRlc3QoZGF0YSksIHtcbiAgICAgICAgICB2YWxpZGF0aW9uLFxuICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IF9ab2RTdHJpbmcoe1xuICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja11cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbWFpbChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1haWxcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgICAgfVxuICAgICAgdXJsKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1cmxcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgICAgfVxuICAgICAgZW1vamkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtb2ppXCIsIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICAgIH1cbiAgICAgIHV1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInV1aWRcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgICAgfVxuICAgICAgY3VpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZFwiLCAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgICB9XG4gICAgICBjdWlkMihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZDJcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgICAgfVxuICAgICAgdWxpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidWxpZFwiLCAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgICB9XG4gICAgICBpcChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiaXBcIiwgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgICAgfVxuICAgICAgZGF0ZXRpbWUob3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgICAgICBvZmZzZXQ6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9uc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgIHByZWNpc2lvbjogdHlwZW9mIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJlY2lzaW9uKSA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucHJlY2lzaW9uLFxuICAgICAgICAgIG9mZnNldDogKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9mZnNldCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlZ2V4KHJlZ2V4LCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAga2luZDogXCJyZWdleFwiLFxuICAgICAgICAgIHJlZ2V4LFxuICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGluY2x1ZGVzKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAga2luZDogXCJpbmNsdWRlc1wiLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucG9zaXRpb24sXG4gICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0c1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICBraW5kOiBcInN0YXJ0c1dpdGhcIixcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbmRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgIGtpbmQ6IFwiZW5kc1dpdGhcIixcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICB2YWx1ZTogbWluTGVuZ3RoLFxuICAgICAgICAgIC4uLmVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgIHZhbHVlOiBtYXhMZW5ndGgsXG4gICAgICAgICAgLi4uZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgIGtpbmQ6IFwibGVuZ3RoXCIsXG4gICAgICAgICAgdmFsdWU6IGxlbixcbiAgICAgICAgICAuLi5lcnJvclV0aWxfMS5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEBkZXByZWNhdGVkIFVzZSB6LnN0cmluZygpLm1pbigxKSBpbnN0ZWFkLlxuICAgICAgICogQHNlZSB7QGxpbmsgWm9kU3RyaW5nLm1pbn1cbiAgICAgICAqL1xuICAgICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpKTtcbiAgICAgIH1cbiAgICAgIHRyaW0oKSB7XG4gICAgICAgIHJldHVybiBuZXcgX1pvZFN0cmluZyh7XG4gICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0cmltXCIgfV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0b0xvd2VyQ2FzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfWm9kU3RyaW5nKHtcbiAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRvTG93ZXJDYXNlXCIgfV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0b1VwcGVyQ2FzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfWm9kU3RyaW5nKHtcbiAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRvVXBwZXJDYXNlXCIgfV1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBnZXQgaXNEYXRldGltZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkYXRldGltZVwiKTtcbiAgICAgIH1cbiAgICAgIGdldCBpc0VtYWlsKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtYWlsXCIpO1xuICAgICAgfVxuICAgICAgZ2V0IGlzVVJMKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVybFwiKTtcbiAgICAgIH1cbiAgICAgIGdldCBpc0Vtb2ppKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtb2ppXCIpO1xuICAgICAgfVxuICAgICAgZ2V0IGlzVVVJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1dWlkXCIpO1xuICAgICAgfVxuICAgICAgZ2V0IGlzQ1VJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkXCIpO1xuICAgICAgfVxuICAgICAgZ2V0IGlzQ1VJRDIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZDJcIik7XG4gICAgICB9XG4gICAgICBnZXQgaXNVTElEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVsaWRcIik7XG4gICAgICB9XG4gICAgICBnZXQgaXNJUCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpcFwiKTtcbiAgICAgIH1cbiAgICAgIGdldCBtaW5MZW5ndGgoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgICB9XG4gICAgICBnZXQgbWF4TGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2RTdHJpbmcgPSBab2RTdHJpbmc7XG4gICAgWm9kU3RyaW5nLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcsXG4gICAgICAgIGNvZXJjZTogKF9hID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBmbG9hdFNhZmVSZW1haW5kZXIodmFsLCBzdGVwKSB7XG4gICAgICBjb25zdCB2YWxEZWNDb3VudCA9ICh2YWwudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgICAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgICAgY29uc3QgZGVjQ291bnQgPSB2YWxEZWNDb3VudCA+IHN0ZXBEZWNDb3VudCA/IHZhbERlY0NvdW50IDogc3RlcERlY0NvdW50O1xuICAgICAgY29uc3QgdmFsSW50ID0gcGFyc2VJbnQodmFsLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgIGNvbnN0IHN0ZXBJbnQgPSBwYXJzZUludChzdGVwLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICAgIHJldHVybiB2YWxJbnQgJSBzdGVwSW50IC8gTWF0aC5wb3coMTAsIGRlY0NvdW50KTtcbiAgICB9XG4gICAgdmFyIFpvZE51bWJlciA9IGNsYXNzIF9ab2ROdW1iZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgICAgICB0aGlzLnN0ZXAgPSB0aGlzLm11bHRpcGxlT2Y7XG4gICAgICB9XG4gICAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICBpbnB1dC5kYXRhID0gTnVtYmVyKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgIGNvbnN0IGN0eDIgPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgyLCB7XG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUubnVtYmVyLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eDIucGFyc2VkVHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB2b2lkIDA7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJpbnRcIikge1xuICAgICAgICAgICAgaWYgKCF1dGlsXzEudXRpbC5pc0ludGVnZXIoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcImludGVnZXJcIixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogXCJmbG9hdFwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgaWYgKGZsb2F0U2FmZVJlbWFpbmRlcihpbnB1dC5kYXRhLCBjaGVjay52YWx1ZSkgIT09IDApIHtcbiAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJmaW5pdGVcIikge1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUubm90X2Zpbml0ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICAgIH1cbiAgICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICAgIH1cbiAgICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICAgIH1cbiAgICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICAgIH1cbiAgICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICAgIH1cbiAgICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfWm9kTnVtYmVyKHtcbiAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgX1pvZE51bWJlcih7XG4gICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGludChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAga2luZDogXCJpbnRcIixcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZmluaXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICBraW5kOiBcImZpbml0ZVwiLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHNhZmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfSkuX2FkZENoZWNrKHtcbiAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgICAgfVxuICAgICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgICAgfVxuICAgICAgZ2V0IGlzSW50KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImludFwiIHx8IGNoLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiICYmIHV0aWxfMS51dGlsLmlzSW50ZWdlcihjaC52YWx1ZSkpO1xuICAgICAgfVxuICAgICAgZ2V0IGlzRmluaXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbCwgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwiZmluaXRlXCIgfHwgY2gua2luZCA9PT0gXCJpbnRcIiB8fCBjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG1pbikgJiYgTnVtYmVyLmlzRmluaXRlKG1heCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlpvZE51bWJlciA9IFpvZE51bWJlcjtcbiAgICBab2ROdW1iZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcixcbiAgICAgICAgY29lcmNlOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgWm9kQmlnSW50ID0gY2xhc3MgX1pvZEJpZ0ludCBleHRlbmRzIFpvZFR5cGUge1xuICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgICB9XG4gICAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICBpbnB1dC5kYXRhID0gQmlnSW50KGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmJpZ2ludCkge1xuICAgICAgICAgIGNvbnN0IGN0eDIgPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgyLCB7XG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUuYmlnaW50LFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eDIucGFyc2VkVHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB2b2lkIDA7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2VcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhICUgY2hlY2sudmFsdWUgIT09IEJpZ0ludCgwKSkge1xuICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHV0aWxfMS51dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgICB9XG4gICAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgICB9XG4gICAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgICB9XG4gICAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgICB9XG4gICAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgICB9XG4gICAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX1pvZEJpZ0ludCh7XG4gICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IF9ab2RCaWdJbnQoe1xuICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja11cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgICB9XG4gICAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlpvZEJpZ0ludCA9IFpvZEJpZ0ludDtcbiAgICBab2RCaWdJbnQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICAgICAgY29lcmNlOiAoX2EgPSBwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBab2RCb29sZWFuID0gY2xhc3MgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgIGlucHV0LmRhdGEgPSBCb29sZWFuKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmJvb2xlYW4pIHtcbiAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5ib29sZWFuLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlpvZEJvb2xlYW4gPSBab2RCb29sZWFuO1xuICAgIFpvZEJvb2xlYW4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBab2RCb29sZWFuKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCb29sZWFuLFxuICAgICAgICBjb2VyY2U6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBab2REYXRlID0gY2xhc3MgX1pvZERhdGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgIGlucHV0LmRhdGEgPSBuZXcgRGF0ZShpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5kYXRlKSB7XG4gICAgICAgICAgY29uc3QgY3R4MiA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eDIsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5kYXRlLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eDIucGFyc2VkVHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc05hTihpbnB1dC5kYXRhLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICBjb25zdCBjdHgyID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4Miwge1xuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IHBhcnNlVXRpbF8xLlBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB2b2lkIDA7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXRpbF8xLnV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZShpbnB1dC5kYXRhLmdldFRpbWUoKSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IF9ab2REYXRlKHtcbiAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbWluKG1pbkRhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgIHZhbHVlOiBtaW5EYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBtYXgobWF4RGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgdmFsdWU6IG1heERhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGdldCBtaW5EYXRlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluICE9IG51bGwgPyBuZXcgRGF0ZShtaW4pIDogbnVsbDtcbiAgICAgIH1cbiAgICAgIGdldCBtYXhEYXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4ICE9IG51bGwgPyBuZXcgRGF0ZShtYXgpIDogbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuWm9kRGF0ZSA9IFpvZERhdGU7XG4gICAgWm9kRGF0ZS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICBjb2VyY2U6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSB8fCBmYWxzZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIFpvZFN5bWJvbCA9IGNsYXNzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuc3ltYm9sKSB7XG4gICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUuc3ltYm9sLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlpvZFN5bWJvbCA9IFpvZFN5bWJvbDtcbiAgICBab2RTeW1ib2wuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBab2RTeW1ib2woe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBab2RVbmRlZmluZWQgPSBjbGFzcyBleHRlbmRzIFpvZFR5cGUge1xuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2RVbmRlZmluZWQgPSBab2RVbmRlZmluZWQ7XG4gICAgWm9kVW5kZWZpbmVkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgWm9kVW5kZWZpbmVkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmRlZmluZWQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgWm9kTnVsbCA9IGNsYXNzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm51bGwsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuWm9kTnVsbCA9IFpvZE51bGw7XG4gICAgWm9kTnVsbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFpvZE51bGwoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgWm9kQW55ID0gY2xhc3MgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl9hbnkgPSB0cnVlO1xuICAgICAgfVxuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2RBbnkgPSBab2RBbnk7XG4gICAgWm9kQW55LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgWm9kQW55KHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgWm9kVW5rbm93biA9IGNsYXNzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fdW5rbm93biA9IHRydWU7XG4gICAgICB9XG4gICAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoaW5wdXQuZGF0YSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlpvZFVua25vd24gPSBab2RVbmtub3duO1xuICAgIFpvZFVua25vd24uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBab2RVbmtub3duKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIFpvZE5ldmVyID0gY2xhc3MgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5uZXZlcixcbiAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2ROZXZlciA9IFpvZE5ldmVyO1xuICAgIFpvZE5ldmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgWm9kTmV2ZXIoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIFpvZFZvaWQgPSBjbGFzcyBleHRlbmRzIFpvZFR5cGUge1xuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnZvaWQsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuWm9kVm9pZCA9IFpvZFZvaWQ7XG4gICAgWm9kVm9pZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFpvZFZvaWQoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgWm9kQXJyYXkgPSBjbGFzcyBfWm9kQXJyYXkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCwgc3RhdHVzIH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5leGFjdExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiB0b29CaWcgPyBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fYmlnIDogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICBtaW5pbXVtOiB0b29TbWFsbCA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHZvaWQgMCxcbiAgICAgICAgICAgICAgbWF4aW11bTogdG9vQmlnID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdm9pZCAwLFxuICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5leGFjdExlbmd0aC5tZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1pbkxlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCBkZWYubWluTGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5MZW5ndGgudmFsdWUsXG4gICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5MZW5ndGgubWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhMZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoID4gZGVmLm1heExlbmd0aC52YWx1ZSkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heExlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heExlbmd0aC5tZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZUFzeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICAgIH0pKS50aGVuKChyZXN1bHQyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdDIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZVN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgICB9XG4gICAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgICAgfVxuICAgICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IF9ab2RBcnJheSh7XG4gICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgIG1pbkxlbmd0aDogeyB2YWx1ZTogbWluTGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWxfMS5lcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfWm9kQXJyYXkoe1xuICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICBtYXhMZW5ndGg6IHsgdmFsdWU6IG1heExlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX1pvZEFycmF5KHtcbiAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgZXhhY3RMZW5ndGg6IHsgdmFsdWU6IGxlbiwgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuWm9kQXJyYXkgPSBab2RBcnJheTtcbiAgICBab2RBcnJheS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIG1pbkxlbmd0aDogbnVsbCxcbiAgICAgICAgbWF4TGVuZ3RoOiBudWxsLFxuICAgICAgICBleGFjdExlbmd0aDogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgICB9KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYSkge1xuICAgICAgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9iamVjdCkge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEuc2hhcGUpIHtcbiAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHNjaGVtYS5zaGFwZVtrZXldO1xuICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoZmllbGRTY2hlbWEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RBcnJheSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICB0eXBlOiBkZWVwUGFydGlhbGlmeShzY2hlbWEuZWxlbWVudClcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgICB9IGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgICB9IGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZFR1cGxlKSB7XG4gICAgICAgIHJldHVybiBab2RUdXBsZS5jcmVhdGUoc2NoZW1hLml0ZW1zLm1hcCgoaXRlbSkgPT4gZGVlcFBhcnRpYWxpZnkoaXRlbSkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBab2RPYmplY3QgPSBjbGFzcyBfWm9kT2JqZWN0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5ub25zdHJpY3QgPSB0aGlzLnBhc3N0aHJvdWdoO1xuICAgICAgICB0aGlzLmF1Z21lbnQgPSB0aGlzLmV4dGVuZDtcbiAgICAgIH1cbiAgICAgIF9nZXRDYWNoZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZWQgIT09IG51bGwpXG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZDtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IHV0aWxfMS51dGlsLm9iamVjdEtleXMoc2hhcGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkID0geyBzaGFwZSwga2V5cyB9O1xuICAgICAgfVxuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgIGNvbnN0IGN0eDIgPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgyLCB7XG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eDIucGFyc2VkVHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgc2hhcGUsIGtleXM6IHNoYXBlS2V5cyB9ID0gdGhpcy5fZ2V0Q2FjaGVkKCk7XG4gICAgICAgIGNvbnN0IGV4dHJhS2V5cyA9IFtdO1xuICAgICAgICBpZiAoISh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlciAmJiB0aGlzLl9kZWYudW5rbm93bktleXMgPT09IFwic3RyaXBcIikpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgaWYgKCFzaGFwZUtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICBleHRyYUtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFwZUtleXMpIHtcbiAgICAgICAgICBjb25zdCBrZXlWYWxpZGF0b3IgPSBzaGFwZVtrZXldO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgdmFsdWU6IGtleVZhbGlkYXRvci5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlcikge1xuICAgICAgICAgIGNvbnN0IHVua25vd25LZXlzID0gdGhpcy5fZGVmLnVua25vd25LZXlzO1xuICAgICAgICAgIGlmICh1bmtub3duS2V5cyA9PT0gXCJwYXNzdGhyb3VnaFwiKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBjdHguZGF0YVtrZXldIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpY3RcIikge1xuICAgICAgICAgICAgaWYgKGV4dHJhS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXMsXG4gICAgICAgICAgICAgICAga2V5czogZXh0cmFLZXlzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmlwXCIpIHtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnRlcm5hbCBab2RPYmplY3QgZXJyb3I6IGludmFsaWQgdW5rbm93bktleXMgdmFsdWUuYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGNhdGNoYWxsID0gdGhpcy5fZGVmLmNhdGNoYWxsO1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICB2YWx1ZTogY2F0Y2hhbGwuX3BhcnNlKFxuICAgICAgICAgICAgICAgIG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIGtleSlcbiAgICAgICAgICAgICAgICAvLywgY3R4LmNoaWxkKGtleSksIHZhbHVlLCBnZXRQYXJzZWRUeXBlKHZhbHVlKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGF3YWl0IHBhaXIudmFsdWUsXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBwYWlyLmFsd2F5c1NldFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzeW5jUGFpcnM7XG4gICAgICAgICAgfSkudGhlbigoc3luY1BhaXJzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICAgIH1cbiAgICAgIHN0cmljdChtZXNzYWdlKSB7XG4gICAgICAgIGVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iajtcbiAgICAgICAgcmV0dXJuIG5ldyBfWm9kT2JqZWN0KHtcbiAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgICAgLi4ubWVzc2FnZSAhPT0gdm9pZCAwID8ge1xuICAgICAgICAgICAgZXJyb3JNYXA6IChpc3N1ZSwgY3R4KSA9PiB7XG4gICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEVycm9yID0gKF9jID0gKF9iID0gKF9hID0gdGhpcy5fZGVmKS5lcnJvck1hcCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIGlzc3VlLCBjdHgpLm1lc3NhZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGN0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcInVucmVjb2duaXplZF9rZXlzXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IChfZCA9IGVycm9yVXRpbF8xLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKS5tZXNzYWdlKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkZWZhdWx0RXJyb3JcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZmF1bHRFcnJvclxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gOiB7fVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHN0cmlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IF9ab2RPYmplY3Qoe1xuICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcGFzc3Rocm91Z2goKSB7XG4gICAgICAgIHJldHVybiBuZXcgX1pvZE9iamVjdCh7XG4gICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgIHVua25vd25LZXlzOiBcInBhc3N0aHJvdWdoXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBjb25zdCBBdWdtZW50RmFjdG9yeSA9XG4gICAgICAvLyAgIDxEZWYgZXh0ZW5kcyBab2RPYmplY3REZWY+KGRlZjogRGVmKSA9PlxuICAgICAgLy8gICA8QXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGU+KFxuICAgICAgLy8gICAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgICAvLyAgICk6IFpvZE9iamVjdDxcbiAgICAgIC8vICAgICBleHRlbmRTaGFwZTxSZXR1cm5UeXBlPERlZltcInNoYXBlXCJdPiwgQXVnbWVudGF0aW9uPixcbiAgICAgIC8vICAgICBEZWZbXCJ1bmtub3duS2V5c1wiXSxcbiAgICAgIC8vICAgICBEZWZbXCJjYXRjaGFsbFwiXVxuICAgICAgLy8gICA+ID0+IHtcbiAgICAgIC8vICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAvLyAgICAgICAuLi5kZWYsXG4gICAgICAvLyAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgIC8vICAgICAgICAgLi4uZGVmLnNoYXBlKCksXG4gICAgICAvLyAgICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAgIC8vICAgICAgIH0pLFxuICAgICAgLy8gICAgIH0pIGFzIGFueTtcbiAgICAgIC8vICAgfTtcbiAgICAgIGV4dGVuZChhdWdtZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfWm9kT2JqZWN0KHtcbiAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgIC4uLmF1Z21lbnRhdGlvblxuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBQcmlvciB0byB6b2RAMS4wLjEyIHRoZXJlIHdhcyBhIGJ1ZyBpbiB0aGVcbiAgICAgICAqIGluZmVycmVkIHR5cGUgb2YgbWVyZ2VkIG9iamVjdHMuIFBsZWFzZVxuICAgICAgICogdXBncmFkZSBpZiB5b3UgYXJlIGV4cGVyaWVuY2luZyBpc3N1ZXMuXG4gICAgICAgKi9cbiAgICAgIG1lcmdlKG1lcmdpbmcpIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IF9ab2RPYmplY3Qoe1xuICAgICAgICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgICAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgLi4ubWVyZ2luZy5fZGVmLnNoYXBlKClcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICAgIH1cbiAgICAgIC8vIG1lcmdlPFxuICAgICAgLy8gICBJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdCxcbiAgICAgIC8vICAgQXVnbWVudGF0aW9uIGV4dGVuZHMgSW5jb21pbmdbXCJzaGFwZVwiXSxcbiAgICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMge1xuICAgICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIE91dHB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgICAvLyAgICAgICA/IE91dHB1dFtrXVxuICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgIC8vICAgfSxcbiAgICAgIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB7XG4gICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAgIC8vICAgICAgID8gSW5wdXRba11cbiAgICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgICAvLyAgIH1cbiAgICAgIC8vID4oXG4gICAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgICAvLyApOiBab2RPYmplY3Q8XG4gICAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdLFxuICAgICAgLy8gICBOZXdPdXRwdXQsXG4gICAgICAvLyAgIE5ld0lucHV0XG4gICAgICAvLyA+IHtcbiAgICAgIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgICAgLy8gICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgICAvLyAgICAgc2hhcGU6ICgpID0+XG4gICAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgICAvLyAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAgIC8vIH1cbiAgICAgIHNldEtleShrZXksIHNjaGVtYSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdWdtZW50KHsgW2tleV06IHNjaGVtYSB9KTtcbiAgICAgIH1cbiAgICAgIC8vIG1lcmdlPEluY29taW5nIGV4dGVuZHMgQW55Wm9kT2JqZWN0PihcbiAgICAgIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgICAgIC8vICk6IC8vWm9kT2JqZWN0PFQgJiBJbmNvbWluZ1tcIl9zaGFwZVwiXSwgVW5rbm93bktleXMsIENhdGNoYWxsPiA9IChtZXJnaW5nKSA9PiB7XG4gICAgICAvLyBab2RPYmplY3Q8XG4gICAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdXG4gICAgICAvLyA+IHtcbiAgICAgIC8vICAgLy8gY29uc3QgbWVyZ2VkU2hhcGUgPSBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKFxuICAgICAgLy8gICAvLyAgIHRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgLy8gICAvLyAgIG1lcmdpbmcuX2RlZi5zaGFwZSgpXG4gICAgICAvLyAgIC8vICk7XG4gICAgICAvLyAgIGNvbnN0IG1lcmdlZDogYW55ID0gbmV3IFpvZE9iamVjdCh7XG4gICAgICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgICAgLy8gICAgIHNoYXBlOiAoKSA9PlxuICAgICAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAgICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgLy8gICB9KSBhcyBhbnk7XG4gICAgICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gICAgICAvLyB9XG4gICAgICBjYXRjaGFsbChpbmRleCkge1xuICAgICAgICByZXR1cm4gbmV3IF9ab2RPYmplY3Qoe1xuICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICBjYXRjaGFsbDogaW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBwaWNrKG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbF8xLnV0aWwub2JqZWN0S2V5cyhtYXNrKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICBpZiAobWFza1trZXldICYmIHRoaXMuc2hhcGVba2V5XSkge1xuICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IF9ab2RPYmplY3Qoe1xuICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBvbWl0KG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbF8xLnV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICBpZiAoIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IF9ab2RPYmplY3Qoe1xuICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEBkZXByZWNhdGVkXG4gICAgICAgKi9cbiAgICAgIGRlZXBQYXJ0aWFsKCkge1xuICAgICAgICByZXR1cm4gZGVlcFBhcnRpYWxpZnkodGhpcyk7XG4gICAgICB9XG4gICAgICBwYXJ0aWFsKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbF8xLnV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYS5vcHRpb25hbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgX1pvZE9iamVjdCh7XG4gICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJlcXVpcmVkKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbF8xLnV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGxldCBuZXdGaWVsZCA9IGZpZWxkU2NoZW1hO1xuICAgICAgICAgICAgd2hpbGUgKG5ld0ZpZWxkIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgbmV3RmllbGQgPSBuZXdGaWVsZC5fZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBuZXdGaWVsZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IF9ab2RPYmplY3Qoe1xuICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBrZXlvZigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVpvZEVudW0odXRpbF8xLnV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlpvZE9iamVjdCA9IFpvZE9iamVjdDtcbiAgICBab2RPYmplY3QuY3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICAgIH0pO1xuICAgIH07XG4gICAgWm9kT2JqZWN0LnN0cmljdENyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBab2RPYmplY3QubGF6eWNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIFpvZFVuaW9uID0gY2xhc3MgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX2RlZi5vcHRpb25zO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVSZXN1bHRzKHJlc3VsdHMpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5yZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgdW5pb25FcnJvcnMgPSByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiBuZXcgWm9kRXJyb3JfMS5ab2RFcnJvcihyZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpKTtcbiAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgIHVuaW9uRXJyb3JzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwob3B0aW9ucy5tYXAoYXN5bmMgKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHBhcmVudDogbnVsbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBjdHg6IGNoaWxkQ3R4XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pKS50aGVuKGhhbmRsZVJlc3VsdHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBkaXJ0eSA9IHZvaWQgMDtcbiAgICAgICAgICBjb25zdCBpc3N1ZXMgPSBbXTtcbiAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcGFyZW50OiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIgJiYgIWRpcnR5KSB7XG4gICAgICAgICAgICAgIGRpcnR5ID0geyByZXN1bHQsIGN0eDogY2hpbGRDdHggfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGlsZEN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpc3N1ZXMucHVzaChjaGlsZEN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGRpcnR5KSB7XG4gICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLmRpcnR5LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgIHJldHVybiBkaXJ0eS5yZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gaXNzdWVzLm1hcCgoaXNzdWVzMikgPT4gbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IoaXNzdWVzMikpO1xuICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgdW5pb25FcnJvcnNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuWm9kVW5pb24gPSBab2RVbmlvbjtcbiAgICBab2RVbmlvbi5jcmVhdGUgPSAodHlwZXMsIHBhcmFtcykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBab2RVbmlvbih7XG4gICAgICAgIG9wdGlvbnM6IHR5cGVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuaW9uLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGdldERpc2NyaW1pbmF0b3IgPSAodHlwZSkgPT4ge1xuICAgICAgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMYXp5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2NoZW1hKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVmZmVjdHMpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5pbm5lclR5cGUoKSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMaXRlcmFsKSB7XG4gICAgICAgIHJldHVybiBbdHlwZS52YWx1ZV07XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB0eXBlLm9wdGlvbnM7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROYXRpdmVFbnVtKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0eXBlLmVudW0pO1xuICAgICAgfSBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gW3ZvaWQgMF07XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsKSB7XG4gICAgICAgIHJldHVybiBbbnVsbF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBab2REaXNjcmltaW5hdGVkVW5pb24gPSBjbGFzcyBfWm9kRGlzY3JpbWluYXRlZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yID0gdGhpcy5kaXNjcmltaW5hdG9yO1xuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWUgPSBjdHguZGF0YVtkaXNjcmltaW5hdG9yXTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gdGhpcy5vcHRpb25zTWFwLmdldChkaXNjcmltaW5hdG9yVmFsdWUpO1xuICAgICAgICBpZiAoIW9wdGlvbikge1xuICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBvcHRpb25zOiBBcnJheS5mcm9tKHRoaXMub3B0aW9uc01hcC5rZXlzKCkpLFxuICAgICAgICAgICAgcGF0aDogW2Rpc2NyaW1pbmF0b3JdXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZ2V0IGRpc2NyaW1pbmF0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGlzY3JpbWluYXRvcjtcbiAgICAgIH1cbiAgICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgICB9XG4gICAgICBnZXQgb3B0aW9uc01hcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zTWFwO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGRpc2NyaW1pbmF0ZWQgdW5pb24gc2NoZW1hLiBJdHMgYmVoYXZpb3VyIGlzIHZlcnkgc2ltaWxhciB0byB0aGF0IG9mIHRoZSBub3JtYWwgei51bmlvbigpIGNvbnN0cnVjdG9yLlxuICAgICAgICogSG93ZXZlciwgaXQgb25seSBhbGxvd3MgYSB1bmlvbiBvZiBvYmplY3RzLCBhbGwgb2Ygd2hpY2ggbmVlZCB0byBzaGFyZSBhIGRpc2NyaW1pbmF0b3IgcHJvcGVydHkuIFRoaXMgcHJvcGVydHkgbXVzdFxuICAgICAgICogaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZSBmb3IgZWFjaCBvYmplY3QgaW4gdGhlIHVuaW9uLlxuICAgICAgICogQHBhcmFtIGRpc2NyaW1pbmF0b3IgdGhlIG5hbWUgb2YgdGhlIGRpc2NyaW1pbmF0b3IgcHJvcGVydHlcbiAgICAgICAqIEBwYXJhbSB0eXBlcyBhbiBhcnJheSBvZiBvYmplY3Qgc2NoZW1hc1xuICAgICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAgICovXG4gICAgICBzdGF0aWMgY3JlYXRlKGRpc2NyaW1pbmF0b3IsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgICAgICBjb25zdCBvcHRpb25zTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWVzID0gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNoYXBlW2Rpc2NyaW1pbmF0b3JdKTtcbiAgICAgICAgICBpZiAoIWRpc2NyaW1pbmF0b3JWYWx1ZXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBkaXNjcmltaW5hdG9yIHZhbHVlIGZvciBrZXkgXFxgJHtkaXNjcmltaW5hdG9yfVxcYCBjb3VsZCBub3QgYmUgZXh0cmFjdGVkIGZyb20gYWxsIHNjaGVtYSBvcHRpb25zYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgZGlzY3JpbWluYXRvclZhbHVlcykge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnNNYXAuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERpc2NyaW1pbmF0b3IgcHJvcGVydHkgJHtTdHJpbmcoZGlzY3JpbWluYXRvcil9IGhhcyBkdXBsaWNhdGUgdmFsdWUgJHtTdHJpbmcodmFsdWUpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9uc01hcC5zZXQodmFsdWUsIHR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IF9ab2REaXNjcmltaW5hdGVkVW5pb24oe1xuICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uLFxuICAgICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICBvcHRpb25zTWFwLFxuICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuWm9kRGlzY3JpbWluYXRlZFVuaW9uID0gWm9kRGlzY3JpbWluYXRlZFVuaW9uO1xuICAgIGZ1bmN0aW9uIG1lcmdlVmFsdWVzKGEsIGIpIHtcbiAgICAgIGNvbnN0IGFUeXBlID0gKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShhKTtcbiAgICAgIGNvbnN0IGJUeXBlID0gKDAsIHV0aWxfMS5nZXRQYXJzZWRUeXBlKShiKTtcbiAgICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgICB9IGVsc2UgaWYgKGFUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QgJiYgYlR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICBjb25zdCBiS2V5cyA9IHV0aWxfMS51dGlsLm9iamVjdEtleXMoYik7XG4gICAgICAgIGNvbnN0IHNoYXJlZEtleXMgPSB1dGlsXzEudXRpbC5vYmplY3RLZXlzKGEpLmZpbHRlcigoa2V5KSA9PiBiS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKTtcbiAgICAgICAgY29uc3QgbmV3T2JqID0geyAuLi5hLCAuLi5iIH07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXJlZEtleXMpIHtcbiAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGFba2V5XSwgYltrZXldKTtcbiAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3T2JqW2tleV0gPSBzaGFyZWRWYWx1ZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdPYmogfTtcbiAgICAgIH0gZWxzZSBpZiAoYVR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmFycmF5ICYmIGJUeXBlID09PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgY29uc3QgaXRlbUEgPSBhW2luZGV4XTtcbiAgICAgICAgICBjb25zdCBpdGVtQiA9IGJbaW5kZXhdO1xuICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoaXRlbUEsIGl0ZW1CKTtcbiAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3QXJyYXkucHVzaChzaGFyZWRWYWx1ZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3QXJyYXkgfTtcbiAgICAgIH0gZWxzZSBpZiAoYVR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmRhdGUgJiYgYlR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmRhdGUgJiYgK2EgPT09ICtiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFpvZEludGVyc2VjdGlvbiA9IGNsYXNzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgaGFuZGxlUGFyc2VkID0gKHBhcnNlZExlZnQsIHBhcnNlZFJpZ2h0KSA9PiB7XG4gICAgICAgICAgaWYgKCgwLCBwYXJzZVV0aWxfMS5pc0Fib3J0ZWQpKHBhcnNlZExlZnQpIHx8ICgwLCBwYXJzZVV0aWxfMS5pc0Fib3J0ZWQpKHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlVmFsdWVzKHBhcnNlZExlZnQudmFsdWUsIHBhcnNlZFJpZ2h0LnZhbHVlKTtcbiAgICAgICAgICBpZiAoIW1lcmdlZC52YWxpZCkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoMCwgcGFyc2VVdGlsXzEuaXNEaXJ0eSkocGFyc2VkTGVmdCkgfHwgKDAsIHBhcnNlVXRpbF8xLmlzRGlydHkpKHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogbWVyZ2VkLmRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgdGhpcy5fZGVmLmxlZnQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgXSkudGhlbigoW2xlZnQsIHJpZ2h0XSkgPT4gaGFuZGxlUGFyc2VkKGxlZnQsIHJpZ2h0KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGhhbmRsZVBhcnNlZCh0aGlzLl9kZWYubGVmdC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICAgIH0pLCB0aGlzLl9kZWYucmlnaHQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuWm9kSW50ZXJzZWN0aW9uID0gWm9kSW50ZXJzZWN0aW9uO1xuICAgIFpvZEludGVyc2VjdGlvbi5jcmVhdGUgPSAobGVmdCwgcmlnaHQsIHBhcmFtcykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBab2RJbnRlcnNlY3Rpb24oe1xuICAgICAgICBsZWZ0LFxuICAgICAgICByaWdodCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgWm9kVHVwbGUgPSBjbGFzcyBfWm9kVHVwbGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgIG1pbmltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICB0eXBlOiBcImFycmF5XCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN0ID0gdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgIGlmICghcmVzdCAmJiBjdHguZGF0YS5sZW5ndGggPiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICBtYXhpbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbXMgPSBbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaXRlbUluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5fZGVmLml0ZW1zW2l0ZW1JbmRleF0gfHwgdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgICAgaWYgKCFzY2hlbWEpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICByZXR1cm4gc2NoZW1hLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGl0ZW1JbmRleCkpO1xuICAgICAgICB9KS5maWx0ZXIoKHgpID0+ICEheCk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGl0ZW1zKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgaXRlbXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBnZXQgaXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaXRlbXM7XG4gICAgICB9XG4gICAgICByZXN0KHJlc3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfWm9kVHVwbGUoe1xuICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICByZXN0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2RUdXBsZSA9IFpvZFR1cGxlO1xuICAgIFpvZFR1cGxlLmNyZWF0ZSA9IChzY2hlbWFzLCBwYXJhbXMpID0+IHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWFzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IG9mIHNjaGVtYXMgdG8gei50dXBsZShbIC4uLiBdKVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICBpdGVtczogc2NoZW1hcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZSxcbiAgICAgICAgcmVzdDogbnVsbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBab2RSZWNvcmQgPSBjbGFzcyBfWm9kUmVjb3JkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgICBnZXQga2V5U2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICB9XG4gICAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgfVxuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBjdHguZGF0YVtrZXldLCBjdHgucGF0aCwga2V5KSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cy5tZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5QYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgIH1cbiAgICAgIHN0YXRpYyBjcmVhdGUoZmlyc3QsIHNlY29uZCwgdGhpcmQpIHtcbiAgICAgICAgaWYgKHNlY29uZCBpbnN0YW5jZW9mIFpvZFR5cGUpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IF9ab2RSZWNvcmQoe1xuICAgICAgICAgICAga2V5VHlwZTogZmlyc3QsXG4gICAgICAgICAgICB2YWx1ZVR5cGU6IHNlY29uZCxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlyZClcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IF9ab2RSZWNvcmQoe1xuICAgICAgICAgIGtleVR5cGU6IFpvZFN0cmluZy5jcmVhdGUoKSxcbiAgICAgICAgICB2YWx1ZVR5cGU6IGZpcnN0LFxuICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkLFxuICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMoc2Vjb25kKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuWm9kUmVjb3JkID0gWm9kUmVjb3JkO1xuICAgIHZhciBab2RNYXAgPSBjbGFzcyBleHRlbmRzIFpvZFR5cGUge1xuICAgICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgfVxuICAgICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgIH1cbiAgICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm1hcCkge1xuICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLlpvZFBhcnNlZFR5cGUubWFwLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBjb25zdCBwYWlycyA9IFsuLi5jdHguZGF0YS5lbnRyaWVzKCldLm1hcCgoW2tleSwgdmFsdWVdLCBpbmRleCkgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBbaW5kZXgsIFwia2V5XCJdKSksXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBbaW5kZXgsIFwidmFsdWVcIl0pKVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhaXIua2V5O1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuWm9kTWFwID0gWm9kTWFwO1xuICAgIFpvZE1hcC5jcmVhdGUgPSAoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgWm9kTWFwKHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICBrZXlUeXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBab2RTZXQgPSBjbGFzcyBfWm9kU2V0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zZXQpIHtcbiAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnNldCxcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuX2RlZjtcbiAgICAgICAgaWYgKGRlZi5taW5TaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPCBkZWYubWluU2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluU2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5TaXplLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4U2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplID4gZGVmLm1heFNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhTaXplLnZhbHVlLFxuICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heFNpemUubWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgZnVuY3Rpb24gZmluYWxpemVTZXQoZWxlbWVudHMyKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkU2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMyKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIHBhcnNlZFNldC5hZGQoZWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcGFyc2VkU2V0IH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbLi4uY3R4LmRhdGEudmFsdWVzKCldLm1hcCgoaXRlbSwgaSkgPT4gdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKSk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGVsZW1lbnRzKS50aGVuKChlbGVtZW50czIpID0+IGZpbmFsaXplU2V0KGVsZW1lbnRzMikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmaW5hbGl6ZVNldChlbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1pbihtaW5TaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX1pvZFNldCh7XG4gICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgIG1pblNpemU6IHsgdmFsdWU6IG1pblNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbF8xLmVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbWF4KG1heFNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfWm9kU2V0KHtcbiAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgbWF4U2l6ZTogeyB2YWx1ZTogbWF4U2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsXzEuZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBzaXplKHNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKHNpemUsIG1lc3NhZ2UpLm1heChzaXplLCBtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2RTZXQgPSBab2RTZXQ7XG4gICAgWm9kU2V0LmNyZWF0ZSA9ICh2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIG1pblNpemU6IG51bGwsXG4gICAgICAgIG1heFNpemU6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIFpvZEZ1bmN0aW9uID0gY2xhc3MgX1pvZEZ1bmN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSA9IHRoaXMuaW1wbGVtZW50O1xuICAgICAgfVxuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLmZ1bmN0aW9uKSB7XG4gICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5mdW5jdGlvbixcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VBcmdzSXNzdWUoYXJncywgZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLm1ha2VJc3N1ZSkoe1xuICAgICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgICBjdHguc2NoZW1hRXJyb3JNYXAsXG4gICAgICAgICAgICAgICgwLCBlcnJvcnNfMS5nZXRFcnJvck1hcCkoKSxcbiAgICAgICAgICAgICAgZXJyb3JzXzEuZGVmYXVsdEVycm9yTWFwXG4gICAgICAgICAgICBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50cyxcbiAgICAgICAgICAgICAgYXJndW1lbnRzRXJyb3I6IGVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZVJldHVybnNJc3N1ZShyZXR1cm5zLCBlcnJvcikge1xuICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEubWFrZUlzc3VlKSh7XG4gICAgICAgICAgICBkYXRhOiByZXR1cm5zLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgICAgY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCxcbiAgICAgICAgICAgICAgKDAsIGVycm9yc18xLmdldEVycm9yTWFwKSgpLFxuICAgICAgICAgICAgICBlcnJvcnNfMS5kZWZhdWx0RXJyb3JNYXBcbiAgICAgICAgICAgIF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGUsXG4gICAgICAgICAgICAgIHJldHVyblR5cGVFcnJvcjogZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7IGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCB9O1xuICAgICAgICBjb25zdCBmbiA9IGN0eC5kYXRhO1xuICAgICAgICBpZiAodGhpcy5fZGVmLnJldHVybnMgaW5zdGFuY2VvZiBab2RQcm9taXNlKSB7XG4gICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGFzeW5jIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IoW10pO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IGF3YWl0IG1lLl9kZWYuYXJncy5wYXJzZUFzeW5jKGFyZ3MsIHBhcmFtcykuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZUFyZ3NJc3N1ZShhcmdzLCBlKSk7XG4gICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBhd2FpdCBtZS5fZGVmLnJldHVybnMuX2RlZi50eXBlLnBhcnNlQXN5bmMocmVzdWx0LCBwYXJhbXMpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIGVycm9yLmFkZElzc3VlKG1ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBlKSk7XG4gICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykoZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IG1lLl9kZWYuYXJncy5zYWZlUGFyc2UoYXJncywgcGFyYW1zKTtcbiAgICAgICAgICAgIGlmICghcGFyc2VkQXJncy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcl8xLlpvZEVycm9yKFttYWtlQXJnc0lzc3VlKGFyZ3MsIHBhcnNlZEFyZ3MuZXJyb3IpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzLmRhdGEpO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IG1lLl9kZWYucmV0dXJucy5zYWZlUGFyc2UocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICAgICAgaWYgKCFwYXJzZWRSZXR1cm5zLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IoW21ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBwYXJzZWRSZXR1cm5zLmVycm9yKV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnMuZGF0YTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcGFyYW1ldGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5hcmdzO1xuICAgICAgfVxuICAgICAgcmV0dXJuVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5yZXR1cm5zO1xuICAgICAgfVxuICAgICAgYXJncyguLi5pdGVtcykge1xuICAgICAgICByZXR1cm4gbmV3IF9ab2RGdW5jdGlvbih7XG4gICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgIGFyZ3M6IFpvZFR1cGxlLmNyZWF0ZShpdGVtcykucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybnMocmV0dXJuVHlwZSkge1xuICAgICAgICByZXR1cm4gbmV3IF9ab2RGdW5jdGlvbih7XG4gICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgIHJldHVybnM6IHJldHVyblR5cGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgICB9XG4gICAgICBzdHJpY3RJbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgICB9XG4gICAgICBzdGF0aWMgY3JlYXRlKGFyZ3MsIHJldHVybnMsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gbmV3IF9ab2RGdW5jdGlvbih7XG4gICAgICAgICAgYXJnczogYXJncyA/IGFyZ3MgOiBab2RUdXBsZS5jcmVhdGUoW10pLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSksXG4gICAgICAgICAgcmV0dXJuczogcmV0dXJucyB8fCBab2RVbmtub3duLmNyZWF0ZSgpLFxuICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb24sXG4gICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2RGdW5jdGlvbiA9IFpvZEZ1bmN0aW9uO1xuICAgIHZhciBab2RMYXp5ID0gY2xhc3MgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgICB9XG4gICAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGxhenlTY2hlbWEgPSB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgICAgIHJldHVybiBsYXp5U2NoZW1hLl9wYXJzZSh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlpvZExhenkgPSBab2RMYXp5O1xuICAgIFpvZExhenkuY3JlYXRlID0gKGdldHRlciwgcGFyYW1zKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFpvZExhenkoe1xuICAgICAgICBnZXR0ZXIsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBab2RMaXRlcmFsID0gY2xhc3MgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuZGF0YSAhPT0gdGhpcy5fZGVmLnZhbHVlKSB7XG4gICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWwsXG4gICAgICAgICAgICBleHBlY3RlZDogdGhpcy5fZGVmLnZhbHVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgICB9XG4gICAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWU7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlpvZExpdGVyYWwgPSBab2RMaXRlcmFsO1xuICAgIFpvZExpdGVyYWwuY3JlYXRlID0gKHZhbHVlLCBwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgWm9kTGl0ZXJhbCh7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBjcmVhdGVab2RFbnVtKHZhbHVlcywgcGFyYW1zKSB7XG4gICAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgICB9KTtcbiAgICB9XG4gICAgdmFyIFpvZEVudW0gPSBjbGFzcyBfWm9kRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEudXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kZWYudmFsdWVzLmluZGV4T2YoaW5wdXQuZGF0YSkgPT09IC0xKSB7XG4gICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLk9LKShpbnB1dC5kYXRhKTtcbiAgICAgIH1cbiAgICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgIH1cbiAgICAgIGdldCBlbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgICB9XG4gICAgICBnZXQgVmFsdWVzKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgICB9XG4gICAgICBnZXQgRW51bSgpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgICAgfVxuICAgICAgZXh0cmFjdCh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIF9ab2RFbnVtLmNyZWF0ZSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgZXhjbHVkZSh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIF9ab2RFbnVtLmNyZWF0ZSh0aGlzLm9wdGlvbnMuZmlsdGVyKChvcHQpID0+ICF2YWx1ZXMuaW5jbHVkZXMob3B0KSkpO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2RFbnVtID0gWm9kRW51bTtcbiAgICBab2RFbnVtLmNyZWF0ZSA9IGNyZWF0ZVpvZEVudW07XG4gICAgdmFyIFpvZE5hdGl2ZUVudW0gPSBjbGFzcyBleHRlbmRzIFpvZFR5cGUge1xuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVudW1WYWx1ZXMgPSB1dGlsXzEudXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcyk7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5zdHJpbmcgJiYgY3R4LnBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbF8xLnV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICBleHBlY3RlZDogdXRpbF8xLnV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmF0aXZlRW51bVZhbHVlcy5pbmRleE9mKGlucHV0LmRhdGEpID09PSAtMSkge1xuICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbF8xLnV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCB7XG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICBjb2RlOiBab2RFcnJvcl8xLlpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlc1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKGlucHV0LmRhdGEpO1xuICAgICAgfVxuICAgICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2ROYXRpdmVFbnVtID0gWm9kTmF0aXZlRW51bTtcbiAgICBab2ROYXRpdmVFbnVtLmNyZWF0ZSA9ICh2YWx1ZXMsIHBhcmFtcykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBab2ROYXRpdmVFbnVtKHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgWm9kUHJvbWlzZSA9IGNsYXNzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICAgIH1cbiAgICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSB1dGlsXzEuWm9kUGFyc2VkVHlwZS5wcm9taXNlICYmIGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgKDAsIHBhcnNlVXRpbF8xLmFkZElzc3VlVG9Db250ZXh0KShjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZEVycm9yXzEuWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsXzEuWm9kUGFyc2VkVHlwZS5wcm9taXNlLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbWlzaWZpZWQgPSBjdHgucGFyc2VkVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUucHJvbWlzZSA/IGN0eC5kYXRhIDogUHJvbWlzZS5yZXNvbHZlKGN0eC5kYXRhKTtcbiAgICAgICAgcmV0dXJuICgwLCBwYXJzZVV0aWxfMS5PSykocHJvbWlzaWZpZWQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5wYXJzZUFzeW5jKGRhdGEsIHtcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuWm9kUHJvbWlzZSA9IFpvZFByb21pc2U7XG4gICAgWm9kUHJvbWlzZS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgWm9kUHJvbWlzZSh7XG4gICAgICAgIHR5cGU6IHNjaGVtYSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIFpvZEVmZmVjdHMgPSBjbGFzcyBleHRlbmRzIFpvZFR5cGUge1xuICAgICAgaW5uZXJUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYTtcbiAgICAgIH1cbiAgICAgIHNvdXJjZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzID8gdGhpcy5fZGVmLnNjaGVtYS5zb3VyY2VUeXBlKCkgOiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgICAgfVxuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IHRoaXMuX2RlZi5lZmZlY3QgfHwgbnVsbDtcbiAgICAgICAgY29uc3QgY2hlY2tDdHggPSB7XG4gICAgICAgICAgYWRkSXNzdWU6IChhcmcpID0+IHtcbiAgICAgICAgICAgICgwLCBwYXJzZVV0aWxfMS5hZGRJc3N1ZVRvQ29udGV4dCkoY3R4LCBhcmcpO1xuICAgICAgICAgICAgaWYgKGFyZy5mYXRhbCkge1xuICAgICAgICAgICAgICBzdGF0dXMuYWJvcnQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3R4LnBhdGg7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjaGVja0N0eC5hZGRJc3N1ZSA9IGNoZWNrQ3R4LmFkZElzc3VlLmJpbmQoY2hlY2tDdHgpO1xuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicHJlcHJvY2Vzc1wiKSB7XG4gICAgICAgICAgY29uc3QgcHJvY2Vzc2VkID0gZWZmZWN0LnRyYW5zZm9ybShjdHguZGF0YSwgY2hlY2tDdHgpO1xuICAgICAgICAgIGlmIChjdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHN0YXR1czogXCJkaXJ0eVwiLFxuICAgICAgICAgICAgICB2YWx1ZTogY3R4LmRhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHByb2Nlc3NlZCkudGhlbigocHJvY2Vzc2VkMikgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkMixcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicmVmaW5lbWVudFwiKSB7XG4gICAgICAgICAgY29uc3QgZXhlY3V0ZVJlZmluZW1lbnQgPSAoYWNjKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QucmVmaW5lbWVudChhY2MsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFzeW5jIHJlZmluZW1lbnQgZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBleGVjdXRlUmVmaW5lbWVudChpbm5lci52YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyLnZhbHVlIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChpbm5lcikgPT4ge1xuICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VVdGlsXzEuSU5WQUxJRDtcbiAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoISgwLCBwYXJzZVV0aWxfMS5pc1ZhbGlkKShiYXNlKSlcbiAgICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXN5bmNocm9ub3VzIHRyYW5zZm9ybSBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcmVzdWx0IH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChiYXNlKSA9PiB7XG4gICAgICAgICAgICAgIGlmICghKDAsIHBhcnNlVXRpbF8xLmlzVmFsaWQpKGJhc2UpKVxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGVmZmVjdC50cmFuc2Zvcm0oYmFzZS52YWx1ZSwgY2hlY2tDdHgpKS50aGVuKChyZXN1bHQpID0+ICh7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcmVzdWx0IH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB1dGlsXzEudXRpbC5hc3NlcnROZXZlcihlZmZlY3QpO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2RFZmZlY3RzID0gWm9kRWZmZWN0cztcbiAgICBleHBvcnRzLlpvZFRyYW5zZm9ybWVyID0gWm9kRWZmZWN0cztcbiAgICBab2RFZmZlY3RzLmNyZWF0ZSA9IChzY2hlbWEsIGVmZmVjdCwgcGFyYW1zKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgZWZmZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcylcbiAgICAgIH0pO1xuICAgIH07XG4gICAgWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcyA9IChwcmVwcm9jZXNzLCBzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJwcmVwcm9jZXNzXCIsIHRyYW5zZm9ybTogcHJlcHJvY2VzcyB9LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgWm9kT3B0aW9uYWwgPSBjbGFzcyBleHRlbmRzIFpvZFR5cGUge1xuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKHZvaWQgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICAgIH1cbiAgICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlpvZE9wdGlvbmFsID0gWm9kT3B0aW9uYWw7XG4gICAgWm9kT3B0aW9uYWwuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBab2RPcHRpb25hbCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBab2ROdWxsYWJsZSA9IGNsYXNzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgIHJldHVybiAoMCwgcGFyc2VVdGlsXzEuT0spKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgICB9XG4gICAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2ROdWxsYWJsZSA9IFpvZE51bGxhYmxlO1xuICAgIFpvZE51bGxhYmxlLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgWm9kTnVsbGFibGUoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbGFibGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgWm9kRGVmYXVsdCA9IGNsYXNzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGxldCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSA9PT0gdXRpbF8xLlpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgZGF0YSA9IHRoaXMuX2RlZi5kZWZhdWx0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZW1vdmVEZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuWm9kRGVmYXVsdCA9IFpvZERlZmF1bHQ7XG4gICAgWm9kRGVmYXVsdC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0eXBlb2YgcGFyYW1zLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5kZWZhdWx0IDogKCkgPT4gcGFyYW1zLmRlZmF1bHQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgWm9kQ2F0Y2ggPSBjbGFzcyBleHRlbmRzIFpvZFR5cGUge1xuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBuZXdDdHggPSB7XG4gICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgIGlzc3VlczogW11cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgICBkYXRhOiBuZXdDdHguZGF0YSxcbiAgICAgICAgICBwYXRoOiBuZXdDdHgucGF0aCxcbiAgICAgICAgICBwYXJlbnQ6IHtcbiAgICAgICAgICAgIC4uLm5ld0N0eFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICgoMCwgcGFyc2VVdGlsXzEuaXNBc3luYykocmVzdWx0KSkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0MikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQyLnN0YXR1cyA9PT0gXCJ2YWxpZFwiID8gcmVzdWx0Mi52YWx1ZSA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIgPyByZXN1bHQudmFsdWUgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yXzEuWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVtb3ZlQ2F0Y2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2RDYXRjaCA9IFpvZENhdGNoO1xuICAgIFpvZENhdGNoLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgICAgIGNhdGNoVmFsdWU6IHR5cGVvZiBwYXJhbXMuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5jYXRjaCA6ICgpID0+IHBhcmFtcy5jYXRjaCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBab2ROYU4gPSBjbGFzcyBleHRlbmRzIFpvZFR5cGUge1xuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm5hbikge1xuICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAoMCwgcGFyc2VVdGlsXzEuYWRkSXNzdWVUb0NvbnRleHQpKGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kRXJyb3JfMS5ab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWxfMS5ab2RQYXJzZWRUeXBlLm5hbixcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2ROYU4gPSBab2ROYU47XG4gICAgWm9kTmFOLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgWm9kTmFOKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU4sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBleHBvcnRzLkJSQU5EID0gU3ltYm9sKFwiem9kX2JyYW5kXCIpO1xuICAgIHZhciBab2RCcmFuZGVkID0gY2xhc3MgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUuX3BhcnNlKHtcbiAgICAgICAgICBkYXRhLFxuICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlpvZEJyYW5kZWQgPSBab2RCcmFuZGVkO1xuICAgIHZhciBab2RQaXBlbGluZSA9IGNsYXNzIF9ab2RQaXBlbGluZSBleHRlbmRzIFpvZFR5cGUge1xuICAgICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgY29uc3QgaGFuZGxlQXN5bmMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5pbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgIHJldHVybiBwYXJzZVV0aWxfMS5JTlZBTElEO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICByZXR1cm4gKDAsIHBhcnNlVXRpbF8xLkRJUlRZKShpblJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHhcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gaGFuZGxlQXN5bmMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IHRoaXMuX2RlZi5pbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHN0YXR1czogXCJkaXJ0eVwiLFxuICAgICAgICAgICAgICB2YWx1ZTogaW5SZXN1bHQudmFsdWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgIHBhcmVudDogY3R4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YXRpYyBjcmVhdGUoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IF9ab2RQaXBlbGluZSh7XG4gICAgICAgICAgaW46IGEsXG4gICAgICAgICAgb3V0OiBiLFxuICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLlpvZFBpcGVsaW5lID0gWm9kUGlwZWxpbmU7XG4gICAgdmFyIFpvZFJlYWRvbmx5ID0gY2xhc3MgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGlmICgoMCwgcGFyc2VVdGlsXzEuaXNWYWxpZCkocmVzdWx0KSkge1xuICAgICAgICAgIHJlc3VsdC52YWx1ZSA9IE9iamVjdC5mcmVlemUocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5ab2RSZWFkb25seSA9IFpvZFJlYWRvbmx5O1xuICAgIFpvZFJlYWRvbmx5LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICAgIHJldHVybiBuZXcgWm9kUmVhZG9ubHkoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgY3VzdG9tID0gKGNoZWNrLCBwYXJhbXMgPSB7fSwgZmF0YWwpID0+IHtcbiAgICAgIGlmIChjaGVjaylcbiAgICAgICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKS5zdXBlclJlZmluZSgoZGF0YSwgY3R4KSA9PiB7XG4gICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICBpZiAoIWNoZWNrKGRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gdHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zKGRhdGEpIDogdHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZTogcGFyYW1zIH0gOiBwYXJhbXM7XG4gICAgICAgICAgICBjb25zdCBfZmF0YWwgPSAoX2IgPSAoX2EgPSBwLmZhdGFsKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYXRhbCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHAyID0gdHlwZW9mIHAgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHAgfSA6IHA7XG4gICAgICAgICAgICBjdHguYWRkSXNzdWUoeyBjb2RlOiBcImN1c3RvbVwiLCAuLi5wMiwgZmF0YWw6IF9mYXRhbCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY3VzdG9tID0gY3VzdG9tO1xuICAgIGV4cG9ydHMubGF0ZSA9IHtcbiAgICAgIG9iamVjdDogWm9kT2JqZWN0LmxhenljcmVhdGVcbiAgICB9O1xuICAgIHZhciBab2RGaXJzdFBhcnR5VHlwZUtpbmQ7XG4gICAgKGZ1bmN0aW9uKFpvZEZpcnN0UGFydHlUeXBlS2luZDIpIHtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RTdHJpbmdcIl0gPSBcIlpvZFN0cmluZ1wiO1xuICAgICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE51bWJlclwiXSA9IFwiWm9kTnVtYmVyXCI7XG4gICAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kTmFOXCJdID0gXCJab2ROYU5cIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RCaWdJbnRcIl0gPSBcIlpvZEJpZ0ludFwiO1xuICAgICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZEJvb2xlYW5cIl0gPSBcIlpvZEJvb2xlYW5cIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2REYXRlXCJdID0gXCJab2REYXRlXCI7XG4gICAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kU3ltYm9sXCJdID0gXCJab2RTeW1ib2xcIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RVbmRlZmluZWRcIl0gPSBcIlpvZFVuZGVmaW5lZFwiO1xuICAgICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE51bGxcIl0gPSBcIlpvZE51bGxcIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RBbnlcIl0gPSBcIlpvZEFueVwiO1xuICAgICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFVua25vd25cIl0gPSBcIlpvZFVua25vd25cIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2ROZXZlclwiXSA9IFwiWm9kTmV2ZXJcIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RWb2lkXCJdID0gXCJab2RWb2lkXCI7XG4gICAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kQXJyYXlcIl0gPSBcIlpvZEFycmF5XCI7XG4gICAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kT2JqZWN0XCJdID0gXCJab2RPYmplY3RcIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RVbmlvblwiXSA9IFwiWm9kVW5pb25cIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2REaXNjcmltaW5hdGVkVW5pb25cIl0gPSBcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiO1xuICAgICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZEludGVyc2VjdGlvblwiXSA9IFwiWm9kSW50ZXJzZWN0aW9uXCI7XG4gICAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kVHVwbGVcIl0gPSBcIlpvZFR1cGxlXCI7XG4gICAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kUmVjb3JkXCJdID0gXCJab2RSZWNvcmRcIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RNYXBcIl0gPSBcIlpvZE1hcFwiO1xuICAgICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZFNldFwiXSA9IFwiWm9kU2V0XCI7XG4gICAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kRnVuY3Rpb25cIl0gPSBcIlpvZEZ1bmN0aW9uXCI7XG4gICAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kTGF6eVwiXSA9IFwiWm9kTGF6eVwiO1xuICAgICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZExpdGVyYWxcIl0gPSBcIlpvZExpdGVyYWxcIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RFbnVtXCJdID0gXCJab2RFbnVtXCI7XG4gICAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kRWZmZWN0c1wiXSA9IFwiWm9kRWZmZWN0c1wiO1xuICAgICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZE5hdGl2ZUVudW1cIl0gPSBcIlpvZE5hdGl2ZUVudW1cIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RPcHRpb25hbFwiXSA9IFwiWm9kT3B0aW9uYWxcIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2ROdWxsYWJsZVwiXSA9IFwiWm9kTnVsbGFibGVcIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2REZWZhdWx0XCJdID0gXCJab2REZWZhdWx0XCI7XG4gICAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kQ2F0Y2hcIl0gPSBcIlpvZENhdGNoXCI7XG4gICAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmQyW1wiWm9kUHJvbWlzZVwiXSA9IFwiWm9kUHJvbWlzZVwiO1xuICAgICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kMltcIlpvZEJyYW5kZWRcIl0gPSBcIlpvZEJyYW5kZWRcIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RQaXBlbGluZVwiXSA9IFwiWm9kUGlwZWxpbmVcIjtcbiAgICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZDJbXCJab2RSZWFkb25seVwiXSA9IFwiWm9kUmVhZG9ubHlcIjtcbiAgICB9KShab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSBleHBvcnRzLlpvZEZpcnN0UGFydHlUeXBlS2luZCB8fCAoZXhwb3J0cy5ab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuICAgIHZhciBpbnN0YW5jZU9mVHlwZSA9IChjbHMsIHBhcmFtcyA9IHtcbiAgICAgIG1lc3NhZ2U6IGBJbnB1dCBub3QgaW5zdGFuY2Ugb2YgJHtjbHMubmFtZX1gXG4gICAgfSkgPT4gKDAsIGV4cG9ydHMuY3VzdG9tKSgoZGF0YSkgPT4gZGF0YSBpbnN0YW5jZW9mIGNscywgcGFyYW1zKTtcbiAgICBleHBvcnRzLmluc3RhbmNlb2YgPSBpbnN0YW5jZU9mVHlwZTtcbiAgICB2YXIgc3RyaW5nVHlwZSA9IFpvZFN0cmluZy5jcmVhdGU7XG4gICAgZXhwb3J0cy5zdHJpbmcgPSBzdHJpbmdUeXBlO1xuICAgIHZhciBudW1iZXJUeXBlID0gWm9kTnVtYmVyLmNyZWF0ZTtcbiAgICBleHBvcnRzLm51bWJlciA9IG51bWJlclR5cGU7XG4gICAgdmFyIG5hblR5cGUgPSBab2ROYU4uY3JlYXRlO1xuICAgIGV4cG9ydHMubmFuID0gbmFuVHlwZTtcbiAgICB2YXIgYmlnSW50VHlwZSA9IFpvZEJpZ0ludC5jcmVhdGU7XG4gICAgZXhwb3J0cy5iaWdpbnQgPSBiaWdJbnRUeXBlO1xuICAgIHZhciBib29sZWFuVHlwZSA9IFpvZEJvb2xlYW4uY3JlYXRlO1xuICAgIGV4cG9ydHMuYm9vbGVhbiA9IGJvb2xlYW5UeXBlO1xuICAgIHZhciBkYXRlVHlwZSA9IFpvZERhdGUuY3JlYXRlO1xuICAgIGV4cG9ydHMuZGF0ZSA9IGRhdGVUeXBlO1xuICAgIHZhciBzeW1ib2xUeXBlID0gWm9kU3ltYm9sLmNyZWF0ZTtcbiAgICBleHBvcnRzLnN5bWJvbCA9IHN5bWJvbFR5cGU7XG4gICAgdmFyIHVuZGVmaW5lZFR5cGUgPSBab2RVbmRlZmluZWQuY3JlYXRlO1xuICAgIGV4cG9ydHMudW5kZWZpbmVkID0gdW5kZWZpbmVkVHlwZTtcbiAgICB2YXIgbnVsbFR5cGUgPSBab2ROdWxsLmNyZWF0ZTtcbiAgICBleHBvcnRzLm51bGwgPSBudWxsVHlwZTtcbiAgICB2YXIgYW55VHlwZSA9IFpvZEFueS5jcmVhdGU7XG4gICAgZXhwb3J0cy5hbnkgPSBhbnlUeXBlO1xuICAgIHZhciB1bmtub3duVHlwZSA9IFpvZFVua25vd24uY3JlYXRlO1xuICAgIGV4cG9ydHMudW5rbm93biA9IHVua25vd25UeXBlO1xuICAgIHZhciBuZXZlclR5cGUgPSBab2ROZXZlci5jcmVhdGU7XG4gICAgZXhwb3J0cy5uZXZlciA9IG5ldmVyVHlwZTtcbiAgICB2YXIgdm9pZFR5cGUgPSBab2RWb2lkLmNyZWF0ZTtcbiAgICBleHBvcnRzLnZvaWQgPSB2b2lkVHlwZTtcbiAgICB2YXIgYXJyYXlUeXBlID0gWm9kQXJyYXkuY3JlYXRlO1xuICAgIGV4cG9ydHMuYXJyYXkgPSBhcnJheVR5cGU7XG4gICAgdmFyIG9iamVjdFR5cGUgPSBab2RPYmplY3QuY3JlYXRlO1xuICAgIGV4cG9ydHMub2JqZWN0ID0gb2JqZWN0VHlwZTtcbiAgICB2YXIgc3RyaWN0T2JqZWN0VHlwZSA9IFpvZE9iamVjdC5zdHJpY3RDcmVhdGU7XG4gICAgZXhwb3J0cy5zdHJpY3RPYmplY3QgPSBzdHJpY3RPYmplY3RUeXBlO1xuICAgIHZhciB1bmlvblR5cGUgPSBab2RVbmlvbi5jcmVhdGU7XG4gICAgZXhwb3J0cy51bmlvbiA9IHVuaW9uVHlwZTtcbiAgICB2YXIgZGlzY3JpbWluYXRlZFVuaW9uVHlwZSA9IFpvZERpc2NyaW1pbmF0ZWRVbmlvbi5jcmVhdGU7XG4gICAgZXhwb3J0cy5kaXNjcmltaW5hdGVkVW5pb24gPSBkaXNjcmltaW5hdGVkVW5pb25UeXBlO1xuICAgIHZhciBpbnRlcnNlY3Rpb25UeXBlID0gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZTtcbiAgICBleHBvcnRzLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvblR5cGU7XG4gICAgdmFyIHR1cGxlVHlwZSA9IFpvZFR1cGxlLmNyZWF0ZTtcbiAgICBleHBvcnRzLnR1cGxlID0gdHVwbGVUeXBlO1xuICAgIHZhciByZWNvcmRUeXBlID0gWm9kUmVjb3JkLmNyZWF0ZTtcbiAgICBleHBvcnRzLnJlY29yZCA9IHJlY29yZFR5cGU7XG4gICAgdmFyIG1hcFR5cGUgPSBab2RNYXAuY3JlYXRlO1xuICAgIGV4cG9ydHMubWFwID0gbWFwVHlwZTtcbiAgICB2YXIgc2V0VHlwZSA9IFpvZFNldC5jcmVhdGU7XG4gICAgZXhwb3J0cy5zZXQgPSBzZXRUeXBlO1xuICAgIHZhciBmdW5jdGlvblR5cGUgPSBab2RGdW5jdGlvbi5jcmVhdGU7XG4gICAgZXhwb3J0cy5mdW5jdGlvbiA9IGZ1bmN0aW9uVHlwZTtcbiAgICB2YXIgbGF6eVR5cGUgPSBab2RMYXp5LmNyZWF0ZTtcbiAgICBleHBvcnRzLmxhenkgPSBsYXp5VHlwZTtcbiAgICB2YXIgbGl0ZXJhbFR5cGUgPSBab2RMaXRlcmFsLmNyZWF0ZTtcbiAgICBleHBvcnRzLmxpdGVyYWwgPSBsaXRlcmFsVHlwZTtcbiAgICB2YXIgZW51bVR5cGUgPSBab2RFbnVtLmNyZWF0ZTtcbiAgICBleHBvcnRzLmVudW0gPSBlbnVtVHlwZTtcbiAgICB2YXIgbmF0aXZlRW51bVR5cGUgPSBab2ROYXRpdmVFbnVtLmNyZWF0ZTtcbiAgICBleHBvcnRzLm5hdGl2ZUVudW0gPSBuYXRpdmVFbnVtVHlwZTtcbiAgICB2YXIgcHJvbWlzZVR5cGUgPSBab2RQcm9taXNlLmNyZWF0ZTtcbiAgICBleHBvcnRzLnByb21pc2UgPSBwcm9taXNlVHlwZTtcbiAgICB2YXIgZWZmZWN0c1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZTtcbiAgICBleHBvcnRzLmVmZmVjdCA9IGVmZmVjdHNUeXBlO1xuICAgIGV4cG9ydHMudHJhbnNmb3JtZXIgPSBlZmZlY3RzVHlwZTtcbiAgICB2YXIgb3B0aW9uYWxUeXBlID0gWm9kT3B0aW9uYWwuY3JlYXRlO1xuICAgIGV4cG9ydHMub3B0aW9uYWwgPSBvcHRpb25hbFR5cGU7XG4gICAgdmFyIG51bGxhYmxlVHlwZSA9IFpvZE51bGxhYmxlLmNyZWF0ZTtcbiAgICBleHBvcnRzLm51bGxhYmxlID0gbnVsbGFibGVUeXBlO1xuICAgIHZhciBwcmVwcm9jZXNzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3M7XG4gICAgZXhwb3J0cy5wcmVwcm9jZXNzID0gcHJlcHJvY2Vzc1R5cGU7XG4gICAgdmFyIHBpcGVsaW5lVHlwZSA9IFpvZFBpcGVsaW5lLmNyZWF0ZTtcbiAgICBleHBvcnRzLnBpcGVsaW5lID0gcGlwZWxpbmVUeXBlO1xuICAgIHZhciBvc3RyaW5nID0gKCkgPT4gc3RyaW5nVHlwZSgpLm9wdGlvbmFsKCk7XG4gICAgZXhwb3J0cy5vc3RyaW5nID0gb3N0cmluZztcbiAgICB2YXIgb251bWJlciA9ICgpID0+IG51bWJlclR5cGUoKS5vcHRpb25hbCgpO1xuICAgIGV4cG9ydHMub251bWJlciA9IG9udW1iZXI7XG4gICAgdmFyIG9ib29sZWFuID0gKCkgPT4gYm9vbGVhblR5cGUoKS5vcHRpb25hbCgpO1xuICAgIGV4cG9ydHMub2Jvb2xlYW4gPSBvYm9vbGVhbjtcbiAgICBleHBvcnRzLmNvZXJjZSA9IHtcbiAgICAgIHN0cmluZzogKGFyZykgPT4gWm9kU3RyaW5nLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pLFxuICAgICAgbnVtYmVyOiAoYXJnKSA9PiBab2ROdW1iZXIuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSksXG4gICAgICBib29sZWFuOiAoYXJnKSA9PiBab2RCb29sZWFuLmNyZWF0ZSh7XG4gICAgICAgIC4uLmFyZyxcbiAgICAgICAgY29lcmNlOiB0cnVlXG4gICAgICB9KSxcbiAgICAgIGJpZ2ludDogKGFyZykgPT4gWm9kQmlnSW50LmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pLFxuICAgICAgZGF0ZTogKGFyZykgPT4gWm9kRGF0ZS5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KVxuICAgIH07XG4gICAgZXhwb3J0cy5ORVZFUiA9IHBhcnNlVXRpbF8xLklOVkFMSUQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvem9kL2xpYi9leHRlcm5hbC5qc1xudmFyIHJlcXVpcmVfZXh0ZXJuYWwgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvem9kL2xpYi9leHRlcm5hbC5qc1wiKGV4cG9ydHMpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgX19jcmVhdGVCaW5kaW5nID0gZXhwb3J0cyAmJiBleHBvcnRzLl9fY3JlYXRlQmluZGluZyB8fCAoT2JqZWN0LmNyZWF0ZSA/IGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgICBpZiAoazIgPT09IHZvaWQgMClcbiAgICAgICAgazIgPSBrO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBtW2tdO1xuICAgICAgfSB9KTtcbiAgICB9IDogZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICAgIGlmIChrMiA9PT0gdm9pZCAwKVxuICAgICAgICBrMiA9IGs7XG4gICAgICBvW2syXSA9IG1ba107XG4gICAgfSk7XG4gICAgdmFyIF9fZXhwb3J0U3RhciA9IGV4cG9ydHMgJiYgZXhwb3J0cy5fX2V4cG9ydFN0YXIgfHwgZnVuY3Rpb24obSwgZXhwb3J0czIpIHtcbiAgICAgIGZvciAodmFyIHAgaW4gbSlcbiAgICAgICAgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXhwb3J0czIsIHApKVxuICAgICAgICAgIF9fY3JlYXRlQmluZGluZyhleHBvcnRzMiwgbSwgcCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgX19leHBvcnRTdGFyKHJlcXVpcmVfZXJyb3JzKCksIGV4cG9ydHMpO1xuICAgIF9fZXhwb3J0U3RhcihyZXF1aXJlX3BhcnNlVXRpbCgpLCBleHBvcnRzKTtcbiAgICBfX2V4cG9ydFN0YXIocmVxdWlyZV90eXBlQWxpYXNlcygpLCBleHBvcnRzKTtcbiAgICBfX2V4cG9ydFN0YXIocmVxdWlyZV91dGlsKCksIGV4cG9ydHMpO1xuICAgIF9fZXhwb3J0U3RhcihyZXF1aXJlX3R5cGVzKCksIGV4cG9ydHMpO1xuICAgIF9fZXhwb3J0U3RhcihyZXF1aXJlX1pvZEVycm9yKCksIGV4cG9ydHMpO1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC9saWIvaW5kZXguanNcbnZhciByZXF1aXJlX2xpYiA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy96b2QvbGliL2luZGV4LmpzXCIoZXhwb3J0cykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBleHBvcnRzICYmIGV4cG9ydHMuX19jcmVhdGVCaW5kaW5nIHx8IChPYmplY3QuY3JlYXRlID8gZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICAgIGlmIChrMiA9PT0gdm9pZCAwKVxuICAgICAgICBrMiA9IGs7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG1ba107XG4gICAgICB9IH0pO1xuICAgIH0gOiBmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgICAgaWYgKGsyID09PSB2b2lkIDApXG4gICAgICAgIGsyID0gaztcbiAgICAgIG9bazJdID0gbVtrXTtcbiAgICB9KTtcbiAgICB2YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gZXhwb3J0cyAmJiBleHBvcnRzLl9fc2V0TW9kdWxlRGVmYXVsdCB8fCAoT2JqZWN0LmNyZWF0ZSA/IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbiAgICB9IDogZnVuY3Rpb24obywgdikge1xuICAgICAgb1tcImRlZmF1bHRcIl0gPSB2O1xuICAgIH0pO1xuICAgIHZhciBfX2ltcG9ydFN0YXIgPSBleHBvcnRzICYmIGV4cG9ydHMuX19pbXBvcnRTdGFyIHx8IGZ1bmN0aW9uKG1vZCkge1xuICAgICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSlcbiAgICAgICAgcmV0dXJuIG1vZDtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGlmIChtb2QgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrIGluIG1vZClcbiAgICAgICAgICBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpXG4gICAgICAgICAgICBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICAgICAgfVxuICAgICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICB2YXIgX19leHBvcnRTdGFyID0gZXhwb3J0cyAmJiBleHBvcnRzLl9fZXhwb3J0U3RhciB8fCBmdW5jdGlvbihtLCBleHBvcnRzMikge1xuICAgICAgZm9yICh2YXIgcCBpbiBtKVxuICAgICAgICBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzMiwgcCkpXG4gICAgICAgICAgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMyLCBtLCBwKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICBleHBvcnRzLnogPSB2b2lkIDA7XG4gICAgdmFyIHogPSBfX2ltcG9ydFN0YXIocmVxdWlyZV9leHRlcm5hbCgpKTtcbiAgICBleHBvcnRzLnogPSB6O1xuICAgIF9fZXhwb3J0U3RhcihyZXF1aXJlX2V4dGVybmFsKCksIGV4cG9ydHMpO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHo7XG4gIH1cbn0pO1xuXG4vLyAuLi90eXBlcy9kaXN0L2NvbW1vbi50eXBlcy5qc1xudmFyIHJlcXVpcmVfY29tbW9uX3R5cGVzID0gX19jb21tb25KUyh7XG4gIFwiLi4vdHlwZXMvZGlzdC9jb21tb24udHlwZXMuanNcIihleHBvcnRzKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgIGV4cG9ydHMuQWN0aXZlUGVlcnNTY2hlbWEgPSBleHBvcnRzLlZvbGF0aWxlRGF0YU1lc3NhZ2VTY2hlbWEgPSBleHBvcnRzLlBlcm1pc3Npb25TY2hlbWEgPSBleHBvcnRzLnByb2R1Y2VTb3VyY2VzU2NoZW1hID0gZXhwb3J0cy5FUm9vbVNpemUgPSB2b2lkIDA7XG4gICAgdmFyIHpvZF8xID0gcmVxdWlyZV9saWIoKTtcbiAgICB2YXIgRVJvb21TaXplO1xuICAgIChmdW5jdGlvbihFUm9vbVNpemUyKSB7XG4gICAgICBFUm9vbVNpemUyW1wiTk9STUFMXCJdID0gXCJOT1JNQUxcIjtcbiAgICAgIEVSb29tU2l6ZTJbXCJMQVJHRVwiXSA9IFwiTEFSR0VcIjtcbiAgICB9KShFUm9vbVNpemUgfHwgKGV4cG9ydHMuRVJvb21TaXplID0gRVJvb21TaXplID0ge30pKTtcbiAgICB2YXIgUm9vbUNvbnRyb2xzU2NoZW1hID0gem9kXzEuei5vYmplY3Qoe1xuICAgICAgcm9vbUxvY2tlZDogem9kXzEuei5ib29sZWFuKCksXG4gICAgICBhbGxvd1Byb2R1Y2U6IHpvZF8xLnouYm9vbGVhbigpLFxuICAgICAgYWxsb3dQcm9kdWNlU291cmNlczogem9kXzEuei5vYmplY3Qoe1xuICAgICAgICBjYW06IHpvZF8xLnouYm9vbGVhbigpLmRlZmF1bHQodHJ1ZSksXG4gICAgICAgIG1pYzogem9kXzEuei5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcbiAgICAgICAgc2NyZWVuOiB6b2RfMS56LmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpXG4gICAgICB9KSxcbiAgICAgIGFsbG93Q29uc3VtZTogem9kXzEuei5ib29sZWFuKCksXG4gICAgICBhbGxvd1NlbmREYXRhOiB6b2RfMS56LmJvb2xlYW4oKVxuICAgIH0pO1xuICAgIGV4cG9ydHMucHJvZHVjZVNvdXJjZXNTY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgICBjYW06IHpvZF8xLnouYm9vbGVhbigpLFxuICAgICAgbWljOiB6b2RfMS56LmJvb2xlYW4oKSxcbiAgICAgIHNjcmVlbjogem9kXzEuei5ib29sZWFuKClcbiAgICB9KTtcbiAgICBleHBvcnRzLlBlcm1pc3Npb25TY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgICBhZG1pbjogem9kXzEuei5ib29sZWFuKCksXG4gICAgICBjYW5Db25zdW1lOiB6b2RfMS56LmJvb2xlYW4oKSxcbiAgICAgIGNhblByb2R1Y2U6IHpvZF8xLnouYm9vbGVhbigpLFxuICAgICAgY2FuUHJvZHVjZVNvdXJjZXM6IGV4cG9ydHMucHJvZHVjZVNvdXJjZXNTY2hlbWEsXG4gICAgICBjYW5TZW5kRGF0YTogem9kXzEuei5ib29sZWFuKCksXG4gICAgICBjYW5SZWN2RGF0YTogem9kXzEuei5ib29sZWFuKCksXG4gICAgICBjYW5VcGRhdGVNZXRhZGF0YTogem9kXzEuei5ib29sZWFuKClcbiAgICB9KTtcbiAgICBleHBvcnRzLlZvbGF0aWxlRGF0YU1lc3NhZ2VTY2hlbWEgPSB6b2RfMS56Lm9iamVjdCh7XG4gICAgICBmcm9tOiB6b2RfMS56LnN0cmluZygpLFxuICAgICAgcGF5bG9hZDogem9kXzEuei51bmtub3duKCksXG4gICAgICBsYWJlbDogem9kXzEuei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgdG86IHpvZF8xLnoudW5pb24oW3pvZF8xLnoubGl0ZXJhbChcIipcIiksIHpvZF8xLnouYXJyYXkoem9kXzEuei5zdHJpbmcoKSldKS5vcHRpb25hbCgpXG4gICAgfSk7XG4gICAgZXhwb3J0cy5BY3RpdmVQZWVyc1NjaGVtYSA9IHpvZF8xLnoub2JqZWN0KHtcbiAgICAgIHBlZXJJZHM6IHpvZF8xLnouYXJyYXkoem9kXzEuei5zdHJpbmcoKSksXG4gICAgICBkb21pbmFudFNwZWFrZXI6IHpvZF8xLnouc3RyaW5nKClcbiAgICB9KTtcbiAgfVxufSk7XG5cbi8vIHNyYy9ob29rcy91c2VBY3RpdmVQZWVycy50c1xudmFyIGltcG9ydF9jb21tb24gPSBfX3RvRVNNKHJlcXVpcmVfY29tbW9uX3R5cGVzKCksIDEpO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VBY3RpdmVQZWVycyA9ICgpID0+IHtcbiAgY29uc3QgeyByb29tIH0gPSB1c2VSb29tKCk7XG4gIGNvbnN0IFthY3RpdmVQZWVySWRzLCBzZXRBY3RpdmVQZWVySWRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2RvbWluYW50U3BlYWtlcklkLCBzZXREb21pbmFudFNwZWFrZXJJZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgeyBodWRkbGVDbGllbnQgfSA9IHVzZUh1ZGRsZTAxX2RlZmF1bHQoKTtcbiAgY29uc3QgbG9jYWxQZWVyID0gaHVkZGxlQ2xpZW50LmxvY2FsUGVlcjtcbiAgY29uc3QgaGFuZGxlTmV3Vm9sYXRpbGVNZXNzYWdlID0gdXNlQ2FsbGJhY2soKGRhdGEpID0+IHtcbiAgICBpZiAoZGF0YS5sYWJlbCAhPT0gXCJsYXN0TlwiKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHJlc3VsdCA9IGltcG9ydF9jb21tb24uQWN0aXZlUGVlcnNTY2hlbWEuc2FmZVBhcnNlKGRhdGEucGF5bG9hZCk7XG4gICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBzZXRBY3RpdmVQZWVySWRzKHJlc3VsdC5kYXRhLnBlZXJJZHMpO1xuICAgICAgc2V0RG9taW5hbnRTcGVha2VySWQocmVzdWx0LmRhdGEuZG9taW5hbnRTcGVha2VyKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgY29uc3QgYWN0aXZhdGVMYXN0TiA9IGFzeW5jICgpID0+IHtcbiAgICBhd2FpdCBsb2NhbFBlZXIuYWN0aXZhdGVTcGVha2VyTm90aWZpY2F0aW9uKCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlUm9vbUpvaW5lZCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBhY3RpdmF0ZUxhc3ROKCk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocm9vbS5zdGF0ZSA9PT0gXCJjb25uZWN0ZWRcIikge1xuICAgICAgYWN0aXZhdGVMYXN0TigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByb29tLm9uY2UoXCJyb29tLWpvaW5lZFwiLCBoYW5kbGVSb29tSm9pbmVkKTtcbiAgICB9XG4gICAgbG9jYWxQZWVyLm9uKFwicmVjZWl2ZS12b2xhdGlsZS1kYXRhXCIsIGhhbmRsZU5ld1ZvbGF0aWxlTWVzc2FnZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJvb20ub2ZmKFwicm9vbS1qb2luZWRcIiwgaGFuZGxlUm9vbUpvaW5lZCk7XG4gICAgICBsb2NhbFBlZXIub2ZmKFwicmVjZWl2ZS12b2xhdGlsZS1kYXRhXCIsIGhhbmRsZU5ld1ZvbGF0aWxlTWVzc2FnZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuICByZXR1cm4ge1xuICAgIGFjdGl2ZVBlZXJJZHMsXG4gICAgZG9taW5hbnRTcGVha2VySWRcbiAgfTtcbn07XG5cbmV4cG9ydCB7XG4gIHVzZUFjdGl2ZVBlZXJzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstSTI1VlYyS1cuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-I25VV2KW.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-LBJPY6EC.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-LBJPY6EC.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLobby: function() { return /* binding */ useLobby; }\n/* harmony export */ });\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n// src/hooks/useLobby.ts\n\nvar useLobby = (props) => {\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01_default)();\n  const [lobbyPeersIds, setLobbyPeersIds] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    huddleClient.room.lobbyPeerIds\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const room = huddleClient.room;\n    const handleNewLobbyPeers = (lobbyPeerIds) => {\n      setLobbyPeersIds(lobbyPeerIds);\n      if (props?.onLobbyPeersUpdated) {\n        props.onLobbyPeersUpdated(lobbyPeerIds);\n      }\n    };\n    room.on(\"lobby-peers-updated\", handleNewLobbyPeers);\n    return () => {\n      room.off(\"lobby-peers-updated\", handleNewLobbyPeers);\n    };\n  }, []);\n  const admitPeer = huddleClient.room.admitPeer;\n  const denyPeer = huddleClient.room.denyPeer;\n  const getLobbyPeerMetadata = huddleClient.room.getLobbyPeerMetadata;\n  return { lobbyPeersIds, getLobbyPeerMetadata, admitPeer, denyPeer };\n};\n\n\n//# sourceMappingURL=chunk-LBJPY6EC.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstTEJKUFk2RUMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCOztBQUU3QjtBQUM0QztBQUM1QztBQUNBLFVBQVUsZUFBZSxFQUFFLHVFQUFtQjtBQUM5Qyw0Q0FBNEMsK0NBQVE7QUFDcEQ7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AaHVkZGxlMDEvcmVhY3QvZGlzdC9jaHVuay1MQkpQWTZFQy5qcz83OWNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZUh1ZGRsZTAxX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmstQjZNMjU0TVYuanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZUxvYmJ5LnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgdXNlTG9iYnkgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBodWRkbGVDbGllbnQgfSA9IHVzZUh1ZGRsZTAxX2RlZmF1bHQoKTtcbiAgY29uc3QgW2xvYmJ5UGVlcnNJZHMsIHNldExvYmJ5UGVlcnNJZHNdID0gdXNlU3RhdGUoXG4gICAgaHVkZGxlQ2xpZW50LnJvb20ubG9iYnlQZWVySWRzXG4gICk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgcm9vbSA9IGh1ZGRsZUNsaWVudC5yb29tO1xuICAgIGNvbnN0IGhhbmRsZU5ld0xvYmJ5UGVlcnMgPSAobG9iYnlQZWVySWRzKSA9PiB7XG4gICAgICBzZXRMb2JieVBlZXJzSWRzKGxvYmJ5UGVlcklkcyk7XG4gICAgICBpZiAocHJvcHM/Lm9uTG9iYnlQZWVyc1VwZGF0ZWQpIHtcbiAgICAgICAgcHJvcHMub25Mb2JieVBlZXJzVXBkYXRlZChsb2JieVBlZXJJZHMpO1xuICAgICAgfVxuICAgIH07XG4gICAgcm9vbS5vbihcImxvYmJ5LXBlZXJzLXVwZGF0ZWRcIiwgaGFuZGxlTmV3TG9iYnlQZWVycyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJvb20ub2ZmKFwibG9iYnktcGVlcnMtdXBkYXRlZFwiLCBoYW5kbGVOZXdMb2JieVBlZXJzKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIGNvbnN0IGFkbWl0UGVlciA9IGh1ZGRsZUNsaWVudC5yb29tLmFkbWl0UGVlcjtcbiAgY29uc3QgZGVueVBlZXIgPSBodWRkbGVDbGllbnQucm9vbS5kZW55UGVlcjtcbiAgY29uc3QgZ2V0TG9iYnlQZWVyTWV0YWRhdGEgPSBodWRkbGVDbGllbnQucm9vbS5nZXRMb2JieVBlZXJNZXRhZGF0YTtcbiAgcmV0dXJuIHsgbG9iYnlQZWVyc0lkcywgZ2V0TG9iYnlQZWVyTWV0YWRhdGEsIGFkbWl0UGVlciwgZGVueVBlZXIgfTtcbn07XG5cbmV4cG9ydCB7XG4gIHVzZUxvYmJ5XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstTEJKUFk2RUMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-LBJPY6EC.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-LW4AZNF4.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-LW4AZNF4.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRemoteMedia: function() { return /* binding */ useRemoteMedia; }\n/* harmony export */ });\n/* harmony import */ var _chunk_BA3RUF65_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-BA3RUF65.js */ \"./node_modules/@huddle01/react/dist/chunk-BA3RUF65.js\");\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n\n// src/hooks/useRemoteMedia.ts\n\nvar useRemoteMedia = (props) => {\n  const { label, peerId } = props;\n  const { room } = (0,_chunk_BA3RUF65_js__WEBPACK_IMPORTED_MODULE_0__.useRoom)();\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_1__.useHuddle01_default)();\n  const localPeer = huddleClient.localPeer;\n  const [remotePeer, setRemotePeer] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\n    room.remotePeers.get(peerId) || null\n  );\n  const labelData = remotePeer?.getLabelData(label);\n  const [consumers, setConsumers] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(remotePeer?.getConsumer(label));\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(() => {\n    if (consumers?.state)\n      return consumers.state;\n    if (labelData)\n      return \"available\";\n    else\n      return \"unavailable\";\n  });\n  const startConsuming = () => {\n    const startedConsuming = localPeer.consume({ label, peerId, appData: {} });\n    return startedConsuming;\n  };\n  const stopConsuming = () => {\n    const stoppedConsuming = localPeer.stopConsuming({\n      label,\n      peerId\n    });\n    return stoppedConsuming;\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const handleNewPeerJoined = (data) => {\n      if (data.peer.peerId === peerId) {\n        setRemotePeer(data.peer);\n      }\n    };\n    const handleStreamAvailable = (data) => {\n      if (data.label === label) {\n        setState(\"available\");\n      }\n    };\n    const handleStreamPlayable = (data) => {\n      if (data.label === label) {\n        setState(\"playable\");\n        setConsumers(data.consumer);\n        if (props.onPlayable) {\n          const track2 = data.consumer.track;\n          if (track2) {\n            props.onPlayable({\n              track: track2,\n              label,\n              stream: new MediaStream([track2])\n            });\n          }\n        }\n      }\n    };\n    const handleStreamClosed = (data) => {\n      if (data.label === props.label) {\n        setState(\"unavailable\");\n        setConsumers(null);\n        if (props?.onClose) {\n          props?.onClose();\n        }\n      }\n    };\n    room.on(\"new-peer-joined\", handleNewPeerJoined);\n    remotePeer?.on(\"stream-available\", handleStreamAvailable);\n    remotePeer?.on(\"stream-playable\", handleStreamPlayable);\n    remotePeer?.on(\"stream-closed\", handleStreamClosed);\n    return () => {\n      room.off(\"new-peer-joined\", handleNewPeerJoined);\n      remotePeer?.off(\"stream-available\", handleStreamAvailable);\n      remotePeer?.off(\"stream-playable\", handleStreamPlayable);\n      remotePeer?.off(\"stream-closed\", handleStreamClosed);\n    };\n  }, [remotePeer, consumers, state]);\n  const track = consumers?.track || null;\n  let stream = null;\n  if (track) {\n    stream = new MediaStream();\n    stream.addTrack(track);\n  }\n  return { state, track, stream, stopConsuming, startConsuming };\n};\n\n\n//# sourceMappingURL=chunk-LW4AZNF4.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstTFc0QVpORjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUU2QjtBQUdBOztBQUU3QjtBQUM0QztBQUM1QztBQUNBLFVBQVUsZ0JBQWdCO0FBQzFCLFVBQVUsT0FBTyxFQUFFLDJEQUFPO0FBQzFCLFVBQVUsZUFBZSxFQUFFLHVFQUFtQjtBQUM5QztBQUNBLHNDQUFzQywrQ0FBUTtBQUM5QztBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsK0NBQVE7QUFDNUMsNEJBQTRCLCtDQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGlEQUFpRCw0QkFBNEI7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BodWRkbGUwMS9yZWFjdC9kaXN0L2NodW5rLUxXNEFaTkY0LmpzPzIzY2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlUm9vbVxufSBmcm9tIFwiLi9jaHVuay1CQTNSVUY2NS5qc1wiO1xuaW1wb3J0IHtcbiAgdXNlSHVkZGxlMDFfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay1CNk0yNTRNVi5qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlUmVtb3RlTWVkaWEudHNcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VSZW1vdGVNZWRpYSA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IGxhYmVsLCBwZWVySWQgfSA9IHByb3BzO1xuICBjb25zdCB7IHJvb20gfSA9IHVzZVJvb20oKTtcbiAgY29uc3QgeyBodWRkbGVDbGllbnQgfSA9IHVzZUh1ZGRsZTAxX2RlZmF1bHQoKTtcbiAgY29uc3QgbG9jYWxQZWVyID0gaHVkZGxlQ2xpZW50LmxvY2FsUGVlcjtcbiAgY29uc3QgW3JlbW90ZVBlZXIsIHNldFJlbW90ZVBlZXJdID0gdXNlU3RhdGUoXG4gICAgcm9vbS5yZW1vdGVQZWVycy5nZXQocGVlcklkKSB8fCBudWxsXG4gICk7XG4gIGNvbnN0IGxhYmVsRGF0YSA9IHJlbW90ZVBlZXI/LmdldExhYmVsRGF0YShsYWJlbCk7XG4gIGNvbnN0IFtjb25zdW1lcnMsIHNldENvbnN1bWVyc10gPSB1c2VTdGF0ZShyZW1vdGVQZWVyPy5nZXRDb25zdW1lcihsYWJlbCkpO1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICBpZiAoY29uc3VtZXJzPy5zdGF0ZSlcbiAgICAgIHJldHVybiBjb25zdW1lcnMuc3RhdGU7XG4gICAgaWYgKGxhYmVsRGF0YSlcbiAgICAgIHJldHVybiBcImF2YWlsYWJsZVwiO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiBcInVuYXZhaWxhYmxlXCI7XG4gIH0pO1xuICBjb25zdCBzdGFydENvbnN1bWluZyA9ICgpID0+IHtcbiAgICBjb25zdCBzdGFydGVkQ29uc3VtaW5nID0gbG9jYWxQZWVyLmNvbnN1bWUoeyBsYWJlbCwgcGVlcklkLCBhcHBEYXRhOiB7fSB9KTtcbiAgICByZXR1cm4gc3RhcnRlZENvbnN1bWluZztcbiAgfTtcbiAgY29uc3Qgc3RvcENvbnN1bWluZyA9ICgpID0+IHtcbiAgICBjb25zdCBzdG9wcGVkQ29uc3VtaW5nID0gbG9jYWxQZWVyLnN0b3BDb25zdW1pbmcoe1xuICAgICAgbGFiZWwsXG4gICAgICBwZWVySWRcbiAgICB9KTtcbiAgICByZXR1cm4gc3RvcHBlZENvbnN1bWluZztcbiAgfTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVOZXdQZWVySm9pbmVkID0gKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLnBlZXIucGVlcklkID09PSBwZWVySWQpIHtcbiAgICAgICAgc2V0UmVtb3RlUGVlcihkYXRhLnBlZXIpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgaGFuZGxlU3RyZWFtQXZhaWxhYmxlID0gKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLmxhYmVsID09PSBsYWJlbCkge1xuICAgICAgICBzZXRTdGF0ZShcImF2YWlsYWJsZVwiKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZVN0cmVhbVBsYXlhYmxlID0gKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLmxhYmVsID09PSBsYWJlbCkge1xuICAgICAgICBzZXRTdGF0ZShcInBsYXlhYmxlXCIpO1xuICAgICAgICBzZXRDb25zdW1lcnMoZGF0YS5jb25zdW1lcik7XG4gICAgICAgIGlmIChwcm9wcy5vblBsYXlhYmxlKSB7XG4gICAgICAgICAgY29uc3QgdHJhY2syID0gZGF0YS5jb25zdW1lci50cmFjaztcbiAgICAgICAgICBpZiAodHJhY2syKSB7XG4gICAgICAgICAgICBwcm9wcy5vblBsYXlhYmxlKHtcbiAgICAgICAgICAgICAgdHJhY2s6IHRyYWNrMixcbiAgICAgICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgICAgIHN0cmVhbTogbmV3IE1lZGlhU3RyZWFtKFt0cmFjazJdKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVTdHJlYW1DbG9zZWQgPSAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEubGFiZWwgPT09IHByb3BzLmxhYmVsKSB7XG4gICAgICAgIHNldFN0YXRlKFwidW5hdmFpbGFibGVcIik7XG4gICAgICAgIHNldENvbnN1bWVycyhudWxsKTtcbiAgICAgICAgaWYgKHByb3BzPy5vbkNsb3NlKSB7XG4gICAgICAgICAgcHJvcHM/Lm9uQ2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcm9vbS5vbihcIm5ldy1wZWVyLWpvaW5lZFwiLCBoYW5kbGVOZXdQZWVySm9pbmVkKTtcbiAgICByZW1vdGVQZWVyPy5vbihcInN0cmVhbS1hdmFpbGFibGVcIiwgaGFuZGxlU3RyZWFtQXZhaWxhYmxlKTtcbiAgICByZW1vdGVQZWVyPy5vbihcInN0cmVhbS1wbGF5YWJsZVwiLCBoYW5kbGVTdHJlYW1QbGF5YWJsZSk7XG4gICAgcmVtb3RlUGVlcj8ub24oXCJzdHJlYW0tY2xvc2VkXCIsIGhhbmRsZVN0cmVhbUNsb3NlZCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJvb20ub2ZmKFwibmV3LXBlZXItam9pbmVkXCIsIGhhbmRsZU5ld1BlZXJKb2luZWQpO1xuICAgICAgcmVtb3RlUGVlcj8ub2ZmKFwic3RyZWFtLWF2YWlsYWJsZVwiLCBoYW5kbGVTdHJlYW1BdmFpbGFibGUpO1xuICAgICAgcmVtb3RlUGVlcj8ub2ZmKFwic3RyZWFtLXBsYXlhYmxlXCIsIGhhbmRsZVN0cmVhbVBsYXlhYmxlKTtcbiAgICAgIHJlbW90ZVBlZXI/Lm9mZihcInN0cmVhbS1jbG9zZWRcIiwgaGFuZGxlU3RyZWFtQ2xvc2VkKTtcbiAgICB9O1xuICB9LCBbcmVtb3RlUGVlciwgY29uc3VtZXJzLCBzdGF0ZV0pO1xuICBjb25zdCB0cmFjayA9IGNvbnN1bWVycz8udHJhY2sgfHwgbnVsbDtcbiAgbGV0IHN0cmVhbSA9IG51bGw7XG4gIGlmICh0cmFjaykge1xuICAgIHN0cmVhbSA9IG5ldyBNZWRpYVN0cmVhbSgpO1xuICAgIHN0cmVhbS5hZGRUcmFjayh0cmFjayk7XG4gIH1cbiAgcmV0dXJuIHsgc3RhdGUsIHRyYWNrLCBzdHJlYW0sIHN0b3BDb25zdW1pbmcsIHN0YXJ0Q29uc3VtaW5nIH07XG59O1xuXG5leHBvcnQge1xuICB1c2VSZW1vdGVNZWRpYVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUxXNEFaTkY0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-LW4AZNF4.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-PO6RE2AG.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-PO6RE2AG.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRemoteVideo: function() { return /* binding */ useRemoteVideo; }\n/* harmony export */ });\n/* harmony import */ var _chunk_LW4AZNF4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-LW4AZNF4.js */ \"./node_modules/@huddle01/react/dist/chunk-LW4AZNF4.js\");\n\n\n// src/hooks/useRemoteVideo.ts\nvar useRemoteVideo = (props) => {\n  const { state, track, stream } = (0,_chunk_LW4AZNF4_js__WEBPACK_IMPORTED_MODULE_0__.useRemoteMedia)({\n    label: \"video\",\n    peerId: props.peerId,\n    onStopped: props.onClose,\n    onPlayable: (data) => {\n      props.onPlayable?.({\n        label: \"video\",\n        track: data.track,\n        stream: data.stream\n      });\n    }\n  });\n  const isVideoOn = stream ? true : false;\n  return {\n    state,\n    track,\n    stream,\n    isVideoOn\n  };\n};\n\n\n//# sourceMappingURL=chunk-PO6RE2AG.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstUE82UkUyQUcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFNkI7O0FBRTdCO0FBQ0E7QUFDQSxVQUFVLHVCQUF1QixFQUFFLGtFQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AaHVkZGxlMDEvcmVhY3QvZGlzdC9jaHVuay1QTzZSRTJBRy5qcz81N2I5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZVJlbW90ZU1lZGlhXG59IGZyb20gXCIuL2NodW5rLUxXNEFaTkY0LmpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2VSZW1vdGVWaWRlby50c1xudmFyIHVzZVJlbW90ZVZpZGVvID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgc3RhdGUsIHRyYWNrLCBzdHJlYW0gfSA9IHVzZVJlbW90ZU1lZGlhKHtcbiAgICBsYWJlbDogXCJ2aWRlb1wiLFxuICAgIHBlZXJJZDogcHJvcHMucGVlcklkLFxuICAgIG9uU3RvcHBlZDogcHJvcHMub25DbG9zZSxcbiAgICBvblBsYXlhYmxlOiAoZGF0YSkgPT4ge1xuICAgICAgcHJvcHMub25QbGF5YWJsZT8uKHtcbiAgICAgICAgbGFiZWw6IFwidmlkZW9cIixcbiAgICAgICAgdHJhY2s6IGRhdGEudHJhY2ssXG4gICAgICAgIHN0cmVhbTogZGF0YS5zdHJlYW1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGlzVmlkZW9PbiA9IHN0cmVhbSA/IHRydWUgOiBmYWxzZTtcbiAgcmV0dXJuIHtcbiAgICBzdGF0ZSxcbiAgICB0cmFjayxcbiAgICBzdHJlYW0sXG4gICAgaXNWaWRlb09uXG4gIH07XG59O1xuXG5leHBvcnQge1xuICB1c2VSZW1vdGVWaWRlb1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVBPNlJFMkFHLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-PO6RE2AG.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-Q455X6V5.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-Q455X6V5.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDevices: function() { return /* binding */ useDevices; }\n/* harmony export */ });\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n// src/hooks/useDevices.ts\n\nvar useDevices = (props) => {\n  const { type } = props;\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01_default)();\n  const localPeer = huddleClient.localPeer;\n  const deviceHandler = localPeer.deviceHandler;\n  const devices = deviceHandler.devices.get(type) || [];\n  const [preferredDeviceId, setPreferredDeviceId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    deviceHandler.preferredDevices.get(type) || null\n  );\n  const [, setDeviceCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(devices.length);\n  const handlePermissionGranted = (data) => {\n    if (data.deviceKind === type) {\n      props.onPermissionGranted?.();\n    }\n  };\n  const handlePermissionDenied = (data) => {\n    if (data.deviceKind === type) {\n      props.onPermissionDenied?.();\n    }\n  };\n  const handleDeviceChange = () => {\n    const devices2 = deviceHandler.devices.get(type) || [];\n    setDeviceCount(devices2.length);\n  };\n  const handlePrefferedDeviceChange = (data) => {\n    if (data.deviceKind === type) {\n      setPreferredDeviceId(data.deviceId);\n      setDeviceCount(devices.length);\n    }\n    if (data.deviceId && props?.onDeviceChanged) {\n      props.onDeviceChanged(data.deviceId);\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    deviceHandler.once(\"permission-granted\", handlePermissionGranted);\n    deviceHandler.once(\"permission-denied\", handlePermissionDenied);\n    deviceHandler.on(\"device-change\", handleDeviceChange);\n    deviceHandler.on(\"preferred-device-change\", handlePrefferedDeviceChange);\n    return () => {\n      deviceHandler.off(\"permission-granted\", handlePermissionGranted);\n      deviceHandler.off(\"permission-denied\", handlePermissionDenied);\n      deviceHandler.off(\"device-change\", handleDeviceChange);\n      deviceHandler.off(\"preferred-device-change\", handlePrefferedDeviceChange);\n    };\n  }, []);\n  const getPermission = () => {\n    return deviceHandler.getMediaPermission({ mediaDeviceKind: type });\n  };\n  const fetchStream = deviceHandler.fetchStream;\n  const setPreferredDevice = (deviceId) => {\n    return deviceHandler.setPreferredDevice({\n      deviceKind: type,\n      deviceId\n    });\n  };\n  const preferredDevice = devices.find((device) => device.deviceId === preferredDeviceId) || null;\n  return {\n    devices,\n    preferredDeviceId,\n    preferredDevice,\n    fetchStream,\n    getPermission,\n    setPreferredDevice\n  };\n};\n\n\n//# sourceMappingURL=chunk-Q455X6V5.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstUTQ1NVg2VjUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCOztBQUU3QjtBQUM0QztBQUM1QztBQUNBLFVBQVUsT0FBTztBQUNqQixVQUFVLGVBQWUsRUFBRSx1RUFBbUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELCtDQUFRO0FBQzVEO0FBQ0E7QUFDQSw2QkFBNkIsK0NBQVE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDhDQUE4Qyx1QkFBdUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstUTQ1NVg2VjUuanM/YzVhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VIdWRkbGUwMV9kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLUI2TTI1NE1WLmpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2VEZXZpY2VzLnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgdXNlRGV2aWNlcyA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IHR5cGUgfSA9IHByb3BzO1xuICBjb25zdCB7IGh1ZGRsZUNsaWVudCB9ID0gdXNlSHVkZGxlMDFfZGVmYXVsdCgpO1xuICBjb25zdCBsb2NhbFBlZXIgPSBodWRkbGVDbGllbnQubG9jYWxQZWVyO1xuICBjb25zdCBkZXZpY2VIYW5kbGVyID0gbG9jYWxQZWVyLmRldmljZUhhbmRsZXI7XG4gIGNvbnN0IGRldmljZXMgPSBkZXZpY2VIYW5kbGVyLmRldmljZXMuZ2V0KHR5cGUpIHx8IFtdO1xuICBjb25zdCBbcHJlZmVycmVkRGV2aWNlSWQsIHNldFByZWZlcnJlZERldmljZUlkXSA9IHVzZVN0YXRlKFxuICAgIGRldmljZUhhbmRsZXIucHJlZmVycmVkRGV2aWNlcy5nZXQodHlwZSkgfHwgbnVsbFxuICApO1xuICBjb25zdCBbLCBzZXREZXZpY2VDb3VudF0gPSB1c2VTdGF0ZShkZXZpY2VzLmxlbmd0aCk7XG4gIGNvbnN0IGhhbmRsZVBlcm1pc3Npb25HcmFudGVkID0gKGRhdGEpID0+IHtcbiAgICBpZiAoZGF0YS5kZXZpY2VLaW5kID09PSB0eXBlKSB7XG4gICAgICBwcm9wcy5vblBlcm1pc3Npb25HcmFudGVkPy4oKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZVBlcm1pc3Npb25EZW5pZWQgPSAoZGF0YSkgPT4ge1xuICAgIGlmIChkYXRhLmRldmljZUtpbmQgPT09IHR5cGUpIHtcbiAgICAgIHByb3BzLm9uUGVybWlzc2lvbkRlbmllZD8uKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVEZXZpY2VDaGFuZ2UgPSAoKSA9PiB7XG4gICAgY29uc3QgZGV2aWNlczIgPSBkZXZpY2VIYW5kbGVyLmRldmljZXMuZ2V0KHR5cGUpIHx8IFtdO1xuICAgIHNldERldmljZUNvdW50KGRldmljZXMyLmxlbmd0aCk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZVByZWZmZXJlZERldmljZUNoYW5nZSA9IChkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEuZGV2aWNlS2luZCA9PT0gdHlwZSkge1xuICAgICAgc2V0UHJlZmVycmVkRGV2aWNlSWQoZGF0YS5kZXZpY2VJZCk7XG4gICAgICBzZXREZXZpY2VDb3VudChkZXZpY2VzLmxlbmd0aCk7XG4gICAgfVxuICAgIGlmIChkYXRhLmRldmljZUlkICYmIHByb3BzPy5vbkRldmljZUNoYW5nZWQpIHtcbiAgICAgIHByb3BzLm9uRGV2aWNlQ2hhbmdlZChkYXRhLmRldmljZUlkKTtcbiAgICB9XG4gIH07XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZGV2aWNlSGFuZGxlci5vbmNlKFwicGVybWlzc2lvbi1ncmFudGVkXCIsIGhhbmRsZVBlcm1pc3Npb25HcmFudGVkKTtcbiAgICBkZXZpY2VIYW5kbGVyLm9uY2UoXCJwZXJtaXNzaW9uLWRlbmllZFwiLCBoYW5kbGVQZXJtaXNzaW9uRGVuaWVkKTtcbiAgICBkZXZpY2VIYW5kbGVyLm9uKFwiZGV2aWNlLWNoYW5nZVwiLCBoYW5kbGVEZXZpY2VDaGFuZ2UpO1xuICAgIGRldmljZUhhbmRsZXIub24oXCJwcmVmZXJyZWQtZGV2aWNlLWNoYW5nZVwiLCBoYW5kbGVQcmVmZmVyZWREZXZpY2VDaGFuZ2UpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZXZpY2VIYW5kbGVyLm9mZihcInBlcm1pc3Npb24tZ3JhbnRlZFwiLCBoYW5kbGVQZXJtaXNzaW9uR3JhbnRlZCk7XG4gICAgICBkZXZpY2VIYW5kbGVyLm9mZihcInBlcm1pc3Npb24tZGVuaWVkXCIsIGhhbmRsZVBlcm1pc3Npb25EZW5pZWQpO1xuICAgICAgZGV2aWNlSGFuZGxlci5vZmYoXCJkZXZpY2UtY2hhbmdlXCIsIGhhbmRsZURldmljZUNoYW5nZSk7XG4gICAgICBkZXZpY2VIYW5kbGVyLm9mZihcInByZWZlcnJlZC1kZXZpY2UtY2hhbmdlXCIsIGhhbmRsZVByZWZmZXJlZERldmljZUNoYW5nZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuICBjb25zdCBnZXRQZXJtaXNzaW9uID0gKCkgPT4ge1xuICAgIHJldHVybiBkZXZpY2VIYW5kbGVyLmdldE1lZGlhUGVybWlzc2lvbih7IG1lZGlhRGV2aWNlS2luZDogdHlwZSB9KTtcbiAgfTtcbiAgY29uc3QgZmV0Y2hTdHJlYW0gPSBkZXZpY2VIYW5kbGVyLmZldGNoU3RyZWFtO1xuICBjb25zdCBzZXRQcmVmZXJyZWREZXZpY2UgPSAoZGV2aWNlSWQpID0+IHtcbiAgICByZXR1cm4gZGV2aWNlSGFuZGxlci5zZXRQcmVmZXJyZWREZXZpY2Uoe1xuICAgICAgZGV2aWNlS2luZDogdHlwZSxcbiAgICAgIGRldmljZUlkXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHByZWZlcnJlZERldmljZSA9IGRldmljZXMuZmluZCgoZGV2aWNlKSA9PiBkZXZpY2UuZGV2aWNlSWQgPT09IHByZWZlcnJlZERldmljZUlkKSB8fCBudWxsO1xuICByZXR1cm4ge1xuICAgIGRldmljZXMsXG4gICAgcHJlZmVycmVkRGV2aWNlSWQsXG4gICAgcHJlZmVycmVkRGV2aWNlLFxuICAgIGZldGNoU3RyZWFtLFxuICAgIGdldFBlcm1pc3Npb24sXG4gICAgc2V0UHJlZmVycmVkRGV2aWNlXG4gIH07XG59O1xuXG5leHBvcnQge1xuICB1c2VEZXZpY2VzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstUTQ1NVg2VjUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-Q455X6V5.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-QLGC3Y2L.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-QLGC3Y2L.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRemoteScreenShare: function() { return /* binding */ useRemoteScreenShare; }\n/* harmony export */ });\n/* harmony import */ var _chunk_LW4AZNF4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-LW4AZNF4.js */ \"./node_modules/@huddle01/react/dist/chunk-LW4AZNF4.js\");\n\n\n// src/hooks/useRemoteScreenShare.ts\nvar useRemoteScreenShare = (props) => {\n  const {\n    state,\n    stream: videoStream,\n    track: videoTrack\n  } = (0,_chunk_LW4AZNF4_js__WEBPACK_IMPORTED_MODULE_0__.useRemoteMedia)({\n    label: \"screen-share-video\",\n    peerId: props.peerId,\n    onClose: props.onClose,\n    onPlayable: (data) => {\n      props.onPlayable?.({\n        label: \"screen-share-video\",\n        track: data.track,\n        stream: data.stream\n      });\n    }\n  });\n  const { stream: audioStream, track: audioTrack } = (0,_chunk_LW4AZNF4_js__WEBPACK_IMPORTED_MODULE_0__.useRemoteMedia)({\n    label: \"screen-share-audio\",\n    peerId: props.peerId,\n    onClose: props.onClose,\n    onPlayable: (data) => {\n      props.onPlayable?.({\n        label: \"screen-share-audio\",\n        track: data.track,\n        stream: data.stream\n      });\n    }\n  });\n  return {\n    videoStream,\n    audioStream,\n    videoTrack,\n    audioTrack,\n    state\n  };\n};\n\n\n//# sourceMappingURL=chunk-QLGC3Y2L.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstUUxHQzNZMkwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFNkI7O0FBRTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksRUFBRSxrRUFBYztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNILFVBQVUseUNBQXlDLEVBQUUsa0VBQWM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BodWRkbGUwMS9yZWFjdC9kaXN0L2NodW5rLVFMR0MzWTJMLmpzP2ZjNTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlUmVtb3RlTWVkaWFcbn0gZnJvbSBcIi4vY2h1bmstTFc0QVpORjQuanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZVJlbW90ZVNjcmVlblNoYXJlLnRzXG52YXIgdXNlUmVtb3RlU2NyZWVuU2hhcmUgPSAocHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIHN0YXRlLFxuICAgIHN0cmVhbTogdmlkZW9TdHJlYW0sXG4gICAgdHJhY2s6IHZpZGVvVHJhY2tcbiAgfSA9IHVzZVJlbW90ZU1lZGlhKHtcbiAgICBsYWJlbDogXCJzY3JlZW4tc2hhcmUtdmlkZW9cIixcbiAgICBwZWVySWQ6IHByb3BzLnBlZXJJZCxcbiAgICBvbkNsb3NlOiBwcm9wcy5vbkNsb3NlLFxuICAgIG9uUGxheWFibGU6IChkYXRhKSA9PiB7XG4gICAgICBwcm9wcy5vblBsYXlhYmxlPy4oe1xuICAgICAgICBsYWJlbDogXCJzY3JlZW4tc2hhcmUtdmlkZW9cIixcbiAgICAgICAgdHJhY2s6IGRhdGEudHJhY2ssXG4gICAgICAgIHN0cmVhbTogZGF0YS5zdHJlYW1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHsgc3RyZWFtOiBhdWRpb1N0cmVhbSwgdHJhY2s6IGF1ZGlvVHJhY2sgfSA9IHVzZVJlbW90ZU1lZGlhKHtcbiAgICBsYWJlbDogXCJzY3JlZW4tc2hhcmUtYXVkaW9cIixcbiAgICBwZWVySWQ6IHByb3BzLnBlZXJJZCxcbiAgICBvbkNsb3NlOiBwcm9wcy5vbkNsb3NlLFxuICAgIG9uUGxheWFibGU6IChkYXRhKSA9PiB7XG4gICAgICBwcm9wcy5vblBsYXlhYmxlPy4oe1xuICAgICAgICBsYWJlbDogXCJzY3JlZW4tc2hhcmUtYXVkaW9cIixcbiAgICAgICAgdHJhY2s6IGRhdGEudHJhY2ssXG4gICAgICAgIHN0cmVhbTogZGF0YS5zdHJlYW1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7XG4gICAgdmlkZW9TdHJlYW0sXG4gICAgYXVkaW9TdHJlYW0sXG4gICAgdmlkZW9UcmFjayxcbiAgICBhdWRpb1RyYWNrLFxuICAgIHN0YXRlXG4gIH07XG59O1xuXG5leHBvcnQge1xuICB1c2VSZW1vdGVTY3JlZW5TaGFyZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVFMR0MzWTJMLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-QLGC3Y2L.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-QRCO6N2Q.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-QRCO6N2Q.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLocalScreenShare: function() { return /* binding */ useLocalScreenShare; }\n/* harmony export */ });\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n// src/hooks/useLocalScreenShare.ts\n\nvar useLocalScreenShare = (props) => {\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01_default)();\n  const localPeer = huddleClient.localPeer;\n  const [shareStream, setShareStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    localPeer.getStream({ label: \"screen-share\" })\n  );\n  const handleStreamFetched = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (data.mediaKind === \"screen\") {\n        setShareStream(data.stream);\n      }\n    },\n    []\n  );\n  const handleStreamPlayable = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (data.label === \"screen-share-video\") {\n        if (props?.onProduceStart)\n          props?.onProduceStart(data.producer);\n      }\n      if (data.label === \"screen-share-audio\") {\n        if (props?.onProduceStart)\n          props?.onProduceStart(data.producer);\n      }\n    },\n    [props?.onProduceStart]\n  );\n  const handleCloseStream = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (data.label === \"screen-share-video\") {\n        setShareStream(null);\n        if (props?.onProduceClose)\n          props?.onProduceClose(data.label);\n      }\n      if (data.label === \"screen-share-audio\") {\n        setShareStream(null);\n        if (props?.onProduceClose)\n          props?.onProduceClose(data.label);\n      }\n    },\n    [props?.onProduceClose]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    localPeer.on(\"stream-fetched\", handleStreamFetched);\n    localPeer.on(\"stream-playable\", handleStreamPlayable);\n    localPeer.on(\"stream-closed\", handleCloseStream);\n    return () => {\n      localPeer.off(\"stream-fetched\", handleStreamFetched);\n      localPeer.off(\"stream-playable\", handleStreamPlayable);\n      localPeer.off(\"stream-closed\", handleCloseStream);\n    };\n  }, []);\n  const startScreenShare = localPeer.startScreenShare;\n  const stopScreenShare = localPeer.stopScreenShare;\n  const audioTrack = shareStream?.getAudioTracks()[0] || null;\n  const videoTrack = shareStream?.getVideoTracks()[0] || null;\n  return {\n    shareStream,\n    startScreenShare,\n    stopScreenShare,\n    audioTrack,\n    videoTrack\n  };\n};\n\n\n//# sourceMappingURL=chunk-QRCO6N2Q.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstUVJDTzZOMlEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCOztBQUU3QjtBQUN5RDtBQUN6RDtBQUNBLFVBQVUsZUFBZSxFQUFFLHVFQUFtQjtBQUM5QztBQUNBLHdDQUF3QywrQ0FBUTtBQUNoRCwwQkFBMEIsdUJBQXVCO0FBQ2pEO0FBQ0EsOEJBQThCLGtEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwrQkFBK0Isa0RBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw0QkFBNEIsa0RBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BodWRkbGUwMS9yZWFjdC9kaXN0L2NodW5rLVFSQ082TjJRLmpzPzdlZmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlSHVkZGxlMDFfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay1CNk0yNTRNVi5qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlTG9jYWxTY3JlZW5TaGFyZS50c1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VMb2NhbFNjcmVlblNoYXJlID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaHVkZGxlQ2xpZW50IH0gPSB1c2VIdWRkbGUwMV9kZWZhdWx0KCk7XG4gIGNvbnN0IGxvY2FsUGVlciA9IGh1ZGRsZUNsaWVudC5sb2NhbFBlZXI7XG4gIGNvbnN0IFtzaGFyZVN0cmVhbSwgc2V0U2hhcmVTdHJlYW1dID0gdXNlU3RhdGUoXG4gICAgbG9jYWxQZWVyLmdldFN0cmVhbSh7IGxhYmVsOiBcInNjcmVlbi1zaGFyZVwiIH0pXG4gICk7XG4gIGNvbnN0IGhhbmRsZVN0cmVhbUZldGNoZWQgPSB1c2VDYWxsYmFjayhcbiAgICAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEubWVkaWFLaW5kID09PSBcInNjcmVlblwiKSB7XG4gICAgICAgIHNldFNoYXJlU3RyZWFtKGRhdGEuc3RyZWFtKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtdXG4gICk7XG4gIGNvbnN0IGhhbmRsZVN0cmVhbVBsYXlhYmxlID0gdXNlQ2FsbGJhY2soXG4gICAgKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLmxhYmVsID09PSBcInNjcmVlbi1zaGFyZS12aWRlb1wiKSB7XG4gICAgICAgIGlmIChwcm9wcz8ub25Qcm9kdWNlU3RhcnQpXG4gICAgICAgICAgcHJvcHM/Lm9uUHJvZHVjZVN0YXJ0KGRhdGEucHJvZHVjZXIpO1xuICAgICAgfVxuICAgICAgaWYgKGRhdGEubGFiZWwgPT09IFwic2NyZWVuLXNoYXJlLWF1ZGlvXCIpIHtcbiAgICAgICAgaWYgKHByb3BzPy5vblByb2R1Y2VTdGFydClcbiAgICAgICAgICBwcm9wcz8ub25Qcm9kdWNlU3RhcnQoZGF0YS5wcm9kdWNlcik7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcHJvcHM/Lm9uUHJvZHVjZVN0YXJ0XVxuICApO1xuICBjb25zdCBoYW5kbGVDbG9zZVN0cmVhbSA9IHVzZUNhbGxiYWNrKFxuICAgIChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YS5sYWJlbCA9PT0gXCJzY3JlZW4tc2hhcmUtdmlkZW9cIikge1xuICAgICAgICBzZXRTaGFyZVN0cmVhbShudWxsKTtcbiAgICAgICAgaWYgKHByb3BzPy5vblByb2R1Y2VDbG9zZSlcbiAgICAgICAgICBwcm9wcz8ub25Qcm9kdWNlQ2xvc2UoZGF0YS5sYWJlbCk7XG4gICAgICB9XG4gICAgICBpZiAoZGF0YS5sYWJlbCA9PT0gXCJzY3JlZW4tc2hhcmUtYXVkaW9cIikge1xuICAgICAgICBzZXRTaGFyZVN0cmVhbShudWxsKTtcbiAgICAgICAgaWYgKHByb3BzPy5vblByb2R1Y2VDbG9zZSlcbiAgICAgICAgICBwcm9wcz8ub25Qcm9kdWNlQ2xvc2UoZGF0YS5sYWJlbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcHJvcHM/Lm9uUHJvZHVjZUNsb3NlXVxuICApO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvY2FsUGVlci5vbihcInN0cmVhbS1mZXRjaGVkXCIsIGhhbmRsZVN0cmVhbUZldGNoZWQpO1xuICAgIGxvY2FsUGVlci5vbihcInN0cmVhbS1wbGF5YWJsZVwiLCBoYW5kbGVTdHJlYW1QbGF5YWJsZSk7XG4gICAgbG9jYWxQZWVyLm9uKFwic3RyZWFtLWNsb3NlZFwiLCBoYW5kbGVDbG9zZVN0cmVhbSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGxvY2FsUGVlci5vZmYoXCJzdHJlYW0tZmV0Y2hlZFwiLCBoYW5kbGVTdHJlYW1GZXRjaGVkKTtcbiAgICAgIGxvY2FsUGVlci5vZmYoXCJzdHJlYW0tcGxheWFibGVcIiwgaGFuZGxlU3RyZWFtUGxheWFibGUpO1xuICAgICAgbG9jYWxQZWVyLm9mZihcInN0cmVhbS1jbG9zZWRcIiwgaGFuZGxlQ2xvc2VTdHJlYW0pO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgY29uc3Qgc3RhcnRTY3JlZW5TaGFyZSA9IGxvY2FsUGVlci5zdGFydFNjcmVlblNoYXJlO1xuICBjb25zdCBzdG9wU2NyZWVuU2hhcmUgPSBsb2NhbFBlZXIuc3RvcFNjcmVlblNoYXJlO1xuICBjb25zdCBhdWRpb1RyYWNrID0gc2hhcmVTdHJlYW0/LmdldEF1ZGlvVHJhY2tzKClbMF0gfHwgbnVsbDtcbiAgY29uc3QgdmlkZW9UcmFjayA9IHNoYXJlU3RyZWFtPy5nZXRWaWRlb1RyYWNrcygpWzBdIHx8IG51bGw7XG4gIHJldHVybiB7XG4gICAgc2hhcmVTdHJlYW0sXG4gICAgc3RhcnRTY3JlZW5TaGFyZSxcbiAgICBzdG9wU2NyZWVuU2hhcmUsXG4gICAgYXVkaW9UcmFjayxcbiAgICB2aWRlb1RyYWNrXG4gIH07XG59O1xuXG5leHBvcnQge1xuICB1c2VMb2NhbFNjcmVlblNoYXJlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstUVJDTzZOMlEuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-QRCO6N2Q.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-WVJAK2DM.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-WVJAK2DM.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRemotePeer: function() { return /* binding */ useRemotePeer; }\n/* harmony export */ });\n/* harmony import */ var _chunk_BA3RUF65_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-BA3RUF65.js */ \"./node_modules/@huddle01/react/dist/chunk-BA3RUF65.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n// src/hooks/useRemotePeer.ts\n\nvar useRemotePeer = (props) => {\n  const { room } = (0,_chunk_BA3RUF65_js__WEBPACK_IMPORTED_MODULE_0__.useRoom)();\n  const [remotePeer, setRemotePeer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    room.remotePeerExists(props.peerId) || null\n  );\n  const [metadata, setMetadata] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    remotePeer?.getMetadata() || null\n  );\n  const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    remotePeer?.role || null\n  );\n  const handleRoleUpdate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (data?.role && data.role.length > 0) {\n        setRole(data.role);\n      }\n    },\n    []\n  );\n  const handleNewPeerJoined = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((data) => {\n    if (data.peer.peerId === props.peerId) {\n      setRemotePeer(data.peer);\n    }\n  }, []);\n  const handlePeerLeft = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((peerId2) => {\n    if (peerId2 === props.peerId) {\n      setRemotePeer(null);\n    }\n  }, []);\n  const handleUpdateMetadata = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    const metadata2 = remotePeer?.getMetadata();\n    if (props?.onMetadataUpdate && metadata2) {\n      props.onMetadataUpdate({ metadata: metadata2 });\n    }\n    if (metadata2)\n      setMetadata(metadata2);\n    else\n      setMetadata(null);\n  }, [props?.onMetadataUpdate]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    room.on(\"new-peer-joined\", handleNewPeerJoined);\n    room.on(\"peer-left\", handlePeerLeft);\n    if (remotePeer) {\n      remotePeer?.on(\"metadata-updated\", handleUpdateMetadata);\n      remotePeer?.on(\"role-updated\", handleRoleUpdate);\n    }\n    return () => {\n      room.off(\"new-peer-joined\", handleNewPeerJoined);\n      room.off(\"peer-left\", handlePeerLeft);\n      remotePeer?.off(\"metadata-updated\", handleUpdateMetadata);\n      remotePeer?.off(\"role-updated\", handleRoleUpdate);\n    };\n  }, [remotePeer, handleUpdateMetadata, handleRoleUpdate]);\n  const peerId = remotePeer?.peerId;\n  const updateRole = (role2) => {\n    if (remotePeer?.updateRole) {\n      remotePeer.updateRole({ role: role2 });\n    } else {\n      {\n        console.warn(\"\\u274C RemotePeer does not Exist, cannot update role\");\n      }\n    }\n  };\n  return {\n    peerId,\n    role,\n    metadata,\n    updateRole\n  };\n};\n\n\n//# sourceMappingURL=chunk-WVJAK2DM.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstV1ZKQUsyRE0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCOztBQUU3QjtBQUN5RDtBQUN6RDtBQUNBLFVBQVUsT0FBTyxFQUFFLDJEQUFPO0FBQzFCLHNDQUFzQywrQ0FBUTtBQUM5QztBQUNBO0FBQ0Esa0NBQWtDLCtDQUFRO0FBQzFDO0FBQ0E7QUFDQSwwQkFBMEIsK0NBQVE7QUFDbEM7QUFDQTtBQUNBLDJCQUEyQixrREFBVztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsOEJBQThCLGtEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx5QkFBeUIsa0RBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILCtCQUErQixrREFBVztBQUMxQztBQUNBO0FBQ0EsK0JBQStCLHFCQUFxQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGFBQWE7QUFDM0MsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AaHVkZGxlMDEvcmVhY3QvZGlzdC9jaHVuay1XVkpBSzJETS5qcz9mNzY1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZVJvb21cbn0gZnJvbSBcIi4vY2h1bmstQkEzUlVGNjUuanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZVJlbW90ZVBlZXIudHNcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgdXNlUmVtb3RlUGVlciA9IChwcm9wcykgPT4ge1xuICBjb25zdCB7IHJvb20gfSA9IHVzZVJvb20oKTtcbiAgY29uc3QgW3JlbW90ZVBlZXIsIHNldFJlbW90ZVBlZXJdID0gdXNlU3RhdGUoXG4gICAgcm9vbS5yZW1vdGVQZWVyRXhpc3RzKHByb3BzLnBlZXJJZCkgfHwgbnVsbFxuICApO1xuICBjb25zdCBbbWV0YWRhdGEsIHNldE1ldGFkYXRhXSA9IHVzZVN0YXRlKFxuICAgIHJlbW90ZVBlZXI/LmdldE1ldGFkYXRhKCkgfHwgbnVsbFxuICApO1xuICBjb25zdCBbcm9sZSwgc2V0Um9sZV0gPSB1c2VTdGF0ZShcbiAgICByZW1vdGVQZWVyPy5yb2xlIHx8IG51bGxcbiAgKTtcbiAgY29uc3QgaGFuZGxlUm9sZVVwZGF0ZSA9IHVzZUNhbGxiYWNrKFxuICAgIChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YT8ucm9sZSAmJiBkYXRhLnJvbGUubGVuZ3RoID4gMCkge1xuICAgICAgICBzZXRSb2xlKGRhdGEucm9sZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbXVxuICApO1xuICBjb25zdCBoYW5kbGVOZXdQZWVySm9pbmVkID0gdXNlQ2FsbGJhY2soKGRhdGEpID0+IHtcbiAgICBpZiAoZGF0YS5wZWVyLnBlZXJJZCA9PT0gcHJvcHMucGVlcklkKSB7XG4gICAgICBzZXRSZW1vdGVQZWVyKGRhdGEucGVlcik7XG4gICAgfVxuICB9LCBbXSk7XG4gIGNvbnN0IGhhbmRsZVBlZXJMZWZ0ID0gdXNlQ2FsbGJhY2soKHBlZXJJZDIpID0+IHtcbiAgICBpZiAocGVlcklkMiA9PT0gcHJvcHMucGVlcklkKSB7XG4gICAgICBzZXRSZW1vdGVQZWVyKG51bGwpO1xuICAgIH1cbiAgfSwgW10pO1xuICBjb25zdCBoYW5kbGVVcGRhdGVNZXRhZGF0YSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBtZXRhZGF0YTIgPSByZW1vdGVQZWVyPy5nZXRNZXRhZGF0YSgpO1xuICAgIGlmIChwcm9wcz8ub25NZXRhZGF0YVVwZGF0ZSAmJiBtZXRhZGF0YTIpIHtcbiAgICAgIHByb3BzLm9uTWV0YWRhdGFVcGRhdGUoeyBtZXRhZGF0YTogbWV0YWRhdGEyIH0pO1xuICAgIH1cbiAgICBpZiAobWV0YWRhdGEyKVxuICAgICAgc2V0TWV0YWRhdGEobWV0YWRhdGEyKTtcbiAgICBlbHNlXG4gICAgICBzZXRNZXRhZGF0YShudWxsKTtcbiAgfSwgW3Byb3BzPy5vbk1ldGFkYXRhVXBkYXRlXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcm9vbS5vbihcIm5ldy1wZWVyLWpvaW5lZFwiLCBoYW5kbGVOZXdQZWVySm9pbmVkKTtcbiAgICByb29tLm9uKFwicGVlci1sZWZ0XCIsIGhhbmRsZVBlZXJMZWZ0KTtcbiAgICBpZiAocmVtb3RlUGVlcikge1xuICAgICAgcmVtb3RlUGVlcj8ub24oXCJtZXRhZGF0YS11cGRhdGVkXCIsIGhhbmRsZVVwZGF0ZU1ldGFkYXRhKTtcbiAgICAgIHJlbW90ZVBlZXI/Lm9uKFwicm9sZS11cGRhdGVkXCIsIGhhbmRsZVJvbGVVcGRhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcm9vbS5vZmYoXCJuZXctcGVlci1qb2luZWRcIiwgaGFuZGxlTmV3UGVlckpvaW5lZCk7XG4gICAgICByb29tLm9mZihcInBlZXItbGVmdFwiLCBoYW5kbGVQZWVyTGVmdCk7XG4gICAgICByZW1vdGVQZWVyPy5vZmYoXCJtZXRhZGF0YS11cGRhdGVkXCIsIGhhbmRsZVVwZGF0ZU1ldGFkYXRhKTtcbiAgICAgIHJlbW90ZVBlZXI/Lm9mZihcInJvbGUtdXBkYXRlZFwiLCBoYW5kbGVSb2xlVXBkYXRlKTtcbiAgICB9O1xuICB9LCBbcmVtb3RlUGVlciwgaGFuZGxlVXBkYXRlTWV0YWRhdGEsIGhhbmRsZVJvbGVVcGRhdGVdKTtcbiAgY29uc3QgcGVlcklkID0gcmVtb3RlUGVlcj8ucGVlcklkO1xuICBjb25zdCB1cGRhdGVSb2xlID0gKHJvbGUyKSA9PiB7XG4gICAgaWYgKHJlbW90ZVBlZXI/LnVwZGF0ZVJvbGUpIHtcbiAgICAgIHJlbW90ZVBlZXIudXBkYXRlUm9sZSh7IHJvbGU6IHJvbGUyIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlxcdTI3NEMgUmVtb3RlUGVlciBkb2VzIG5vdCBFeGlzdCwgY2Fubm90IHVwZGF0ZSByb2xlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBwZWVySWQsXG4gICAgcm9sZSxcbiAgICBtZXRhZGF0YSxcbiAgICB1cGRhdGVSb2xlXG4gIH07XG59O1xuXG5leHBvcnQge1xuICB1c2VSZW1vdGVQZWVyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstV1ZKQUsyRE0uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-WVJAK2DM.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-WXZG5WHF.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-WXZG5WHF.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLocalPeer: function() { return /* binding */ useLocalPeer; }\n/* harmony export */ });\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n// src/hooks/useLocalPeer.ts\n\nvar useLocalPeer = (props) => {\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01_default)();\n  const localPeer = huddleClient.localPeer;\n  const peerId = localPeer.peerId;\n  const [permissions, setPermissions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    localPeer.permissions\n  );\n  const [role, setRole] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(localPeer.role);\n  const [metadata, setMetadata] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    localPeer.getMetadata() ?? null\n  );\n  const handleUpdateMetadata = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    const newMetadata = localPeer.getMetadata();\n    if (props?.onMetadataUpdated)\n      props.onMetadataUpdated(newMetadata);\n    setMetadata(newMetadata);\n  }, [props?.onMetadataUpdated]);\n  const handlePermissionsUpdated = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (props?.onPermissionsUpdated) {\n        props.onPermissionsUpdated(data.permissions);\n      }\n      if (data.role !== void 0) {\n        if (props?.onRoleUpdated)\n          props.onRoleUpdated(data.role);\n        setRole(data.role);\n      }\n      setPermissions(data.permissions);\n    },\n    [props?.onPermissionsUpdated, props?.onRoleUpdated]\n  );\n  const handleRoleUpdated = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (props?.onRoleUpdated)\n        props.onRoleUpdated(data.role);\n      setRole(data.role);\n    },\n    [props?.onRoleUpdated]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    localPeer.on(\"metadata-updated\", handleUpdateMetadata);\n    localPeer.on(\"permissions-updated\", handlePermissionsUpdated);\n    localPeer.on(\"role-updated\", handleRoleUpdated);\n    return () => {\n      localPeer.off(\"metadata-updated\", handleUpdateMetadata);\n      localPeer.off(\"permissions-updated\", handlePermissionsUpdated);\n      localPeer.off(\"role-updated\", handleRoleUpdated);\n    };\n  }, []);\n  const updateMetadata = localPeer.updateMetadata;\n  const updateRole = localPeer.updateRole;\n  return {\n    peerId,\n    role,\n    permissions,\n    metadata,\n    updateMetadata,\n    updateRole\n  };\n};\n\n\n//# sourceMappingURL=chunk-WXZG5WHF.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstV1haRzVXSEYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCOztBQUU3QjtBQUN5RDtBQUN6RDtBQUNBLFVBQVUsZUFBZSxFQUFFLHVFQUFtQjtBQUM5QztBQUNBO0FBQ0Esd0NBQXdDLCtDQUFRO0FBQ2hEO0FBQ0E7QUFDQSwwQkFBMEIsK0NBQVE7QUFDbEMsa0NBQWtDLCtDQUFRO0FBQzFDO0FBQ0E7QUFDQSwrQkFBK0Isa0RBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsbUNBQW1DLGtEQUFXO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw0QkFBNEIsa0RBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstV1haRzVXSEYuanM/MTBjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VIdWRkbGUwMV9kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLUI2TTI1NE1WLmpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2VMb2NhbFBlZXIudHNcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgdXNlTG9jYWxQZWVyID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgaHVkZGxlQ2xpZW50IH0gPSB1c2VIdWRkbGUwMV9kZWZhdWx0KCk7XG4gIGNvbnN0IGxvY2FsUGVlciA9IGh1ZGRsZUNsaWVudC5sb2NhbFBlZXI7XG4gIGNvbnN0IHBlZXJJZCA9IGxvY2FsUGVlci5wZWVySWQ7XG4gIGNvbnN0IFtwZXJtaXNzaW9ucywgc2V0UGVybWlzc2lvbnNdID0gdXNlU3RhdGUoXG4gICAgbG9jYWxQZWVyLnBlcm1pc3Npb25zXG4gICk7XG4gIGNvbnN0IFtyb2xlLCBzZXRSb2xlXSA9IHVzZVN0YXRlKGxvY2FsUGVlci5yb2xlKTtcbiAgY29uc3QgW21ldGFkYXRhLCBzZXRNZXRhZGF0YV0gPSB1c2VTdGF0ZShcbiAgICBsb2NhbFBlZXIuZ2V0TWV0YWRhdGEoKSA/PyBudWxsXG4gICk7XG4gIGNvbnN0IGhhbmRsZVVwZGF0ZU1ldGFkYXRhID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IG5ld01ldGFkYXRhID0gbG9jYWxQZWVyLmdldE1ldGFkYXRhKCk7XG4gICAgaWYgKHByb3BzPy5vbk1ldGFkYXRhVXBkYXRlZClcbiAgICAgIHByb3BzLm9uTWV0YWRhdGFVcGRhdGVkKG5ld01ldGFkYXRhKTtcbiAgICBzZXRNZXRhZGF0YShuZXdNZXRhZGF0YSk7XG4gIH0sIFtwcm9wcz8ub25NZXRhZGF0YVVwZGF0ZWRdKTtcbiAgY29uc3QgaGFuZGxlUGVybWlzc2lvbnNVcGRhdGVkID0gdXNlQ2FsbGJhY2soXG4gICAgKGRhdGEpID0+IHtcbiAgICAgIGlmIChwcm9wcz8ub25QZXJtaXNzaW9uc1VwZGF0ZWQpIHtcbiAgICAgICAgcHJvcHMub25QZXJtaXNzaW9uc1VwZGF0ZWQoZGF0YS5wZXJtaXNzaW9ucyk7XG4gICAgICB9XG4gICAgICBpZiAoZGF0YS5yb2xlICE9PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKHByb3BzPy5vblJvbGVVcGRhdGVkKVxuICAgICAgICAgIHByb3BzLm9uUm9sZVVwZGF0ZWQoZGF0YS5yb2xlKTtcbiAgICAgICAgc2V0Um9sZShkYXRhLnJvbGUpO1xuICAgICAgfVxuICAgICAgc2V0UGVybWlzc2lvbnMoZGF0YS5wZXJtaXNzaW9ucyk7XG4gICAgfSxcbiAgICBbcHJvcHM/Lm9uUGVybWlzc2lvbnNVcGRhdGVkLCBwcm9wcz8ub25Sb2xlVXBkYXRlZF1cbiAgKTtcbiAgY29uc3QgaGFuZGxlUm9sZVVwZGF0ZWQgPSB1c2VDYWxsYmFjayhcbiAgICAoZGF0YSkgPT4ge1xuICAgICAgaWYgKHByb3BzPy5vblJvbGVVcGRhdGVkKVxuICAgICAgICBwcm9wcy5vblJvbGVVcGRhdGVkKGRhdGEucm9sZSk7XG4gICAgICBzZXRSb2xlKGRhdGEucm9sZSk7XG4gICAgfSxcbiAgICBbcHJvcHM/Lm9uUm9sZVVwZGF0ZWRdXG4gICk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9jYWxQZWVyLm9uKFwibWV0YWRhdGEtdXBkYXRlZFwiLCBoYW5kbGVVcGRhdGVNZXRhZGF0YSk7XG4gICAgbG9jYWxQZWVyLm9uKFwicGVybWlzc2lvbnMtdXBkYXRlZFwiLCBoYW5kbGVQZXJtaXNzaW9uc1VwZGF0ZWQpO1xuICAgIGxvY2FsUGVlci5vbihcInJvbGUtdXBkYXRlZFwiLCBoYW5kbGVSb2xlVXBkYXRlZCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGxvY2FsUGVlci5vZmYoXCJtZXRhZGF0YS11cGRhdGVkXCIsIGhhbmRsZVVwZGF0ZU1ldGFkYXRhKTtcbiAgICAgIGxvY2FsUGVlci5vZmYoXCJwZXJtaXNzaW9ucy11cGRhdGVkXCIsIGhhbmRsZVBlcm1pc3Npb25zVXBkYXRlZCk7XG4gICAgICBsb2NhbFBlZXIub2ZmKFwicm9sZS11cGRhdGVkXCIsIGhhbmRsZVJvbGVVcGRhdGVkKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIGNvbnN0IHVwZGF0ZU1ldGFkYXRhID0gbG9jYWxQZWVyLnVwZGF0ZU1ldGFkYXRhO1xuICBjb25zdCB1cGRhdGVSb2xlID0gbG9jYWxQZWVyLnVwZGF0ZVJvbGU7XG4gIHJldHVybiB7XG4gICAgcGVlcklkLFxuICAgIHJvbGUsXG4gICAgcGVybWlzc2lvbnMsXG4gICAgbWV0YWRhdGEsXG4gICAgdXBkYXRlTWV0YWRhdGEsXG4gICAgdXBkYXRlUm9sZVxuICB9O1xufTtcblxuZXhwb3J0IHtcbiAgdXNlTG9jYWxQZWVyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstV1haRzVXSEYuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-WXZG5WHF.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/chunk-ZHIPWAZF.js":
/*!*************************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/chunk-ZHIPWAZF.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLocalAudio: function() { return /* binding */ useLocalAudio; }\n/* harmony export */ });\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n// src/hooks/useLocalAudio.ts\n\nvar useLocalAudio = (props) => {\n  const { huddleClient } = (0,_chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_0__.useHuddle01_default)();\n  const localPeer = huddleClient.localPeer;\n  const [stream, setStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    localPeer.getStream({ label: \"audio\" })\n  );\n  const handleStreamFetched = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (data.mediaKind === \"mic\") {\n        setStream(data.stream);\n      }\n    },\n    []\n  );\n  const handleStreamPlayable = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (data.label === \"audio\") {\n        if (props?.onProduceStart)\n          props?.onProduceStart(data.producer);\n      }\n    },\n    [props?.onProduceStart]\n  );\n  const handleStreamClosed = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (data) => {\n      if (data.label === \"audio\") {\n        setStream(null);\n        if (props?.onProduceClose)\n          props?.onProduceClose(data.label);\n      }\n    },\n    [props?.onProduceClose]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    localPeer.on(\"stream-fetched\", handleStreamFetched);\n    localPeer.on(\"stream-playable\", handleStreamPlayable);\n    localPeer.on(\"stream-closed\", handleStreamClosed);\n    return () => {\n      localPeer.off(\"stream-fetched\", handleStreamFetched);\n      localPeer.off(\"stream-playable\", handleStreamPlayable);\n      localPeer.off(\"stream-closed\", handleStreamClosed);\n    };\n  }, []);\n  const enableAudio = localPeer.enableAudio;\n  const disableAudio = localPeer.disableAudio;\n  const track = stream?.getAudioTracks()[0] || null;\n  const isAudioOn = stream ? true : false;\n  const replaceAudioStream = localPeer.replaceAudioStream;\n  const changeAudioSource = localPeer.changeAudioSource;\n  return {\n    stream,\n    track,\n    isAudioOn,\n    enableAudio,\n    disableAudio,\n    replaceAudioStream,\n    changeAudioSource\n  };\n};\n\n\n//# sourceMappingURL=chunk-ZHIPWAZF.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstWkhJUFdBWkYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRTZCOztBQUU3QjtBQUN5RDtBQUN6RDtBQUNBLFVBQVUsZUFBZSxFQUFFLHVFQUFtQjtBQUM5QztBQUNBLDhCQUE4QiwrQ0FBUTtBQUN0QywwQkFBMEIsZ0JBQWdCO0FBQzFDO0FBQ0EsOEJBQThCLGtEQUFXO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwrQkFBK0Isa0RBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkJBQTZCLGtEQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvY2h1bmstWkhJUFdBWkYuanM/NmE3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VIdWRkbGUwMV9kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLUI2TTI1NE1WLmpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2VMb2NhbEF1ZGlvLnRzXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZUxvY2FsQXVkaW8gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBodWRkbGVDbGllbnQgfSA9IHVzZUh1ZGRsZTAxX2RlZmF1bHQoKTtcbiAgY29uc3QgbG9jYWxQZWVyID0gaHVkZGxlQ2xpZW50LmxvY2FsUGVlcjtcbiAgY29uc3QgW3N0cmVhbSwgc2V0U3RyZWFtXSA9IHVzZVN0YXRlKFxuICAgIGxvY2FsUGVlci5nZXRTdHJlYW0oeyBsYWJlbDogXCJhdWRpb1wiIH0pXG4gICk7XG4gIGNvbnN0IGhhbmRsZVN0cmVhbUZldGNoZWQgPSB1c2VDYWxsYmFjayhcbiAgICAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGRhdGEubWVkaWFLaW5kID09PSBcIm1pY1wiKSB7XG4gICAgICAgIHNldFN0cmVhbShkYXRhLnN0cmVhbSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbXVxuICApO1xuICBjb25zdCBoYW5kbGVTdHJlYW1QbGF5YWJsZSA9IHVzZUNhbGxiYWNrKFxuICAgIChkYXRhKSA9PiB7XG4gICAgICBpZiAoZGF0YS5sYWJlbCA9PT0gXCJhdWRpb1wiKSB7XG4gICAgICAgIGlmIChwcm9wcz8ub25Qcm9kdWNlU3RhcnQpXG4gICAgICAgICAgcHJvcHM/Lm9uUHJvZHVjZVN0YXJ0KGRhdGEucHJvZHVjZXIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3Byb3BzPy5vblByb2R1Y2VTdGFydF1cbiAgKTtcbiAgY29uc3QgaGFuZGxlU3RyZWFtQ2xvc2VkID0gdXNlQ2FsbGJhY2soXG4gICAgKGRhdGEpID0+IHtcbiAgICAgIGlmIChkYXRhLmxhYmVsID09PSBcImF1ZGlvXCIpIHtcbiAgICAgICAgc2V0U3RyZWFtKG51bGwpO1xuICAgICAgICBpZiAocHJvcHM/Lm9uUHJvZHVjZUNsb3NlKVxuICAgICAgICAgIHByb3BzPy5vblByb2R1Y2VDbG9zZShkYXRhLmxhYmVsKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtwcm9wcz8ub25Qcm9kdWNlQ2xvc2VdXG4gICk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9jYWxQZWVyLm9uKFwic3RyZWFtLWZldGNoZWRcIiwgaGFuZGxlU3RyZWFtRmV0Y2hlZCk7XG4gICAgbG9jYWxQZWVyLm9uKFwic3RyZWFtLXBsYXlhYmxlXCIsIGhhbmRsZVN0cmVhbVBsYXlhYmxlKTtcbiAgICBsb2NhbFBlZXIub24oXCJzdHJlYW0tY2xvc2VkXCIsIGhhbmRsZVN0cmVhbUNsb3NlZCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGxvY2FsUGVlci5vZmYoXCJzdHJlYW0tZmV0Y2hlZFwiLCBoYW5kbGVTdHJlYW1GZXRjaGVkKTtcbiAgICAgIGxvY2FsUGVlci5vZmYoXCJzdHJlYW0tcGxheWFibGVcIiwgaGFuZGxlU3RyZWFtUGxheWFibGUpO1xuICAgICAgbG9jYWxQZWVyLm9mZihcInN0cmVhbS1jbG9zZWRcIiwgaGFuZGxlU3RyZWFtQ2xvc2VkKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIGNvbnN0IGVuYWJsZUF1ZGlvID0gbG9jYWxQZWVyLmVuYWJsZUF1ZGlvO1xuICBjb25zdCBkaXNhYmxlQXVkaW8gPSBsb2NhbFBlZXIuZGlzYWJsZUF1ZGlvO1xuICBjb25zdCB0cmFjayA9IHN0cmVhbT8uZ2V0QXVkaW9UcmFja3MoKVswXSB8fCBudWxsO1xuICBjb25zdCBpc0F1ZGlvT24gPSBzdHJlYW0gPyB0cnVlIDogZmFsc2U7XG4gIGNvbnN0IHJlcGxhY2VBdWRpb1N0cmVhbSA9IGxvY2FsUGVlci5yZXBsYWNlQXVkaW9TdHJlYW07XG4gIGNvbnN0IGNoYW5nZUF1ZGlvU291cmNlID0gbG9jYWxQZWVyLmNoYW5nZUF1ZGlvU291cmNlO1xuICByZXR1cm4ge1xuICAgIHN0cmVhbSxcbiAgICB0cmFjayxcbiAgICBpc0F1ZGlvT24sXG4gICAgZW5hYmxlQXVkaW8sXG4gICAgZGlzYWJsZUF1ZGlvLFxuICAgIHJlcGxhY2VBdWRpb1N0cmVhbSxcbiAgICBjaGFuZ2VBdWRpb1NvdXJjZVxuICB9O1xufTtcblxuZXhwb3J0IHtcbiAgdXNlTG9jYWxBdWRpb1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVpISVBXQVpGLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/chunk-ZHIPWAZF.js\n"));

/***/ }),

/***/ "./node_modules/@huddle01/react/dist/hooks/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@huddle01/react/dist/hooks/index.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useActivePeers: function() { return /* reexport safe */ _chunk_I25VV2KW_js__WEBPACK_IMPORTED_MODULE_12__.useActivePeers; },\n/* harmony export */   useDataMessage: function() { return /* reexport safe */ _chunk_GLWXPHO2_js__WEBPACK_IMPORTED_MODULE_14__.useDataMessage; },\n/* harmony export */   useDevices: function() { return /* reexport safe */ _chunk_Q455X6V5_js__WEBPACK_IMPORTED_MODULE_15__.useDevices; },\n/* harmony export */   useHuddle01: function() { return /* reexport safe */ _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_18__.useHuddle01_default; },\n/* harmony export */   useLobby: function() { return /* reexport safe */ _chunk_LBJPY6EC_js__WEBPACK_IMPORTED_MODULE_16__.useLobby; },\n/* harmony export */   useLocalAudio: function() { return /* reexport safe */ _chunk_ZHIPWAZF_js__WEBPACK_IMPORTED_MODULE_17__.useLocalAudio; },\n/* harmony export */   useLocalMedia: function() { return /* reexport safe */ _chunk_4CTXM224_js__WEBPACK_IMPORTED_MODULE_4__.useLocalMedia; },\n/* harmony export */   useLocalPeer: function() { return /* reexport safe */ _chunk_WXZG5WHF_js__WEBPACK_IMPORTED_MODULE_5__.useLocalPeer; },\n/* harmony export */   useLocalScreenShare: function() { return /* reexport safe */ _chunk_QRCO6N2Q_js__WEBPACK_IMPORTED_MODULE_6__.useLocalScreenShare; },\n/* harmony export */   useLocalVideo: function() { return /* reexport safe */ _chunk_2A5YT7TT_js__WEBPACK_IMPORTED_MODULE_7__.useLocalVideo; },\n/* harmony export */   usePeerIds: function() { return /* reexport safe */ _chunk_GHJMS5CC_js__WEBPACK_IMPORTED_MODULE_8__.usePeerIds; },\n/* harmony export */   useRemoteAudio: function() { return /* reexport safe */ _chunk_2L7BLA5J_js__WEBPACK_IMPORTED_MODULE_9__.useRemoteAudio; },\n/* harmony export */   useRemoteMedia: function() { return /* reexport safe */ _chunk_LW4AZNF4_js__WEBPACK_IMPORTED_MODULE_10__.useRemoteMedia; },\n/* harmony export */   useRemotePeer: function() { return /* reexport safe */ _chunk_WVJAK2DM_js__WEBPACK_IMPORTED_MODULE_11__.useRemotePeer; },\n/* harmony export */   useRemoteScreenShare: function() { return /* reexport safe */ _chunk_QLGC3Y2L_js__WEBPACK_IMPORTED_MODULE_0__.useRemoteScreenShare; },\n/* harmony export */   useRemoteVideo: function() { return /* reexport safe */ _chunk_PO6RE2AG_js__WEBPACK_IMPORTED_MODULE_1__.useRemoteVideo; },\n/* harmony export */   useRoom: function() { return /* reexport safe */ _chunk_BA3RUF65_js__WEBPACK_IMPORTED_MODULE_13__.useRoom; },\n/* harmony export */   useRoomControls: function() { return /* reexport safe */ _chunk_6KE737T5_js__WEBPACK_IMPORTED_MODULE_2__.useRoomControls; },\n/* harmony export */   useRoomMetadata: function() { return /* reexport safe */ _chunk_D54XXTSD_js__WEBPACK_IMPORTED_MODULE_3__.useRoomMetadata; }\n/* harmony export */ });\n/* harmony import */ var _chunk_QLGC3Y2L_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunk-QLGC3Y2L.js */ \"./node_modules/@huddle01/react/dist/chunk-QLGC3Y2L.js\");\n/* harmony import */ var _chunk_PO6RE2AG_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../chunk-PO6RE2AG.js */ \"./node_modules/@huddle01/react/dist/chunk-PO6RE2AG.js\");\n/* harmony import */ var _chunk_6KE737T5_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../chunk-6KE737T5.js */ \"./node_modules/@huddle01/react/dist/chunk-6KE737T5.js\");\n/* harmony import */ var _chunk_D54XXTSD_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chunk-D54XXTSD.js */ \"./node_modules/@huddle01/react/dist/chunk-D54XXTSD.js\");\n/* harmony import */ var _chunk_4CTXM224_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../chunk-4CTXM224.js */ \"./node_modules/@huddle01/react/dist/chunk-4CTXM224.js\");\n/* harmony import */ var _chunk_WXZG5WHF_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../chunk-WXZG5WHF.js */ \"./node_modules/@huddle01/react/dist/chunk-WXZG5WHF.js\");\n/* harmony import */ var _chunk_QRCO6N2Q_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../chunk-QRCO6N2Q.js */ \"./node_modules/@huddle01/react/dist/chunk-QRCO6N2Q.js\");\n/* harmony import */ var _chunk_2A5YT7TT_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../chunk-2A5YT7TT.js */ \"./node_modules/@huddle01/react/dist/chunk-2A5YT7TT.js\");\n/* harmony import */ var _chunk_GHJMS5CC_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../chunk-GHJMS5CC.js */ \"./node_modules/@huddle01/react/dist/chunk-GHJMS5CC.js\");\n/* harmony import */ var _chunk_2L7BLA5J_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../chunk-2L7BLA5J.js */ \"./node_modules/@huddle01/react/dist/chunk-2L7BLA5J.js\");\n/* harmony import */ var _chunk_LW4AZNF4_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../chunk-LW4AZNF4.js */ \"./node_modules/@huddle01/react/dist/chunk-LW4AZNF4.js\");\n/* harmony import */ var _chunk_WVJAK2DM_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../chunk-WVJAK2DM.js */ \"./node_modules/@huddle01/react/dist/chunk-WVJAK2DM.js\");\n/* harmony import */ var _chunk_I25VV2KW_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../chunk-I25VV2KW.js */ \"./node_modules/@huddle01/react/dist/chunk-I25VV2KW.js\");\n/* harmony import */ var _chunk_BA3RUF65_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../chunk-BA3RUF65.js */ \"./node_modules/@huddle01/react/dist/chunk-BA3RUF65.js\");\n/* harmony import */ var _chunk_GLWXPHO2_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../chunk-GLWXPHO2.js */ \"./node_modules/@huddle01/react/dist/chunk-GLWXPHO2.js\");\n/* harmony import */ var _chunk_Q455X6V5_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../chunk-Q455X6V5.js */ \"./node_modules/@huddle01/react/dist/chunk-Q455X6V5.js\");\n/* harmony import */ var _chunk_LBJPY6EC_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../chunk-LBJPY6EC.js */ \"./node_modules/@huddle01/react/dist/chunk-LBJPY6EC.js\");\n/* harmony import */ var _chunk_ZHIPWAZF_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../chunk-ZHIPWAZF.js */ \"./node_modules/@huddle01/react/dist/chunk-ZHIPWAZF.js\");\n/* harmony import */ var _chunk_B6M254MV_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../chunk-B6M254MV.js */ \"./node_modules/@huddle01/react/dist/chunk-B6M254MV.js\");\n/* harmony import */ var _chunk_IL7JOYA6_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../chunk-IL7JOYA6.js */ \"./node_modules/@huddle01/react/dist/chunk-IL7JOYA6.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGh1ZGRsZTAxL3JlYWN0L2Rpc3QvaG9va3MvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBQ0E7QUFxQjVCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BodWRkbGUwMS9yZWFjdC9kaXN0L2hvb2tzL2luZGV4LmpzPzVlNGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlUmVtb3RlU2NyZWVuU2hhcmVcbn0gZnJvbSBcIi4uL2NodW5rLVFMR0MzWTJMLmpzXCI7XG5pbXBvcnQge1xuICB1c2VSZW1vdGVWaWRlb1xufSBmcm9tIFwiLi4vY2h1bmstUE82UkUyQUcuanNcIjtcbmltcG9ydCB7XG4gIHVzZVJvb21Db250cm9sc1xufSBmcm9tIFwiLi4vY2h1bmstNktFNzM3VDUuanNcIjtcbmltcG9ydCB7XG4gIHVzZVJvb21NZXRhZGF0YVxufSBmcm9tIFwiLi4vY2h1bmstRDU0WFhUU0QuanNcIjtcbmltcG9ydCB7XG4gIHVzZUxvY2FsTWVkaWFcbn0gZnJvbSBcIi4uL2NodW5rLTRDVFhNMjI0LmpzXCI7XG5pbXBvcnQge1xuICB1c2VMb2NhbFBlZXJcbn0gZnJvbSBcIi4uL2NodW5rLVdYWkc1V0hGLmpzXCI7XG5pbXBvcnQge1xuICB1c2VMb2NhbFNjcmVlblNoYXJlXG59IGZyb20gXCIuLi9jaHVuay1RUkNPNk4yUS5qc1wiO1xuaW1wb3J0IHtcbiAgdXNlTG9jYWxWaWRlb1xufSBmcm9tIFwiLi4vY2h1bmstMkE1WVQ3VFQuanNcIjtcbmltcG9ydCB7XG4gIHVzZVBlZXJJZHNcbn0gZnJvbSBcIi4uL2NodW5rLUdISk1TNUNDLmpzXCI7XG5pbXBvcnQge1xuICB1c2VSZW1vdGVBdWRpb1xufSBmcm9tIFwiLi4vY2h1bmstMkw3QkxBNUouanNcIjtcbmltcG9ydCB7XG4gIHVzZVJlbW90ZU1lZGlhXG59IGZyb20gXCIuLi9jaHVuay1MVzRBWk5GNC5qc1wiO1xuaW1wb3J0IHtcbiAgdXNlUmVtb3RlUGVlclxufSBmcm9tIFwiLi4vY2h1bmstV1ZKQUsyRE0uanNcIjtcbmltcG9ydCB7XG4gIHVzZUFjdGl2ZVBlZXJzXG59IGZyb20gXCIuLi9jaHVuay1JMjVWVjJLVy5qc1wiO1xuaW1wb3J0IHtcbiAgdXNlUm9vbVxufSBmcm9tIFwiLi4vY2h1bmstQkEzUlVGNjUuanNcIjtcbmltcG9ydCB7XG4gIHVzZURhdGFNZXNzYWdlXG59IGZyb20gXCIuLi9jaHVuay1HTFdYUEhPMi5qc1wiO1xuaW1wb3J0IHtcbiAgdXNlRGV2aWNlc1xufSBmcm9tIFwiLi4vY2h1bmstUTQ1NVg2VjUuanNcIjtcbmltcG9ydCB7XG4gIHVzZUxvYmJ5XG59IGZyb20gXCIuLi9jaHVuay1MQkpQWTZFQy5qc1wiO1xuaW1wb3J0IHtcbiAgdXNlTG9jYWxBdWRpb1xufSBmcm9tIFwiLi4vY2h1bmstWkhJUFdBWkYuanNcIjtcbmltcG9ydCB7XG4gIHVzZUh1ZGRsZTAxX2RlZmF1bHRcbn0gZnJvbSBcIi4uL2NodW5rLUI2TTI1NE1WLmpzXCI7XG5pbXBvcnQgXCIuLi9jaHVuay1JTDdKT1lBNi5qc1wiO1xuZXhwb3J0IHtcbiAgdXNlQWN0aXZlUGVlcnMsXG4gIHVzZURhdGFNZXNzYWdlLFxuICB1c2VEZXZpY2VzLFxuICB1c2VIdWRkbGUwMV9kZWZhdWx0IGFzIHVzZUh1ZGRsZTAxLFxuICB1c2VMb2JieSxcbiAgdXNlTG9jYWxBdWRpbyxcbiAgdXNlTG9jYWxNZWRpYSxcbiAgdXNlTG9jYWxQZWVyLFxuICB1c2VMb2NhbFNjcmVlblNoYXJlLFxuICB1c2VMb2NhbFZpZGVvLFxuICB1c2VQZWVySWRzLFxuICB1c2VSZW1vdGVBdWRpbyxcbiAgdXNlUmVtb3RlTWVkaWEsXG4gIHVzZVJlbW90ZVBlZXIsXG4gIHVzZVJlbW90ZVNjcmVlblNoYXJlLFxuICB1c2VSZW1vdGVWaWRlbyxcbiAgdXNlUm9vbSxcbiAgdXNlUm9vbUNvbnRyb2xzLFxuICB1c2VSb29tTWV0YWRhdGFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@huddle01/react/dist/hooks/index.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["pages/_app","main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2FUsers%2Framit%2Fhealphi%2Fhealyphi%2Fsrc%2Fpages%2F%5BroomId%5D%2Findex.jsx&page=%2F%5BroomId%5D!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);